(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function m1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},pl={};var N_;function p1(){if(N_)return pl;N_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=e,pl.jsx=i,pl.jsxs=i,pl}var I_;function g1(){return I_||(I_=1,Nd.exports=p1()),Nd.exports}var b=g1(),Id={exports:{}},Ee={};var D_;function y1(){if(D_)return Ee;D_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,ee={};function se(M,X,ie){this.props=M,this.context=X,this.refs=ee,this.updater=ie||Q}se.prototype.isReactComponent={},se.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},se.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function oe(){}oe.prototype=se.prototype;function $(M,X,ie){this.props=M,this.context=X,this.refs=ee,this.updater=ie||Q}var he=$.prototype=new oe;he.constructor=$,W(he,se.prototype),he.isPureReactComponent=!0;var He=Array.isArray;function Re(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(M,X,ie){var ae=ie.ref;return{$$typeof:r,type:M,key:X,ref:ae!==void 0?ae:null,props:ie}}function V(M,X){return N(M.type,X,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return X[ie]})}var x=/\/+/g;function st(M,X){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):X.toString(36)}function Ct(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Re,Re):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,ie,ae,ve){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var ze=!1;if(M===null)ze=!0;else switch(we){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(M.$$typeof){case r:case e:ze=!0;break;case S:return ze=M._init,G(ze(M._payload),X,ie,ae,ve)}}if(ze)return ve=ve(M),ze=ae===""?"."+st(M,0):ae,He(ve)?(ie="",ze!=null&&(ie=ze.replace(x,"$&/")+"/"),G(ve,X,ie,"",function(ir){return ir})):ve!=null&&(I(ve)&&(ve=V(ve,ie+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+ze)),X.push(ve)),1;ze=0;var Nt=ae===""?".":ae+":";if(He(M))for(var rt=0;rt<M.length;rt++)ae=M[rt],we=Nt+st(ae,rt),ze+=G(ae,X,ie,we,ve);else if(rt=H(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(ae=M.next()).done;)ae=ae.value,we=Nt+st(ae,rt++),ze+=G(ae,X,ie,we,ve);else if(we==="object"){if(typeof M.then=="function")return G(Ct(M),X,ie,ae,ve);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ne(M,X,ie){if(M==null)return M;var ae=[],ve=0;return G(M,ae,"","",function(we){return X.call(ie,we,ve++)}),ae}function de(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ne,forEach:function(M,X,ie){ne(M,function(){X.apply(this,arguments)},ie)},count:function(M){var X=0;return ne(M,function(){X++}),X},toArray:function(M){return ne(M,function(X){return X})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ee.Activity=A,Ee.Children=Ge,Ee.Component=se,Ee.Fragment=i,Ee.Profiler=l,Ee.PureComponent=$,Ee.StrictMode=a,Ee.Suspense=v,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(M,X,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=W({},M.props),ve=M.key;if(X!=null)for(we in X.key!==void 0&&(ve=""+X.key),X)!w.call(X,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&X.ref===void 0||(ae[we]=X[we]);var we=arguments.length-2;if(we===1)ae.children=ie;else if(1<we){for(var ze=Array(we),Nt=0;Nt<we;Nt++)ze[Nt]=arguments[Nt+2];ae.children=ze}return N(M.type,ve,ae)},Ee.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ee.createElement=function(M,X,ie){var ae,ve={},we=null;if(X!=null)for(ae in X.key!==void 0&&(we=""+X.key),X)w.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=X[ae]);var ze=arguments.length-2;if(ze===1)ve.children=ie;else if(1<ze){for(var Nt=Array(ze),rt=0;rt<ze;rt++)Nt[rt]=arguments[rt+2];ve.children=Nt}if(M&&M.defaultProps)for(ae in ze=M.defaultProps,ze)ve[ae]===void 0&&(ve[ae]=ze[ae]);return N(M,we,ve)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:p,render:M}},Ee.isValidElement=I,Ee.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:de}},Ee.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},Ee.startTransition=function(M){var X=R.T,ie={};R.T=ie;try{var ae=M(),ve=R.S;ve!==null&&ve(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Re,Le)}catch(we){Le(we)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),R.T=X}},Ee.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ee.use=function(M){return R.H.use(M)},Ee.useActionState=function(M,X,ie){return R.H.useActionState(M,X,ie)},Ee.useCallback=function(M,X){return R.H.useCallback(M,X)},Ee.useContext=function(M){return R.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,X){return R.H.useDeferredValue(M,X)},Ee.useEffect=function(M,X){return R.H.useEffect(M,X)},Ee.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Ee.useId=function(){return R.H.useId()},Ee.useImperativeHandle=function(M,X,ie){return R.H.useImperativeHandle(M,X,ie)},Ee.useInsertionEffect=function(M,X){return R.H.useInsertionEffect(M,X)},Ee.useLayoutEffect=function(M,X){return R.H.useLayoutEffect(M,X)},Ee.useMemo=function(M,X){return R.H.useMemo(M,X)},Ee.useOptimistic=function(M,X){return R.H.useOptimistic(M,X)},Ee.useReducer=function(M,X,ie){return R.H.useReducer(M,X,ie)},Ee.useRef=function(M){return R.H.useRef(M)},Ee.useState=function(M){return R.H.useState(M)},Ee.useSyncExternalStore=function(M,X,ie){return R.H.useSyncExternalStore(M,X,ie)},Ee.useTransition=function(){return R.H.useTransition()},Ee.version="19.2.4",Ee}var O_;function Tm(){return O_||(O_=1,Id.exports=y1()),Id.exports}var ye=Tm();const _1=m1(ye);var Dd={exports:{}},gl={},Od={exports:{}},Md={};var M_;function v1(){return M_||(M_=1,(function(r){function e(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var Le=de-1>>>1,Ge=G[Le];if(0<l(Ge,ne))G[Le]=ne,G[de]=Ge,de=Le;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var Le=0,Ge=G.length,M=Ge>>>1;Le<M;){var X=2*(Le+1)-1,ie=G[X],ae=X+1,ve=G[ae];if(0>l(ie,de))ae<Ge&&0>l(ve,ie)?(G[Le]=ve,G[ae]=de,Le=ae):(G[Le]=ie,G[X]=de,Le=X);else if(ae<Ge&&0>l(ve,de))G[Le]=ve,G[ae]=de,Le=ae;else break e}}return ne}function l(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],S=1,A=null,D=3,H=!1,Q=!1,W=!1,ee=!1,se=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function he(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=G)a(y),ne.sortIndex=ne.expirationTime,e(v,ne);else break;ne=i(y)}}function He(G){if(W=!1,he(G),!Q)if(i(v)!==null)Q=!0,Re||(Re=!0,k());else{var ne=i(y);ne!==null&&Ct(He,ne.startTime-G)}}var Re=!1,R=-1,w=5,N=-1;function V(){return ee?!0:!(r.unstable_now()-N<w)}function I(){if(ee=!1,Re){var G=r.unstable_now();N=G;var ne=!0;try{e:{Q=!1,W&&(W=!1,oe(R),R=-1),H=!0;var de=D;try{t:{for(he(G),A=i(v);A!==null&&!(A.expirationTime>G&&V());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,D=A.priorityLevel;var Ge=Le(A.expirationTime<=G);if(G=r.unstable_now(),typeof Ge=="function"){A.callback=Ge,he(G),ne=!0;break t}A===i(v)&&a(v),he(G)}else a(v);A=i(v)}if(A!==null)ne=!0;else{var M=i(y);M!==null&&Ct(He,M.startTime-G),ne=!1}}break e}finally{A=null,D=de,H=!1}ne=void 0}}finally{ne?k():Re=!1}}}var k;if(typeof $=="function")k=function(){$(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,st=x.port2;x.port1.onmessage=I,k=function(){st.postMessage(null)}}else k=function(){se(I,0)};function Ct(G,ne){R=se(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ne=3;break;default:ne=D}var de=D;D=ne;try{return G()}finally{D=de}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=D;D=G;try{return ne()}finally{D=de}},r.unstable_scheduleCallback=function(G,ne,de){var Le=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Le+de:Le):de=Le,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,G={id:S++,callback:ne,priorityLevel:G,startTime:de,expirationTime:Ge,sortIndex:-1},de>Le?(G.sortIndex=de,e(y,G),i(v)===null&&G===i(y)&&(W?(oe(R),R=-1):W=!0,Ct(He,de-Le))):(G.sortIndex=Ge,e(v,G),Q||H||(Q=!0,Re||(Re=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ne=D;return function(){var de=D;D=ne;try{return G.apply(this,arguments)}finally{D=de}}}})(Md)),Md}var V_;function b1(){return V_||(V_=1,Od.exports=v1()),Od.exports}var Vd={exports:{}},Xt={};var k_;function E1(){if(k_)return Xt;k_=1;var r=Tm();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,S)},Xt.flushSync=function(v){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=S,a.d.f()}},Xt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Xt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Xt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,A=p(S,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:H}):S==="script"&&a.d.X(v,{crossOrigin:A,integrity:D,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Xt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,A=p(S,y.crossOrigin);a.d.L(v,S,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Xt.requestFormReset=function(v){a.d.r(v)},Xt.unstable_batchedUpdates=function(v,y){return v(y)},Xt.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var z_;function T1(){if(z_)return Vd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=E1(),Vd.exports}var U_;function S1(){if(U_)return gl;U_=1;var r=b1(),e=Tm(),i=T1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),t;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),$=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case se:return"Profiler";case ee:return"StrictMode";case He:return"Suspense";case Re:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case $:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case he:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var Ct=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Le=[],Ge=-1;function M(t){return{current:t}}function X(t){0>Ge||(t.current=Le[Ge],Le[Ge]=null,Ge--)}function ie(t,n){Ge++,Le[Ge]=t.current,t.current=n}var ae=M(null),ve=M(null),we=M(null),ze=M(null);function Nt(t,n){switch(ie(we,n),ie(ve,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zy(n),t=Wy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ae),ie(ae,t)}function rt(){X(ae),X(ve),X(we)}function ir(t){t.memoizedState!==null&&ie(ze,t);var n=ae.current,s=Wy(n,t.type);n!==s&&(ie(ve,t),ie(ae,s))}function Jr(t){ve.current===t&&(X(ae),X(ve)),ze.current===t&&(X(ze),hl._currentValue=de)}var $r,Zr;function ei(t){if($r===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+t+Zr}var co=!1;function sr(t,n){if(!t||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ei(s):""}function ho(t,n){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return sr(t.type,!1);case 11:return sr(t.type.render,!1);case 1:return sr(t.type,!0);case 31:return ei("Activity");default:return""}}function fo(t){try{var n="",s=null;do n+=ho(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,It=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Zl=r.unstable_requestPaint,en=r.unstable_now,rr=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,os=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,eu=r.log,tu=r.unstable_setDisableYieldValue,jn=null,Pt=null;function Tn(t){if(typeof eu=="function"&&tu(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(jn,t)}catch{}}var ht=Math.clz32?Math.clz32:iu,nu=Math.log,Wr=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(nu(t)/Wr|0)|0}var ti=256,ar=262144,_t=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(g&=E,g!==0?h=ni(g):s||(s=E&~t,s!==0&&(h=ni(s))))):(E=o&~f,E!==0?h=ni(E):g!==0?h=ni(g):s||(s=o&~t,s!==0&&(h=ni(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function si(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function or(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,s,o,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(s=g&~s;0<s;){var F=31-ht(s),Y=1<<F;E[F]=0,C[F]=-1;var P=j[F];if(P!==null)for(j[F]=null,F=0;F<P.length;F++){var q=P[F];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&lr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function lr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ht(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function go(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-ht(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function yo(t,n){var s=n&-n;return s=(s&42)!==0?1:ur(s),(s&(t.suspendedLanes|n))!==0?0:s}function ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function Bn(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var qn=Math.random().toString(36).slice(2),vt="__reactFiber$"+qn,kt="__reactProps$"+qn,ri="__reactContainer$"+qn,ea="__reactEvents$"+qn,Vh="__reactListeners$"+qn,au="__reactHandles$"+qn,ou="__reactResources$"+qn,ai="__reactMarker$"+qn;function ta(t){delete t[vt],delete t[kt],delete t[ea],delete t[Vh],delete t[au]}function oi(t){var n=t[vt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ri]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=a_(t);t!==null;){if(s=t[vt])return s;t=a_(t)}return n}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[vt]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function li(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[ai]=!0}var _o=new Set,vo={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(vo[t]=n,t=0;t<n.length;t++)_o.add(n[t])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function lu(t){return yt.call(To,t)?!0:yt.call(Eo,t)?!1:bo.test(t)?To[t]=!0:(Eo[t]=!0,!1)}function na(t,n,s){if(lu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function dn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Et(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=ls(t)?"checked":"value";t._valueTracker=So(t,n,""+t[n])}}function cr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=ls(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hr=/[\n"\\]/g;function sn(t){return t.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(t,n,s,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ao(t,g,zt(n)):s!=null?Ao(t,g,zt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+zt(E):t.removeAttribute("name")}function uu(t,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}s=s!=null?""+zt(s):"",n=n!=null?""+zt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ke(t)}function Ao(t,n,s){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function us(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+zt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function cu(t,n,s){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+zt(s):""}function cs(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ct(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=zt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Ke(t)}function rn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function xo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(t,f,n[f])}function sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Ro=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,fi=null;function fr(t){var n=Sn(t);if(n&&(t=n.stateNode)){var s=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ia(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[kt]||null;if(!h)throw Error(a(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&cr(o)}break e;case"textarea":cu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&us(t,!!s.multiple,n,!1)}}}var aa=!1;function ds(t,n,s){if(aa)return t(n,s);aa=!0;try{var o=t(n);return o}finally{if(aa=!1,(fs!==null||fi!==null)&&(rc(),fs&&(n=fs,t=fi,fi=fs=null,fr(n),t)))for(n=0;n<t.length;n++)fr(t[n])}}function Fn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[kt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(wn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{dr=!1}var di=null,Co=null,mr=null;function No(){if(mr)return mr;var t,n=Co,s=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return mr=h.slice(t,1<o?1-o:void 0)}function pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function Gn(){return!1}function Bt(t){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Bt(Mi),ms=A({},Mi,{view:0,detail:0}),Io=Bt(ms),ps,oa,pi,la=A({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(ps=t.screenX-pi.screenX,oa=t.screenY-pi.screenY):oa=ps=0,pi=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Do=Bt(la),gr=A({},la,{dataTransfer:0}),du=Bt(gr),mu=A({},ms,{relatedTarget:0}),yr=Bt(mu),Oo=A({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Bt(Oo),ua=A({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=Bt(ua),yu=A({},Mi,{data:0}),gi=Bt(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function gs(){return Eu}var tn=A({},ms,{key:function(t){if(t.key){var n=_u[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=Bt(tn),Su=A({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Bt(Su),u=A({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=Bt(u),_=A({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Bt(_),U=A({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Bt(U),te=A({},Mi,{newState:0,oldState:0}),Se=Bt(te),ft=[9,13,27,32],Be=wn&&"CompositionEvent"in window,at=null;wn&&"documentMode"in document&&(at=document.documentMode);var xn=wn&&"TextEvent"in window&&!at,yi=wn&&(!Be||at&&8<at&&11>=at),Kn=" ",Qn=!1;function _r(t,n){switch(t){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function LE(t,n){switch(t){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Qn=!0,Kn);case"textInput":return t=n.data,t===Kn&&Qn?null:t;default:return null}}function jE(t,n){if(ha)return t==="compositionend"||!Be&&_r(t,n)?(t=No(),mr=Co=di=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!PE[t.type]:n==="textarea"}function cp(t,n,s,o){fs?fi?fi.push(o):fi=[o]:fs=o,n=fc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Mo=null,Vo=null;function BE(t){Ky(t,0)}function Au(t){var n=fn(t);if(cr(n))return t}function hp(t,n){if(t==="change")return n}var fp=!1;if(wn){var kh;if(wn){var zh="oninput"in document;if(!zh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),zh=typeof dp.oninput=="function"}kh=zh}else kh=!1;fp=kh&&(!document.documentMode||9<document.documentMode)}function mp(){Mo&&(Mo.detachEvent("onpropertychange",pp),Vo=Mo=null)}function pp(t){if(t.propertyName==="value"&&Au(Vo)){var n=[];cp(n,Vo,t,An(t)),ds(BE,n)}}function qE(t,n,s){t==="focusin"?(mp(),Mo=n,Vo=s,Mo.attachEvent("onpropertychange",pp)):t==="focusout"&&mp()}function HE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Vo)}function FE(t,n){if(t==="click")return Au(n)}function GE(t,n){if(t==="input"||t==="change")return Au(n)}function KE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:KE;function ko(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!yt.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yp(t,n){var s=gp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gp(s)}}function _p(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?_p(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=hi(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var QE=wn&&"documentMode"in document&&11>=document.documentMode,fa=null,Lh=null,zo=null,jh=!1;function bp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||fa==null||fa!==hi(o)||(o=fa,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&ko(zo,o)||(zo=o,o=fc(Lh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=fa)))}function vr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var da={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},Ph={},Ep={};wn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function br(t){if(Ph[t])return Ph[t];if(!da[t])return t;var n=da[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ep)return Ph[t]=n[s];return t}var Tp=br("animationend"),Sp=br("animationiteration"),Ap=br("animationstart"),YE=br("transitionrun"),XE=br("transitionstart"),JE=br("transitioncancel"),wp=br("transitionend"),xp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Yn(t,n){xp.set(t,n),ui(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],ma=0,qh=0;function xu(){for(var t=ma,n=qh=ma=0;n<t;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Rp(s,h,f)}}function Ru(t,n,s,o){Rn[ma++]=t,Rn[ma++]=n,Rn[ma++]=s,Rn[ma++]=o,qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Hh(t,n,s,o){return Ru(t,n,s,o),Cu(t)}function Er(t,n){return Ru(t,null,null,n),Cu(t)}function Rp(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ht(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Cu(t){if(50<sl)throw sl=0,Wf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var pa={};function $E(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,o){return new $E(t,n,s,o)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Cp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,s,o,h,f){var g=0;if(o=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=n1(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=pn(31,s,n,h),t.elementType=N,t.lanes=f,t;case W:return Tr(s.children,h,f,n);case ee:g=8,h|=24;break;case se:return t=pn(12,s,n,h|2),t.elementType=se,t.lanes=f,t;case He:return t=pn(13,s,n,h),t.elementType=He,t.lanes=f,t;case Re:return t=pn(19,s,n,h),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:g=10;break e;case oe:g=9;break e;case he:g=11;break e;case R:g=14;break e;case w:g=16,o=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=pn(g,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Tr(t,n,s,o){return t=pn(7,t,o,n),t.lanes=s,t}function Gh(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function Np(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ip=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var s=Ip.get(t);return s!==void 0?s:(n={value:t,source:n,stack:fo(n)},Ip.set(t,n),n)}return{value:t,source:n,stack:fo(n)}}var ga=[],ya=0,Iu=null,Uo=0,Nn=[],In=0,ys=null,_i=1,vi="";function zi(t,n){ga[ya++]=Uo,ga[ya++]=Iu,Iu=t,Uo=n}function Dp(t,n,s){Nn[In++]=_i,Nn[In++]=vi,Nn[In++]=ys,ys=t;var o=_i;t=vi;var h=32-ht(o)-1;o&=~(1<<h),s+=1;var f=32-ht(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,_i=1<<32-ht(n)+h|s<<h|o,vi=f+t}else _i=1<<f|s<<h|o,vi=t}function Qh(t){t.return!==null&&(zi(t,1),Dp(t,1,0))}function Yh(t){for(;t===Iu;)Iu=ga[--ya],ga[ya]=null,Uo=ga[--ya],ga[ya]=null;for(;t===ys;)ys=Nn[--In],Nn[In]=null,vi=Nn[--In],Nn[In]=null,_i=Nn[--In],Nn[In]=null}function Op(t,n){Nn[In++]=_i,Nn[In++]=vi,Nn[In++]=ys,_i=n.id,vi=n.overflow,ys=t}var qt=null,et=null,ke=!1,_s=null,Dn=!1,Xh=Error(a(519));function vs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Cn(n,t)),Xh}function Mp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vt]=t,n[kt]=o,s){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Ne(al[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),cs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Jy(n.textContent,s)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||vs(t,!0)}function Vp(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:qt=qt.return}}function _a(t){if(t!==qt)return!1;if(!ke)return Vp(t),ke=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||md(t.type,t.memoizedProps)),s=!s),s&&et&&vs(t),Vp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));et=r_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));et=r_(t)}else n===27?(n=et,Ms(t.type)?(t=vd,vd=null,et=t):et=n):et=qt?Mn(t.stateNode.nextSibling):null;return!0}function Sr(){et=qt=null,ke=!1}function Jh(){var t=_s;return t!==null&&(un===null?un=t:un.push.apply(un,t),_s=null),t}function Lo(t){_s===null?_s=[t]:_s.push(t)}var $h=M(null),Ar=null,Ui=null;function bs(t,n,s){ie($h,n._currentValue),n._currentValue=s}function Li(t){t._currentValue=$h.current,X($h)}function Zh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Wh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ze.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hl):t=[hl])}h=h.return}t!==null&&Wh(n,t,s,o),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wr(t){Ar=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return kp(Ar,t)}function Ou(t,n){return Ar===null&&wr(t),kp(t,n)}function kp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(t===null)throw Error(a(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return s}var ZE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},WE=r.unstable_scheduleCallback,eT=r.unstable_NormalPriority,Tt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new ZE,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&WE(eT,function(){t.controller.abort()})}var Po=null,tf=0,ba=0,Ea=null;function tT(t,n){if(Po===null){var s=Po=[];tf=0,ba=rd(),Ea={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(zp,zp),n}function zp(){if(--tf===0&&Po!==null){Ea!==null&&(Ea.status="fulfilled");var t=Po;Po=null,ba=0,Ea=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Up=G.S;G.S=function(t,n){by=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&tT(t,n),Up!==null&&Up(t,n)};var xr=M(null);function nf(){var t=xr.current;return t!==null?t:We.pooledCache}function Mu(t,n){n===null?ie(xr,xr.current):ie(xr,n.pool)}function Lp(){var t=nf();return t===null?null:{parent:Tt._currentValue,pool:t}}var Ta=Error(a(460)),sf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t}throw Cr=n,Ta}}function Rr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Cr=s,Ta):s}}var Cr=null;function Bp(){if(Cr===null)throw Error(a(459));var t=Cr;return Cr=null,t}function qp(t){if(t===Ta||t===Vu)throw Error(a(483))}var Sa=null,Bo=0;function zu(t){var n=Bo;return Bo+=1,Sa===null&&(Sa=[]),Pp(Sa,t,n)}function qo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hp(t){function n(z,O){if(t){var L=z.deletions;L===null?(z.deletions=[O],z.flags|=16):L.push(O)}}function s(z,O){if(!t)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function o(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=ki(z,O),z.index=0,z.sibling=null,z}function f(z,O,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<O?(z.flags|=67108866,O):L):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,O,L,K){return O===null||O.tag!==6?(O=Gh(L,z.mode,K),O.return=z,O):(O=h(O,L),O.return=z,O)}function C(z,O,L,K){var fe=L.type;return fe===W?F(z,O,L.props.children,K,L.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Rr(fe)===O.type)?(O=h(O,L.props),qo(O,L),O.return=z,O):(O=Nu(L.type,L.key,L.props,null,z.mode,K),qo(O,L),O.return=z,O)}function j(z,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Kh(L,z.mode,K),O.return=z,O):(O=h(O,L.children||[]),O.return=z,O)}function F(z,O,L,K,fe){return O===null||O.tag!==7?(O=Tr(L,z.mode,K,fe),O.return=z,O):(O=h(O,L),O.return=z,O)}function Y(z,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gh(""+O,z.mode,L),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return L=Nu(O.type,O.key,O.props,null,z.mode,L),qo(L,O),L.return=z,L;case Q:return O=Kh(O,z.mode,L),O.return=z,O;case w:return O=Rr(O),Y(z,O,L)}if(Ct(O)||k(O))return O=Tr(O,z.mode,L,null),O.return=z,O;if(typeof O.then=="function")return Y(z,zu(O),L);if(O.$$typeof===$)return Y(z,Ou(z,O),L);Uu(z,O)}return null}function P(z,O,L,K){var fe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return fe!==null?null:E(z,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===fe?C(z,O,L,K):null;case Q:return L.key===fe?j(z,O,L,K):null;case w:return L=Rr(L),P(z,O,L,K)}if(Ct(L)||k(L))return fe!==null?null:F(z,O,L,K,null);if(typeof L.then=="function")return P(z,O,zu(L),K);if(L.$$typeof===$)return P(z,O,Ou(z,L),K);Uu(z,L)}return null}function q(z,O,L,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(L)||null,E(O,z,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return z=z.get(K.key===null?L:K.key)||null,C(O,z,K,fe);case Q:return z=z.get(K.key===null?L:K.key)||null,j(O,z,K,fe);case w:return K=Rr(K),q(z,O,L,K,fe)}if(Ct(K)||k(K))return z=z.get(L)||null,F(O,z,K,fe,null);if(typeof K.then=="function")return q(z,O,L,zu(K),fe);if(K.$$typeof===$)return q(z,O,L,Ou(O,K),fe);Uu(O,K)}return null}function le(z,O,L,K){for(var fe=null,je=null,ue=O,xe=O=0,De=null;ue!==null&&xe<L.length;xe++){ue.index>xe?(De=ue,ue=null):De=ue.sibling;var Pe=P(z,ue,L[xe],K);if(Pe===null){ue===null&&(ue=De);break}t&&ue&&Pe.alternate===null&&n(z,ue),O=f(Pe,O,xe),je===null?fe=Pe:je.sibling=Pe,je=Pe,ue=De}if(xe===L.length)return s(z,ue),ke&&zi(z,xe),fe;if(ue===null){for(;xe<L.length;xe++)ue=Y(z,L[xe],K),ue!==null&&(O=f(ue,O,xe),je===null?fe=ue:je.sibling=ue,je=ue);return ke&&zi(z,xe),fe}for(ue=o(ue);xe<L.length;xe++)De=q(ue,z,xe,L[xe],K),De!==null&&(t&&De.alternate!==null&&ue.delete(De.key===null?xe:De.key),O=f(De,O,xe),je===null?fe=De:je.sibling=De,je=De);return t&&ue.forEach(function(Ls){return n(z,Ls)}),ke&&zi(z,xe),fe}function pe(z,O,L,K){if(L==null)throw Error(a(151));for(var fe=null,je=null,ue=O,xe=O=0,De=null,Pe=L.next();ue!==null&&!Pe.done;xe++,Pe=L.next()){ue.index>xe?(De=ue,ue=null):De=ue.sibling;var Ls=P(z,ue,Pe.value,K);if(Ls===null){ue===null&&(ue=De);break}t&&ue&&Ls.alternate===null&&n(z,ue),O=f(Ls,O,xe),je===null?fe=Ls:je.sibling=Ls,je=Ls,ue=De}if(Pe.done)return s(z,ue),ke&&zi(z,xe),fe;if(ue===null){for(;!Pe.done;xe++,Pe=L.next())Pe=Y(z,Pe.value,K),Pe!==null&&(O=f(Pe,O,xe),je===null?fe=Pe:je.sibling=Pe,je=Pe);return ke&&zi(z,xe),fe}for(ue=o(ue);!Pe.done;xe++,Pe=L.next())Pe=q(ue,z,xe,Pe.value,K),Pe!==null&&(t&&Pe.alternate!==null&&ue.delete(Pe.key===null?xe:Pe.key),O=f(Pe,O,xe),je===null?fe=Pe:je.sibling=Pe,je=Pe);return t&&ue.forEach(function(d1){return n(z,d1)}),ke&&zi(z,xe),fe}function Ze(z,O,L,K){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var fe=L.key;O!==null;){if(O.key===fe){if(fe=L.type,fe===W){if(O.tag===7){s(z,O.sibling),K=h(O,L.props.children),K.return=z,z=K;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Rr(fe)===O.type){s(z,O.sibling),K=h(O,L.props),qo(K,L),K.return=z,z=K;break e}s(z,O);break}else n(z,O);O=O.sibling}L.type===W?(K=Tr(L.props.children,z.mode,K,L.key),K.return=z,z=K):(K=Nu(L.type,L.key,L.props,null,z.mode,K),qo(K,L),K.return=z,z=K)}return g(z);case Q:e:{for(fe=L.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(z,O.sibling),K=h(O,L.children||[]),K.return=z,z=K;break e}else{s(z,O);break}else n(z,O);O=O.sibling}K=Kh(L,z.mode,K),K.return=z,z=K}return g(z);case w:return L=Rr(L),Ze(z,O,L,K)}if(Ct(L))return le(z,O,L,K);if(k(L)){if(fe=k(L),typeof fe!="function")throw Error(a(150));return L=fe.call(L),pe(z,O,L,K)}if(typeof L.then=="function")return Ze(z,O,zu(L),K);if(L.$$typeof===$)return Ze(z,O,Ou(z,L),K);Uu(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(z,O.sibling),K=h(O,L),K.return=z,z=K):(s(z,O),K=Gh(L,z.mode,K),K.return=z,z=K),g(z)):s(z,O)}return function(z,O,L,K){try{Bo=0;var fe=Ze(z,O,L,K);return Sa=null,fe}catch(ue){if(ue===Ta||ue===Vu)throw ue;var je=pn(29,ue,null,z.mode);return je.lanes=K,je.return=z,je}}}var Nr=Hp(!0),Fp=Hp(!1),Es=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(t),Rp(t,null,s),n}return Ru(t,o,n,s),Cu(t)}function Ho(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,go(t,s)}}function of(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var lf=!1;function Fo(){if(lf){var t=Ea;if(t!==null)throw t}}function Go(t,n,s,o){lf=!1;var h=t.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,F=j=C=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Ie&P)===P:(o&P)===P){P!==0&&P===ba&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,pe=E;P=n;var Ze=s;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){Y=le.call(Ze,Y,P);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,P=typeof le=="function"?le.call(Ze,Y,P):le,P==null)break e;Y=A({},Y,P);break e;case 2:Es=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,C=Y):F=F.next=q,g|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cs|=g,t.lanes=g,t.memoizedState=Y}}function Gp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Kp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Gp(s[t],n)}var Aa=M(null),Lu=M(0);function Qp(t,n){t=Qi,ie(Lu,t),ie(Aa,n),Qi=t|n.baseLanes}function uf(){ie(Lu,Qi),ie(Aa,Aa.current)}function cf(){Qi=Lu.current,X(Aa),X(Lu)}var gn=M(null),On=null;function As(t){var n=t.alternate;ie(dt,dt.current&1),ie(gn,t),On===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(On=t)}function hf(t){ie(dt,dt.current),ie(gn,t),On===null&&(On=t)}function Yp(t){t.tag===22?(ie(dt,dt.current),ie(gn,t),On===null&&(On=t)):ws()}function ws(){ie(dt,dt.current),ie(gn,gn.current)}function yn(t){X(gn),On===t&&(On=null),X(dt)}var dt=M(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,Ae=null,Je=null,St=null,Pu=!1,wa=!1,Ir=!1,Bu=0,Ko=0,xa=null,iT=0;function ut(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!mn(t[s],n[s]))return!1;return!0}function df(t,n,s,o,h,f){return ji=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Dg:Cf,Ir=!1,f=s(o,h),Ir=!1,wa&&(f=Jp(n,s,o,h)),Xp(t),f}function Xp(t){G.H=Xo;var n=Je!==null&&Je.next!==null;if(ji=0,St=Je=Ae=null,Pu=!1,Ko=0,xa=null,n)throw Error(a(300));t===null||At||(t=t.dependencies,t!==null&&Du(t)&&(At=!0))}function Jp(t,n,s,o){Ae=t;var h=0;do{if(wa&&(xa=null),Ko=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,St=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Og,f=n(s,o)}while(wa);return f}function sT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Qo(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ae.flags|=1024),n}function mf(){var t=Bu!==0;return Bu=0,t}function pf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function gf(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}ji=0,St=Je=Ae=null,wa=!1,Ko=Bu=0,xa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=t:St=St.next=t,St}function mt(){if(Je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=St===null?Ae.memoizedState:St.next;if(n!==null)St=n,Je=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?Ae.memoizedState=St=t:St=St.next=t}return St}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var n=Ko;return Ko+=1,xa===null&&(xa=[]),t=Pp(xa,t,n),n=Ae,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Dg:Cf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===$)return Ht(t)}throw Error(a(438,String(t)))}function yf(t){var n=null,s=Ae.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),Ae.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function Pi(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=mt();return _f(n,Je,t)}function _f(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,j=n,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ie&Y)===Y:(ji&Y)===Y){var P=j.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===ba&&(F=!0);else if((ji&P)===P){j=j.next,P===ba&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=Y,g=f):C=C.next=Y,Ae.lanes|=P,Cs|=P;Y=j.action,Ir&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else P={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=P,g=f):C=C.next=P,Ae.lanes|=Y,Cs|=Y;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=E,!mn(f,t.memoizedState)&&(At=!0,F&&(s=Ea,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function vf(t){var n=mt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(At=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function $p(t,n,s){var o=Ae,h=mt(),f=ke;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!mn((Je||h).memoizedState,s);if(g&&(h.memoizedState=s,At=!0),h=h.queue,Tf(eg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},Wp.bind(null,o,h,s,n),null),We===null)throw Error(a(349));f||(ji&127)!==0||Zp(o,n,s)}return s}function Zp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ae.updateQueue,n===null?(n=qu(),Ae.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Wp(t,n,s,o){n.value=s,n.getSnapshot=o,tg(n)&&ng(t)}function eg(t,n,s){return s(function(){tg(n)&&ng(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!mn(t,s)}catch{return!0}}function ng(t){var n=Er(t,2);n!==null&&cn(n,t,2)}function bf(t){var n=nn();if(typeof t=="function"){var s=t;if(t=s(),Ir){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function ig(t,n,s,o){return t.baseState=s,_f(t,Je,typeof o=="function"?o:Pi)}function rT(t,n,s,o,h){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),rg(t,n,E)}catch(j){Ef(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),rg(t,n,f)}catch(j){Ef(t,n,j)}}function rg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ag(t,n,o)},function(o){return Ef(t,n,o)}):ag(t,n,s)}function ag(t,n,s){n.status="fulfilled",n.value=s,og(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,sg(t,s)))}function Ef(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==o)}t.action=null}function og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function ug(t,n){if(ke){var s=We.formState;if(s!==null){e:{var o=Ae;if(ke){if(et){t:{for(var h=et,f=Dn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){et=Mn(h.nextSibling),o=h.data==="F!";break e}}vs(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},s.queue=o,s=Cg.bind(null,Ae,o),o.dispatch=s,o=bf(!1),f=Rf.bind(null,Ae,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=rT.bind(null,Ae,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function cg(t){var n=mt();return hg(n,Je,t)}function hg(t,n,s){if(n=_f(t,n,lg)[0],t=Fu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===Ta?Vu:g}else o=n;n=mt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ae.flags|=2048,Ra(9,{destroy:void 0},aT.bind(null,h,s),null)),[o,f,t]}function aT(t,n){t.action=n}function fg(t){var n=mt(),s=Je;if(s!==null)return hg(n,s,t);mt(),n=n.memoizedState,s=mt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ra(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=qu(),Ae.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function dg(){return mt().memoizedState}function Gu(t,n,s,o){var h=nn();Ae.flags|=t,h.memoizedState=Ra(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(t,n,s,o){var h=mt();o=o===void 0?null:o;var f=h.memoizedState.inst;Je!==null&&o!==null&&ff(o,Je.memoizedState.deps)?h.memoizedState=Ra(n,f,s,o):(Ae.flags|=t,h.memoizedState=Ra(1|n,f,s,o))}function mg(t,n){Gu(8390656,8,t,n)}function Tf(t,n){Ku(2048,8,t,n)}function oT(t){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=qu(),Ae.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function pg(t){var n=mt().memoizedState;return oT({ref:n,nextImpl:t}),function(){if((qe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(t,n){return Ku(4,2,t,n)}function yg(t,n){return Ku(4,4,t,n)}function _g(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function vg(t,n,s){s=s!=null?s.concat([t]):null,Ku(4,4,_g.bind(null,n,t),s)}function Sf(){}function bg(t,n){var s=mt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Eg(t,n){var s=mt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=t(),Ir){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function Af(t,n,s){return s===void 0||(ji&1073741824)!==0&&(Ie&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ty(),Ae.lanes|=t,Cs|=t,s)}function Tg(t,n,s,o){return mn(s,n)?s:Aa.current!==null?(t=Af(t,s,o),mn(t,n)||(At=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(Ie&261930)===0?(At=!0,t.memoizedState=s):(t=Ty(),Ae.lanes|=t,Cs|=t,n)}function Sg(t,n,s,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rf(t,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=nT(C,o);Yo(t,n,F,bn(t))}else Yo(t,n,o,bn(t))}catch(Y){Yo(t,n,{then:function(){},status:"rejected",reason:Y},bn())}finally{ne.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function lT(){}function wf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Ag(t).queue;Sg(t,h,n,de,s===null?lT:function(){return wg(t),s(o)})}function Ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=Ag(t);n.next===null&&(n=t.alternate.memoizedState),Yo(t,n.next.queue,{},bn())}function xf(){return Ht(hl)}function xg(){return mt().memoizedState}function Rg(){return mt().memoizedState}function uT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();t=Ts(s);var o=Ss(n,t,s);o!==null&&(cn(o,n,s),Ho(o,n,s)),n={cache:ef()},t.payload=n;return}n=n.return}}function cT(t,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Ng(n,s):(s=Hh(t,n,s,o),s!==null&&(cn(s,t,o),Ig(s,n,o)))}function Cg(t,n,s){var o=bn();Yo(t,n,s,o)}function Yo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Ng(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Ru(t,n,h,0),We===null&&xu(),!1}catch{}if(s=Hh(t,n,h,o),s!==null)return cn(s,t,o),Ig(s,n,o),!0}return!1}function Rf(t,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=Hh(t,s,o,2),n!==null&&cn(n,t,2)}function Qu(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function Ng(t,n){wa=Pu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ig(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,go(t,s)}}var Xo={readContext:Ht,use:Hu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Xo.useEffectEvent=ut;var Dg={readContext:Ht,use:Hu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:mg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Gu(4194308,4,_g.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var s=nn();n=n===void 0?null:n;var o=t();if(Ir){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Ir){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=cT.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=bf(t);var n=t.queue,s=Cg.bind(null,Ae,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=nn();return Af(s,t,n)},useTransition:function(){var t=bf(!1);return t=Sg.bind(null,Ae,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Ae,h=nn();if(ke){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),We===null)throw Error(a(349));(Ie&127)!==0||Zp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(eg.bind(null,o,f,t),[t]),o.flags|=2048,Ra(9,{destroy:void 0},Wp.bind(null,o,f,s,n),null),s},useId:function(){var t=nn(),n=We.identifierPrefix;if(ke){var s=vi,o=_i;s=(o&~(1<<32-ht(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=iT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:ug,useActionState:ug,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,Ae,!0,s),s.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return nn().memoizedState=uT.bind(null,Ae)},useEffectEvent:function(t){var n=nn(),s={impl:t};return n.memoizedState=s,function(){if((qe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Ht,use:Hu,useCallback:bg,useContext:Ht,useEffect:Tf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Fu,useRef:dg,useState:function(){return Fu(Pi)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=mt();return Tg(s,Je.memoizedState,t,n)},useTransition:function(){var t=Fu(Pi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Qo(t),n]},useSyncExternalStore:$p,useId:xg,useHostTransitionStatus:xf,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var s=mt();return ig(s,Je,t,n)},useMemoCache:yf,useCacheRefresh:Rg};Cf.useEffectEvent=pg;var Og={readContext:Ht,use:Hu,useCallback:bg,useContext:Ht,useEffect:Tf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:vf,useRef:dg,useState:function(){return vf(Pi)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=mt();return Je===null?Af(s,t,n):Tg(s,Je.memoizedState,t,n)},useTransition:function(){var t=vf(Pi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Qo(t),n]},useSyncExternalStore:$p,useId:xg,useHostTransitionStatus:xf,useFormState:fg,useActionState:fg,useOptimistic:function(t,n){var s=mt();return Je!==null?ig(s,Je,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Rg};Og.useEffectEvent=pg;function Nf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var If={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=bn(),h=Ts(o);h.payload=n,s!=null&&(h.callback=s),n=Ss(t,h,o),n!==null&&(cn(n,t,o),Ho(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=bn(),h=Ts(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ss(t,h,o),n!==null&&(cn(n,t,o),Ho(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=bn(),o=Ts(s);o.tag=2,n!=null&&(o.callback=n),n=Ss(t,o,s),n!==null&&(cn(n,t,s),Ho(n,t,s))}};function Mg(t,n,s,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function Vg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function Dr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function kg(t){wu(t)}function zg(t){console.error(t)}function Ug(t){wu(t)}function Yu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(t,n)},s}function jg(t){return t=Ts(t),t.tag=3,t}function Pg(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Lg(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Lg(n,s,o),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function hT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?ac():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(t,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(t,o,h)),!1}throw Error(a(435,s.tag))}return nd(t,o,h),ac(),!1}if(ke)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(t=Error(a(422),{cause:o}),Lo(Cn(t,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Lo(Cn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Cn(o,s),h=Df(t.stateNode,o,h),of(t,h),ct!==4&&(ct=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,s),il===null?il=[f]:il.push(f),ct!==4&&(ct=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Df(s.stateNode,o,t),of(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jg(h),Pg(h,t,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),At=!1;function Ft(t,n,s,o){n.child=t===null?Fp(n,null,s,o):Nr(n,t.child,s,o)}function Bg(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return wr(n),o=df(t,n,s,g,f,h),E=mf(),t!==null&&!At?(pf(t,n,h),Bi(t,n,h)):(ke&&E&&Qh(n),n.flags|=1,Ft(t,n,o,h),n.child)}function qg(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,o,h)):(t=Nu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Pf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(g,o)&&t.ref===n.ref)return Bi(t,n,h)}return n.flags|=1,t=ki(f,o),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(ko(f,o)&&t.ref===n.ref)if(At=!1,n.pendingProps=o=f,Pf(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,Bi(t,n,h)}return Mf(t,n,s,o,h)}function Fg(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gg(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Qp(n,f):uf(),Yp(n);else return o=n.lanes=536870912,Gg(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Mu(n,f.cachePool),Qp(n,f),ws(),n.memoizedState=null):(t!==null&&Mu(n,null),uf(),ws());return Ft(t,n,h,s),n.child}function Jo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(t,n,s,o,h){var f=nf();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Mu(n,null),uf(),Yp(n),t!==null&&va(t,n,o,!0),n.childLanes=h,null}function Xu(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Kg(t,n,s){return Nr(n,t.child,null,s),t=Xu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function fT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ke){if(o.mode==="hidden")return t=Xu(n,o),n.lanes=536870912,Jo(null,t);if(hf(n),(t=et)?(t=s_(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Np(t),s.return=n,n.child=s,qt=n,et=null)):t=null,t===null)throw vs(n);return n.lanes=536870912,null}return Xu(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Kg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(At||va(t,n,s,!1),h=(s&t.childLanes)!==0,At||h){if(o=We,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Er(t,g),cn(o,t,g),Of;ac(),n=Kg(t,n,s)}else t=f.treeContext,et=Mn(g.nextSibling),qt=n,ke=!0,_s=null,Dn=!1,t!==null&&Op(n,t),n=Xu(n,o),n.flags|=4096;return n}return t=ki(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mf(t,n,s,o,h){return wr(n),s=df(t,n,s,o,void 0,h),o=mf(),t!==null&&!At?(pf(t,n,h),Bi(t,n,h)):(ke&&o&&Qh(n),n.flags|=1,Ft(t,n,s,h),n.child)}function Qg(t,n,s,o,h,f){return wr(n),n.updateQueue=null,s=Jp(n,o,s,h),Xp(t),o=mf(),t!==null&&!At?(pf(t,n,f),Bi(t,n,f)):(ke&&o&&Qh(n),n.flags|=1,Ft(t,n,s,f),n.child)}function Yg(t,n,s,o,h){if(wr(n),n.stateNode===null){var f=pa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ht(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ht(g):pa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Dr(s,E);f.props=C;var j=f.context,F=s.contextType;g=pa,typeof F=="object"&&F!==null&&(g=Ht(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Vg(n,f,o,g),Es=!1;var P=n.memoizedState;f.state=P,Go(n,o,f,h),Fo(),j=n.memoizedState,E||P!==j||Es?(typeof Y=="function"&&(Nf(n,s,Y,o),j=n.memoizedState),(C=Es||Mg(n,s,C,o,P,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(t,n),g=n.memoizedProps,F=Dr(s,g),f.props=F,Y=n.pendingProps,P=f.context,j=s.contextType,C=pa,typeof j=="object"&&j!==null&&(C=Ht(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||P!==C)&&Vg(n,f,o,C),Es=!1,P=n.memoizedState,f.state=P,Go(n,o,f,h),Fo();var q=n.memoizedState;g!==Y||P!==q||Es||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),q=n.memoizedState),(F=Es||Mg(n,s,F,o,P,q,C)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Nr(n,t.child,null,h),n.child=Nr(n,null,s,h)):Ft(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Bi(t,n,h),t}function Xg(t,n,s,o){return Sr(),n.flags|=256,Ft(t,n,s,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:Lp()}}function zf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=vn),t}function Jg(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ke){if(h?As(n):ws(),(t=et)?(t=s_(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Np(t),s.return=n,n.child=s,qt=n,et=null)):t=null,t===null)throw vs(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ws(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=Tr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(s),o.childLanes=zf(t,g,s),n.memoizedState=Vf,Jo(null,o)):(As(n),Uf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Lf(t,n,s)):n.memoizedState!==null?(ws(),n.child=t.child,n.flags|=128,n=null):(ws(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=Tr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Nr(n,t.child,null,s),o=n.child,o.memoizedState=kf(s),o.childLanes=zf(t,g,s),n.memoizedState=Vf,n=Jo(null,o));else if(As(n),_d(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Lf(t,n,s)}else if(At||va(t,n,s,!1),g=(s&t.childLanes)!==0,At||g){if(g=We,g!==null&&(o=yo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Er(t,o),cn(g,t,o),Of;yd(E)||ac(),n=Lf(t,n,s)}else yd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,et=Mn(E.nextSibling),qt=n,ke=!0,_s=null,Dn=!1,t!==null&&Op(n,t),n=Uf(n,o.children),n.flags|=4096);return n}return h?(ws(),E=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=ki(j,E):(E=Tr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=kf(s):(h=E.cachePool,h!==null?(C=Tt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Lp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=zf(t,g,s),n.memoizedState=Vf,Jo(t.child,o)):(As(n),s=t.child,t=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Uf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function Lf(t,n,s){return Nr(n,t.child,null,s),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Zh(t.return,n,s)}function jf(t,n,s,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Zg(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=dt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(dt,g),Ft(t,n,o,s),o=ke?Uo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,s,n);else if(t.tag===19)$g(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}jf(n,!0,s,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(va(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ki(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ki(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function dT(t,n,s){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),bs(n,Tt,t.memoizedState.cache),Sr();break;case 27:case 5:ir(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Jg(t,n,s):(As(n),t=Bi(t,n,s),t!==null?t.sibling:null);As(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(va(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Zg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(dt,dt.current),o)break;return null;case 22:return n.lanes=0,Fg(t,n,s,n.pendingProps);case 24:bs(n,Tt,t.memoizedState.cache)}return Bi(t,n,s)}function Wg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Pf(t,s)&&(n.flags&128)===0)return At=!1,dT(t,n,s);At=(t.flags&131072)!==0}else At=!1,ke&&(n.flags&1048576)!==0&&Dp(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Rr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(o=Dr(t,o),n.tag=1,n=Yg(null,n,t,o,s)):(n.tag=0,n=Mf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===he){n.tag=11,n=Bg(null,n,t,o,s);break e}else if(h===R){n.tag=14,n=qg(null,n,t,o,s);break e}}throw n=st(t)||t,Error(a(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Dr(o,n.pendingProps),Yg(t,n,o,h,s);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(t,n),Go(n,o,null,s);var g=n.memoizedState;if(o=g.cache,bs(n,Tt,o),o!==f.cache&&Wh(n,[Tt],s,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(t,n,o,s);break e}else if(o!==h){h=Cn(Error(a(424)),n),Lo(h),n=Xg(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,et=Mn(t.firstChild),qt=n,ke=!0,_s=null,Dn=!0,s=Fp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sr(),o===h){n=Bi(t,n,s);break e}Ft(t,n,o,s)}n=n.child}return n;case 26:return Ju(t,n),t===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:ke||(s=n.type,t=n.pendingProps,o=dc(we.current).createElement(s),o[vt]=n,o[kt]=t,Gt(o,s,t),bt(o),n.stateNode=o):n.memoizedState=c_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ir(n),t===null&&ke&&(o=n.stateNode=o_(n.type,n.pendingProps,we.current),qt=n,Dn=!0,h=et,Ms(n.type)?(vd=h,et=Mn(o.firstChild)):et=h),Ft(t,n,n.pendingProps.children,s),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ke&&((h=o=et)&&(o=HT(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,qt=n,et=Mn(o.firstChild),Dn=!1,h=!0):h=!1),h||vs(n)),ir(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,md(h,f)?o=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,sT,null,null,s),hl._currentValue=h),Ju(t,n),Ft(t,n,o,s),n.child;case 6:return t===null&&ke&&((t=s=et)&&(s=FT(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,qt=n,et=null,t=!0):t=!1),t||vs(n)),null;case 13:return Jg(t,n,s);case 4:return Nt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Nr(n,null,o,s):Ft(t,n,o,s),n.child;case 11:return Bg(t,n,n.type,n.pendingProps,s);case 7:return Ft(t,n,n.pendingProps,s),n.child;case 8:return Ft(t,n,n.pendingProps.children,s),n.child;case 12:return Ft(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,bs(n,n.type,o.value),Ft(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wr(n),h=Ht(h),o=o(h),n.flags|=1,Ft(t,n,o,s),n.child;case 14:return qg(t,n,n.type,n.pendingProps,s);case 15:return Hg(t,n,n.type,n.pendingProps,s);case 19:return Zg(t,n,s);case 31:return fT(t,n,s);case 22:return Fg(t,n,s,n.pendingProps);case 24:return wr(n),o=Ht(Tt),t===null?(h=nf(),h===null&&(h=We,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),bs(n,Tt,h)):((t.lanes&s)!==0&&(af(t,n),Go(n,null,null,s),Fo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,Tt,o)):(o=f.cache,bs(n,Tt,o),o!==h.cache&&Wh(n,[Tt],s,!0))),Ft(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(t){t.flags|=4}function Bf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(xy())t.flags|=8192;else throw Cr=ku,sf}else t.flags&=-16777217}function ey(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(n))if(xy())t.flags|=8192;else throw Cr=ku,sf}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?su():536870912,t.lanes|=n,Da|=n)}function $o(t,n){if(!ke)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function mT(t,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Tt),rt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(_a(n)?qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qi(n),f!==null?(tt(n),ey(n,f)):(tt(n),Bf(n,h,null,o,s))):f?f!==t.memoizedState?(qi(n),tt(n),ey(n,f)):(tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&qi(n),tt(n),Bf(n,h,t,o,s)),null;case 27:if(Jr(n),s=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return tt(n),null}t=ae.current,_a(n)?Mp(n):(t=o_(h,o,s),n.stateNode=t,qi(n))}return tt(n),null;case 5:if(Jr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return tt(n),null}if(f=ae.current,_a(n))Mp(n);else{var g=dc(we.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[vt]=n,f[kt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Gt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qi(n)}}return tt(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,_a(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Jy(t.nodeValue,s)),t||vs(n,!0)}else t=dc(t).createTextNode(o),t[vt]=n,n.stateNode=t}return tt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=_a(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[vt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return tt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),tt(n),null);case 4:return rt(),t===null&&ud(n.stateNode.containerInfo),tt(n),null;case 10:return Li(n.type),tt(n),null;case 19:if(X(dt),o=n.memoizedState,o===null)return tt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,$o(o,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Cp(s,t),s=s.sibling;return ie(dt,dt.current&1|2),ke&&zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&en()>ic&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ke)return tt(n),null}else 2*en()-o.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,s=dt.current,ie(dt,h?s&1|2:s&1),ke&&zi(n,o.treeForkCount),t):(tt(n),null);case 22:case 23:return yn(n),cf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&X(xr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Tt),tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function pT(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Li(Tt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(dt),null;case 4:return rt(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),cf(),t!==null&&X(xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Li(Tt),null;case 25:return null;default:return null}}function ty(t,n){switch(Yh(n),n.tag){case 3:Li(Tt),rt();break;case 26:case 27:case 5:Jr(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:X(dt);break;case 10:Li(n.type);break;case 22:case 23:yn(n),cf(),t!==null&&X(xr);break;case 24:Li(Tt)}}function Zo(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Ye(n,n.return,E)}}function xs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,j=E;try{j()}catch(F){Ye(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Ye(n,n.return,F)}}function ny(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Kp(n,s)}catch(o){Ye(t,t.return,o)}}}function iy(t,n,s){s.props=Dr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ye(t,n,o)}}function Wo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Ye(t,n,h)}}function bi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,n,h)}else s.current=null}function sy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function qf(t,n,s){try{var o=t.stateNode;UT(o,t.type,s,n),o[kt]=n}catch(h){Ye(t,t.return,h)}}function ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Ms(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function Wu(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ms(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Wu(t,n,s),t=t.sibling;t!==null;)Wu(t,n,s),t=t.sibling}function ay(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,o,s),n[vt]=t,n[kt]=s}catch(f){Ye(t,t.return,f)}}var Hi=!1,wt=!1,Gf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function gT(t,n){if(t=t.containerInfo,fd=bc,t=vp(t),Uh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,E=-1,C=-1,j=0,F=0,Y=t,P=null;t:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break t;if(P===s&&++j===h&&(E=g),P===f&&++F===o&&(C=g),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:t,selectionRange:s},bc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var le=Dr(s.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(s,s.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)gd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function ly(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(t,s),o&4&&Zo(5,s);break;case 1:if(Gi(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ye(s,s.return,g)}else{var h=Dr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ye(s,s.return,g)}}o&64&&ny(s),o&512&&Wo(s,s.return);break;case 3:if(Gi(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Kp(t,n)}catch(g){Ye(s,s.return,g)}}break;case 27:n===null&&o&4&&ay(s);case 26:case 5:Gi(t,s),n===null&&o&4&&sy(s),o&512&&Wo(s,s.return);break;case 12:Gi(t,s);break;case 31:Gi(t,s),o&4&&hy(t,s);break;case 13:Gi(t,s),o&4&&fy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=wT.bind(null,s),GT(t,s))));break;case 22:if(o=s.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||wt,h=Hi;var f=wt;Hi=o,(wt=n)&&!f?Ki(t,s,(s.subtreeFlags&8772)!==0):Gi(t,s),Hi=h,wt=f}break;case 30:break;default:Gi(t,s)}}function uy(t){var n=t.alternate;n!==null&&(t.alternate=null,uy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Fi(t,n,s){for(s=s.child;s!==null;)cy(t,n,s),s=s.sibling}function cy(t,n,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:wt||bi(s,n),Fi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wt||bi(s,n);var o=ot,h=an;Ms(s.type)&&(ot=s.stateNode,an=!1),Fi(t,n,s),ll(s.stateNode),ot=o,an=h;break;case 5:wt||bi(s,n);case 6:if(o=ot,h=an,ot=null,Fi(t,n,s),ot=o,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(f){Ye(s,n,f)}else try{ot.removeChild(s.stateNode)}catch(f){Ye(s,n,f)}break;case 18:ot!==null&&(an?(t=ot,n_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ja(t)):n_(ot,s.stateNode));break;case 4:o=ot,h=an,ot=s.stateNode.containerInfo,an=!0,Fi(t,n,s),ot=o,an=h;break;case 0:case 11:case 14:case 15:xs(2,s,n),wt||xs(4,s,n),Fi(t,n,s);break;case 1:wt||(bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&iy(s,n,o)),Fi(t,n,s);break;case 21:Fi(t,n,s);break;case 22:wt=(o=wt)||s.memoizedState!==null,Fi(t,n,s),wt=o;break;default:Fi(t,n,s)}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(s){Ye(n,n.return,s)}}}function fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(s){Ye(n,n.return,s)}}function yT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new oy),n;default:throw Error(a(435,t.tag))}}function ec(t,n){var s=yT(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=xT.bind(null,t,o);o.then(h,h)}})}function on(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){ot=E.stateNode,an=!1;break e}break;case 5:ot=E.stateNode,an=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(ot===null)throw Error(a(160));cy(f,g,h),ot=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,t),n=n.sibling}var Xn=null;function dy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),ln(t),o&4&&(xs(3,t,t.return),Zo(3,t),xs(5,t,t.return));break;case 1:on(n,t),ln(t),o&512&&(wt||s===null||bi(s,s.return)),o&64&&Hi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Xn;if(on(n,t),ln(t),o&512&&(wt||s===null||bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,o,s),f[vt]=t,bt(f),o=f;break e;case"link":var g=d_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,s),h.head.appendChild(f);break;case"meta":if(g=d_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[vt]=t,bt(f),o=f}t.stateNode=o}else m_(h,t.type,t.stateNode);else t.stateNode=f_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?m_(h,t.type,t.stateNode):f_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:on(n,t),ln(t),o&512&&(wt||s===null||bi(s,s.return)),s!==null&&o&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(on(n,t),ln(t),o&512&&(wt||s===null||bi(s,s.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(le){Ye(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(on(n,t),ln(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(le){Ye(t,t.return,le)}}break;case 3:if(gc=null,h=Xn,Xn=mc(n.containerInfo),on(n,t),Xn=h,ln(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(le){Ye(t,t.return,le)}Gf&&(Gf=!1,my(t));break;case 4:o=Xn,Xn=mc(t.stateNode.containerInfo),on(n,t),ln(t),Xn=o;break;case 12:on(n,t),ln(t);break;case 31:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 13:on(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=Hi,F=wt;if(Hi=j||h,wt=F||C,on(n,t),wt=F,Hi=j,ln(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Hi||wt||Or(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(le){Ye(C,C.return,le)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Ye(C,C.return,le)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?i_(q,!0):i_(C.stateNode,!1)}catch(le){Ye(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(t,s))));break;case 19:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 30:break;case 21:break;default:on(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(t);Wu(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var E=Hf(t);Wu(t,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Hf(t);Ff(t,j,C);break;default:throw Error(a(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function my(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(t,n.alternate,n),n=n.sibling}function Or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),Or(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Or(n);break;case 27:ll(n.stateNode);case 26:case 5:bi(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}t=t.sibling}}function Ki(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,s),Zo(4,f);break;case 1:if(Ki(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Gp(C[h],E)}catch(j){Ye(o,o.return,j)}}s&&g&64&&ny(f),Wo(f,f.return);break;case 27:ay(f);case 26:case 5:Ki(h,f,s),s&&o===null&&g&4&&sy(f),Wo(f,f.return);break;case 12:Ki(h,f,s);break;case 31:Ki(h,f,s),s&&g&4&&hy(h,f);break;case 13:Ki(h,f,s),s&&g&4&&fy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,s),Wo(f,f.return);break;case 30:break;default:Ki(h,f,s)}n=n.sibling}}function Kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&jo(s))}function Qf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t))}function Jn(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(t,n,s,o),n=n.sibling}function py(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,s,o),h&2048&&Zo(9,n);break;case 1:Jn(t,n,s,o);break;case 3:Jn(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t)));break;case 12:if(h&2048){Jn(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(n,n.return,C)}}else Jn(t,n,s,o);break;case 31:Jn(t,n,s,o);break;case 13:Jn(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,s,o):el(t,n):f._visibility&2?Jn(t,n,s,o):(f._visibility|=2,Ca(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:Jn(t,n,s,o),h&2048&&Qf(n.alternate,n);break;default:Jn(t,n,s,o)}}function Ca(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,C,h),Zo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ca(f,g,E,C,h):el(f,g):(F._visibility|=2,Ca(f,g,E,C,h)),h&&j&2048&&Kf(g.alternate,g);break;case 24:Ca(f,g,E,C,h),h&&j&2048&&Qf(g.alternate,g);break;default:Ca(f,g,E,C,h)}n=n.sibling}}function el(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:el(s,o),h&2048&&Kf(o.alternate,o);break;case 24:el(s,o),h&2048&&Qf(o.alternate,o);break;default:el(s,o)}n=n.sibling}}var tl=8192;function Na(t,n,s){if(t.subtreeFlags&tl)for(t=t.child;t!==null;)gy(t,n,s),t=t.sibling}function gy(t,n,s){switch(t.tag){case 26:Na(t,n,s),t.flags&tl&&t.memoizedState!==null&&i1(s,Xn,t.memoizedState,t.memoizedProps);break;case 5:Na(t,n,s);break;case 3:case 4:var o=Xn;Xn=mc(t.stateNode.containerInfo),Na(t,n,s),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Na(t,n,s),tl=o):Na(t,n,s));break;default:Na(t,n,s)}}function yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ut=o,vy(o,t)}yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 0:case 11:case 15:nl(t),t.flags&2048&&xs(9,t,t.return);break;case 3:nl(t);break;case 12:nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tc(t)):nl(t);break;default:nl(t)}}function tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ut=o,vy(o,t)}yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:xs(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}t=t.sibling}}function vy(t,n){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ut=o;else e:for(s=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(uy(o),o===s){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var _T={getCacheForType:function(t){var n=Ht(Tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ht(Tt).controller.signal}},vT=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,Ce=null,Ie=0,Qe=0,_n=null,Rs=!1,Ia=!1,Yf=!1,Qi=0,ct=0,Cs=0,Mr=0,Xf=0,vn=0,Da=0,il=null,un=null,Jf=!1,nc=0,by=0,ic=1/0,sc=null,Ns=null,Dt=0,Is=null,Oa=null,Yi=0,$f=0,Zf=null,Ey=null,sl=0,Wf=null;function bn(){return(qe&2)!==0&&Ie!==0?Ie&-Ie:G.T!==null?rd():ru()}function Ty(){if(vn===0)if((Ie&536870912)===0||ke){var t=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function cn(t,n,s){(t===We&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Ds(t,Ie,vn,!1)),or(t,s),((qe&2)===0||t!==We)&&(t===We&&((qe&2)===0&&(Mr|=s),ct===4&&Ds(t,Ie,vn,!1)),Ei(t))}function Sy(t,n,s){if((qe&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=o?TT(t,n):td(t,n,!0),f=o;do{if(h===0){Ia&&!o&&Ds(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!bT(s)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=il;var C=E.current.memoizedState.isDehydrated;if(C&&(Ma(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Yf&&!C){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(t,0),Ds(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,vn,!Rs);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-en(),10<h)){if(Ds(o,n,vn,!Rs),ii(o,0,!0)!==0)break e;Yi=n,o.timeoutHandle=e_(Ay.bind(null,o,s,un,sc,Jf,n,vn,Mr,Da,Rs,f,"Throttled",-0,0),h);break e}Ay(o,s,un,sc,Jf,n,vn,Mr,Da,Rs,f,null,-0,0)}}break}while(!0);Ei(t)}function Ay(t,n,s,o,h,f,g,E,C,j,F,Y,P,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},gy(n,f,Y);var le=(f&62914560)===f?nc-en():(f&4194048)===f?by-en():0;if(le=s1(Y,le),le!==null){Yi=f,t.cancelPendingCommit=le(Oy.bind(null,t,n,f,s,o,h,g,E,C,F,Y,null,P,q)),Ds(t,f,g,!j);return}}Oy(t,n,f,s,o,h,g,E,C)}function bT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(t,n,s,o){n&=~Xf,n&=~Mr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ht(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&lr(t,s,n)}function rc(){return(qe&6)===0?(rl(0),!1):!0}function ed(){if(Ce!==null){if(Qe===0)var t=Ce.return;else t=Ce,Ui=Ar=null,gf(t),Sa=null,Bo=0,t=Ce;for(;t!==null;)ty(t.alternate,t),t=t.return;Ce=null}}function Ma(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,PT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Yi=0,ed(),We=t,Ce=s=ki(t.current,null),Ie=n,Qe=0,_n=null,Rs=!1,Ia=Pn(t,n),Yf=!1,Da=vn=Xf=Mr=Cs=ct=0,un=il=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ht(o),f=1<<h;n|=t[h],o&=~f}return Qi=n,xu(),s}function wy(t,n){Ae=null,G.H=Xo,n===Ta||n===Vu?(n=Bp(),Qe=3):n===sf?(n=Bp(),Qe=4):Qe=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ce===null&&(ct=1,Yu(t,Cn(n,t.current)))}function xy(){var t=gn.current;return t===null?!0:(Ie&4194048)===Ie?On===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?t===On:!1}function Ry(){var t=G.H;return G.H=Xo,t===null?Xo:t}function Cy(){var t=G.A;return G.A=_T,t}function ac(){ct=4,Rs||(Ie&4194048)!==Ie&&gn.current!==null||(Ia=!0),(Cs&134217727)===0&&(Mr&134217727)===0||We===null||Ds(We,Ie,vn,!1)}function td(t,n,s){var o=qe;qe|=2;var h=Ry(),f=Cy();(We!==t||Ie!==n)&&(sc=null,Ma(t,n)),n=!1;var g=ct;e:do try{if(Qe!==0&&Ce!==null){var E=Ce,C=_n;switch(Qe){case 8:ed(),g=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Qe;if(Qe=0,_n=null,Va(t,E,C,j),s&&Ia){g=0;break e}break;default:j=Qe,Qe=0,_n=null,Va(t,E,C,j)}}ET(),g=ct;break}catch(F){wy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ui=Ar=null,qe=o,G.H=h,G.A=f,Ce===null&&(We=null,Ie=0,xu()),g}function ET(){for(;Ce!==null;)Ny(Ce)}function TT(t,n){var s=qe;qe|=2;var o=Ry(),h=Cy();We!==t||Ie!==n?(sc=null,ic=en()+500,Ma(t,n)):Ia=Pn(t,n);e:do try{if(Qe!==0&&Ce!==null){n=Ce;var f=_n;t:switch(Qe){case 1:Qe=0,_n=null,Va(t,n,f,1);break;case 2:case 9:if(jp(f)){Qe=0,_n=null,Iy(n);break}n=function(){Qe!==2&&Qe!==9||We!==t||(Qe=7),Ei(t)},f.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:jp(f)?(Qe=0,_n=null,Iy(n)):(Qe=0,_n=null,Va(t,n,f,7));break;case 5:var g=null;switch(Ce.tag){case 26:g=Ce.memoizedState;case 5:case 27:var E=Ce;if(g?p_(g):E.stateNode.complete){Qe=0,_n=null;var C=E.sibling;if(C!==null)Ce=C;else{var j=E.return;j!==null?(Ce=j,oc(j)):Ce=null}break t}}Qe=0,_n=null,Va(t,n,f,5);break;case 6:Qe=0,_n=null,Va(t,n,f,6);break;case 8:ed(),ct=6;break e;default:throw Error(a(462))}}ST();break}catch(F){wy(t,F)}while(!0);return Ui=Ar=null,G.H=o,G.A=h,qe=s,Ce!==null?0:(We=null,Ie=0,xu(),ct)}function ST(){for(;Ce!==null&&!Ih();)Ny(Ce)}function Ny(t){var n=Wg(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?oc(t):Ce=n}function Iy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Qg(s,n,n.pendingProps,n.type,void 0,Ie);break;case 11:n=Qg(s,n,n.pendingProps,n.type.render,n.ref,Ie);break;case 5:gf(n);default:ty(s,n),n=Ce=Cp(n,Qi),n=Wg(s,n,Qi)}t.memoizedProps=t.pendingProps,n===null?oc(t):Ce=n}function Va(t,n,s,o){Ui=Ar=null,gf(n),Sa=null,Bo=0;var h=n.return;try{if(hT(t,h,n,s,Ie)){ct=1,Yu(t,Cn(s,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ct=1,Yu(t,Cn(s,t.current)),Ce=null;return}n.flags&32768?(ke||o===1?t=!0:Ia||(Ie&536870912)!==0?t=!1:(Rs=t=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Dy(n,Rs);return}t=n.return;var s=mT(n.alternate,n,Qi);if(s!==null){Ce=s;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);ct===0&&(ct=5)}function Dy(t,n){do{var s=pT(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);ct=6,Ce=null}function Oy(t,n,s,o,h,f,g,E,C){t.cancelPendingCommit=null;do lc();while(Dt!==0);if((qe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(t,s,f,g,E,C),t===We&&(Ce=We=null,Ie=0),Oa=n,Is=t,Yi=s,$f=f,Zf=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RT(os,function(){return Uy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,g=qe,qe|=4;try{gT(t,n,s)}finally{qe=g,ne.p=h,G.T=o}}Dt=1,My(),Vy(),ky()}}function My(){if(Dt===1){Dt=0;var t=Is,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=ne.p;ne.p=2;var h=qe;qe|=4;try{dy(n,t);var f=dd,g=vp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(C!==null&&Uh(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),le=E.textContent.length,pe=Math.min(C.start,le),Ze=C.end===void 0?pe:Math.min(C.end,le);!q.extend&&pe>Ze&&(g=Ze,Ze=pe,pe=g);var z=yp(E,pe),O=yp(E,Ze);if(z&&O&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(z.node,z.offset),q.removeAllRanges(),pe>Ze?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bc=!!fd,dd=fd=null}finally{qe=h,ne.p=o,G.T=s}}t.current=n,Dt=2}}function Vy(){if(Dt===2){Dt=0;var t=Is,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=ne.p;ne.p=2;var h=qe;qe|=4;try{ly(t,n.alternate,n)}finally{qe=h,ne.p=o,G.T=s}}Dt=3}}function ky(){if(Dt===4||Dt===3){Dt=0,Zl();var t=Is,n=Oa,s=Yi,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Oa=Is=null,zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ns=null),Di(s),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=h}}(Yi&3)!==0&&lc(),Ei(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Wf?sl++:(sl=0,Wf=t):sl=0,rl(0)}}function zy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jo(n)))}function lc(){return My(),Vy(),ky(),Uy()}function Uy(){if(Dt!==5)return!1;var t=Is,n=$f;$f=0;var s=Di(Yi),o=G.T,h=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Zf,Zf=null;var f=Is,g=Yi;if(Dt=0,Oa=Is=null,Yi=0,(qe&6)!==0)throw Error(a(331));var E=qe;if(qe|=4,_y(f.current),py(f,f.current,g,s),qe=E,rl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{ne.p=h,G.T=o,zy(t,n)}}function Ly(t,n,s){n=Cn(s,n),n=Df(t.stateNode,n,2),t=Ss(t,n,2),t!==null&&(or(t,2),Ei(t))}function Ye(t,n,s){if(t.tag===3)Ly(t,t,s);else for(;n!==null;){if(n.tag===3){Ly(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ns===null||!Ns.has(o))){t=Cn(s,t),s=jg(2),o=Ss(n,s,2),o!==null&&(Pg(s,o,n,t),or(o,2),Ei(o));break}}n=n.return}}function nd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new vT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),t=AT.bind(null,t,n,s),n.then(t,t))}function AT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,We===t&&(Ie&s)===s&&(ct===4||ct===3&&(Ie&62914560)===Ie&&300>en()-nc?(qe&2)===0&&Ma(t,0):Xf|=s,Da===Ie&&(Da=0)),Ei(t)}function jy(t,n){n===0&&(n=su()),t=Er(t,n),t!==null&&(or(t,n),Ei(t))}function wT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),jy(t,s)}function xT(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(t,s)}function RT(t,n){return It(t,n)}var uc=null,ka=null,id=!1,cc=!1,sd=!1,Os=0;function Ei(t){t!==ka&&t.next===null&&(ka===null?uc=ka=t:ka=ka.next=t),cc=!0,id||(id=!0,NT())}function rl(t,n){if(!sd&&cc){sd=!0;do for(var s=!1,o=uc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ht(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(o,f))}else f=Ie,f=ii(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(s=!0,Hy(o,f));o=o.next}while(s);sd=!1}}function CT(){Py()}function Py(){cc=id=!1;var t=0;Os!==0&&jT()&&(t=Os);for(var n=en(),s=null,o=uc;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,s===null?uc=h:s.next=h,h===null&&(ka=s)):(s=o,(t!==0||(f&3)!==0)&&(cc=!0)),o=h}Dt!==0&&Dt!==5||rl(t),Os!==0&&(Os=0)}function By(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ht(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Oh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=We,s=Ie,s=ii(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Pn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&as(o),Di(s)){case 2:case 8:s=po;break;case 32:s=os;break;case 268435456:s=Wl;break;default:s=os}return o=qy.bind(null,t),s=It(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&as(o),t.callbackPriority=2,t.callbackNode=null,2}function qy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(lc()&&t.callbackNode!==s)return null;var o=Ie;return o=ii(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sy(t,o,n),By(t,en()),t.callbackNode!=null&&t.callbackNode===s?qy.bind(null,t):null)}function Hy(t,n){if(lc())return null;Sy(t,n,!0)}function NT(){BT(function(){(qe&6)!==0?It(mo,CT):Py()})}function rd(){if(Os===0){var t=ba;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Os=t}return Os}function Fy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function Gy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function IT(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[kt]||null).action),g=o.submitter;g&&(n=(n=g[kt]||null)?Fy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var C=g?Gy(h,g):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Gy(h,g):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],DT=od.toLowerCase(),OT=od[0].toUpperCase()+od.slice(1);Yn(DT,"on"+OT)}Yn(Tp,"onAnimationEnd"),Yn(Sp,"onAnimationIteration"),Yn(Ap,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(YE,"onTransitionRun"),Yn(XE,"onTransitionStart"),Yn(JE,"onTransitionCancel"),Yn(wp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Ky(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}}}}function Ne(t,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var o=t+"__bubble";s.has(o)||(Qy(n,t,2,!1),s.add(o))}function ld(t,n,s){var o=0;n&&(o|=4),Qy(s,t,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[hc]){t[hc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(MT.has(s)||ld(s,!1,t),ld(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,ld("selectionchange",!1,n))}}function Qy(t,n,s,o){switch(T_(n)){case 2:var h=o1;break;case 8:h=l1;break;default:h=Ad}s=h.bind(null,n,s,t),h=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function cd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}E=E.parentNode}}o=o.return}ds(function(){var j=f,F=An(s),Y=[];e:{var P=xp.get(t);if(P!==void 0){var q=mi,le=t;switch(t){case"keypress":if(pr(s)===0)break e;case"keydown":case"keyup":q=Tu;break;case"focusin":le="focus",q=yr;break;case"focusout":le="blur",q=yr;break;case"beforeblur":case"afterblur":q=yr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tp:case Sp:case Ap:q=pu;break;case wp:q=T;break;case"scroll":case"scrollend":q=Io;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=Se}var pe=(n&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),z=pe?P!==null?P+"Capture":null:P;pe=[];for(var O=j,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||z===null||(K=Fn(O,z),K!=null&&pe.push(ol(O,K,L))),Ze)break;O=O.return}0<pe.length&&(P=new q(P,le,null,s,F),Y.push({event:P,listeners:pe}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&s!==Ro&&(le=s.relatedTarget||s.fromElement)&&(oi(le)||le[ri]))break e;if((q||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=j,le=le?oi(le):null,le!==null&&(Ze=c(le),pe=le.tag,le!==Ze||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(q=null,le=j),q!==le)){if(pe=Do,K="onMouseLeave",z="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Vi,K="onPointerLeave",z="onPointerEnter",O="pointer"),Ze=q==null?P:fn(q),L=le==null?P:fn(le),P=new pe(K,O+"leave",q,s,F),P.target=Ze,P.relatedTarget=L,K=null,oi(F)===j&&(pe=new pe(z,O+"enter",le,s,F),pe.target=L,pe.relatedTarget=Ze,K=pe),Ze=K,q&&le)t:{for(pe=VT,z=q,O=le,L=0,K=z;K;K=pe(K))L++;K=0;for(var fe=O;fe;fe=pe(fe))K++;for(;0<L-K;)z=pe(z),L--;for(;0<K-L;)O=pe(O),K--;for(;L--;){if(z===O||O!==null&&z===O.alternate){pe=z;break t}z=pe(z),O=pe(O)}pe=null}else pe=null;q!==null&&Yy(Y,P,q,pe,!1),le!==null&&Ze!==null&&Yy(Y,Ze,le,pe,!0)}}e:{if(P=j?fn(j):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var je=hp;else if(up(P))if(fp)je=GE;else{je=HE;var ue=qE}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?j&&sa(j.elementType)&&(je=hp):je=FE;if(je&&(je=je(t,j))){cp(Y,je,s,F);break e}ue&&ue(t,P,j),t==="focusout"&&j&&P.type==="number"&&j.memoizedProps.value!=null&&Ao(P,"number",P.value)}switch(ue=j?fn(j):window,t){case"focusin":(up(ue)||ue.contentEditable==="true")&&(fa=ue,Lh=j,zo=null);break;case"focusout":zo=Lh=fa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,bp(Y,s,F);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":bp(Y,s,F)}var xe;if(Be)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ha?_r(t,s)&&(De="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(yi&&s.locale!=="ko"&&(ha||De!=="onCompositionStart"?De==="onCompositionEnd"&&ha&&(xe=No()):(di=F,Co="value"in di?di.value:di.textContent,ha=!0)),ue=fc(j,De),0<ue.length&&(De=new gi(De,t,null,s,F),Y.push({event:De,listeners:ue}),xe?De.data=xe:(xe=ca(s),xe!==null&&(De.data=xe)))),(xe=xn?LE(t,s):jE(t,s))&&(De=fc(j,"onBeforeInput"),0<De.length&&(ue=new gi("onBeforeInput","beforeinput",null,s,F),Y.push({event:ue,listeners:De}),ue.data=xe)),IT(Y,t,j,s,F)}Ky(Y,n)})}function ol(t,n,s){return{instance:t,listener:n,currentTarget:s}}function fc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(t,s),h!=null&&o.unshift(ol(t,h,f)),h=Fn(t,n),h!=null&&o.push(ol(t,h,f))),t.tag===3)return o;t=t.return}return[]}function VT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yy(t,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Fn(s,f),j!=null&&g.unshift(ol(s,j,C))):h||(j=Fn(s,f),j!=null&&g.push(ol(s,j,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var kT=/\r\n?/g,zT=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(kT,`
`).replace(zT,"")}function Jy(t,n){return n=Xy(n),Xy(t)===n}function $e(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(t,""+o);break;case"className":dn(t,"class",o);break;case"tabIndex":dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,s,o);break;case"style":xo(t,o,f);break;case"data":if(n!=="object"){dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ra(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$e(t,n,"name",h.name,h,null),$e(t,n,"formEncType",h.formEncType,h,null),$e(t,n,"formMethod",h.formMethod,h,null),$e(t,n,"formTarget",h.formTarget,h,null)):($e(t,n,"encType",h.encType,h,null),$e(t,n,"method",h.method,h,null),$e(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ra(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ra(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),na(t,"popover",o);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,na(t,s,o))}}function hd(t,n,s,o,h,f){switch(s){case"style":xo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?rn(t,o):(typeof o=="number"||typeof o=="bigint")&&rn(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[kt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):na(t,s,o)}}}function Gt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(t,n,f,g,s,null)}}h&&$e(t,n,"srcSet",s.srcSet,s,null),o&&$e(t,n,"src",s.src,s,null);return;case"input":Ne("invalid",t);var E=f=g=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:$e(t,n,o,F,s,null)}}uu(t,f,E,C,j,g,h,!1);return;case"select":Ne("invalid",t),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$e(t,n,h,E,s,null)}n=f,s=g,t.multiple=!!o,n!=null?us(t,!!o,n,!1):s!=null&&us(t,!!o,s,!0);return;case"textarea":Ne("invalid",t),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$e(t,n,g,E,s,null)}cs(t,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":$e(t,n,C,o,s,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<al.length;o++)Ne(al[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(t,n,j,o,s,null)}return;default:if(sa(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&hd(t,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$e(t,n,E,o,s,null))}function UT(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,j=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||$e(t,n,q,null,o,Y)}}for(var P in o){var q=o[P];if(Y=s[P],o.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&$e(t,n,P,q,o,Y)}}ia(t,g,E,C,j,F,f,h);return;case"select":q=g=E=P=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||$e(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&$e(t,n,h,f,o,C)}n=E,s=g,o=q,P!=null?us(t,!!s,P,!1):!!o!=!!s&&(n!=null?us(t,!!s,n,!0):us(t,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$e(t,n,g,h,o,f)}cu(t,P,q);return;case"option":for(var le in s)P=s[le],s.hasOwnProperty(le)&&P!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:$e(t,n,le,null,o,P));for(C in o)P=o[C],q=s[C],o.hasOwnProperty(C)&&P!==q&&(P!=null||q!=null)&&(C==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":$e(t,n,C,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in s)P=s[pe],s.hasOwnProperty(pe)&&P!=null&&!o.hasOwnProperty(pe)&&$e(t,n,pe,null,o,P);for(j in o)if(P=o[j],q=s[j],o.hasOwnProperty(j)&&P!==q&&(P!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:$e(t,n,j,P,o,q)}return;default:if(sa(n)){for(var Ze in s)P=s[Ze],s.hasOwnProperty(Ze)&&P!==void 0&&!o.hasOwnProperty(Ze)&&hd(t,n,Ze,void 0,o,P);for(F in o)P=o[F],q=s[F],!o.hasOwnProperty(F)||P===q||P===void 0&&q===void 0||hd(t,n,F,P,o,q);return}}for(var z in s)P=s[z],s.hasOwnProperty(z)&&P!=null&&!o.hasOwnProperty(z)&&$e(t,n,z,null,o,P);for(Y in o)P=o[Y],q=s[Y],!o.hasOwnProperty(Y)||P===q||P==null&&q==null||$e(t,n,Y,P,o,q)}function $y(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&$y(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>E)break;var F=C.transferSize,Y=C.initiatorType;F&&$y(Y)&&(C=C.responseEnd,g+=F*(C<E?1:(E-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function Zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function jT(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(qT)}:e_;function qT(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function n_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),ja(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(t.ownerDocument.body);s=h}while(s);ja(n)}function i_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function gd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function HT(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function FT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mn(t.nextSibling),t===null))return null;return t}function s_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function r_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function a_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function o_(t,n,s){switch(n=dc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ta(t)}var Vn=new Map,l_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=ne.d;ne.d={f:KT,r:QT,D:YT,C:XT,L:JT,m:$T,X:WT,S:ZT,M:e1};function KT(){var t=Xi.f(),n=rc();return t||n}function QT(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):Xi.r(t)}var za=typeof document>"u"?null:document;function u_(t,n,s){var o=za;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Gt(n,"link",t),bt(n),o.head.appendChild(n)))}}function YT(t){Xi.D(t),u_("dns-prefetch",t,null)}function XT(t,n){Xi.C(t,n),u_("preconnect",t,n)}function JT(t,n,s){Xi.L(t,n,s);var o=za;if(o&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=Ua(t);break;case"script":f=La(t)}Vn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Vn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Gt(n,"link",t),bt(n),o.head.appendChild(n)))}}function $T(t,n){Xi.m(t,n);var s=za;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!Vn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Vn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),Gt(o,"link",t),bt(o),s.head.appendChild(o)}}}function ZT(t,n,s){Xi.S(t,n,s);var o=za;if(o&&t){var h=li(o).hoistableStyles,f=Ua(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Vn.get(f))&&bd(t,s);var C=g=o.createElement("link");bt(C),Gt(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function WT(t,n){Xi.X(t,n);var s=za;if(s&&t){var o=li(s).hoistableScripts,h=La(t),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(t=A({src:t,async:!0},n),(n=Vn.get(h))&&Ed(t,n),f=s.createElement("script"),bt(f),Gt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function e1(t,n){Xi.M(t,n);var s=za;if(s&&t){var o=li(s).hoistableScripts,h=La(t),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&Ed(t,n),f=s.createElement("script"),bt(f),Gt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(t,n,s,o){var h=(h=we.current)?mc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=li(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ua(s.href);var f=li(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(ul(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(t,s),f||t1(h,t,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=li(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ua(t){return'href="'+sn(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function h_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function t1(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Gt(n,"link",s),bt(n),t.head.appendChild(n))}function La(t){return'[src="'+sn(t)+'"]'}function cl(t){return"script[async]"+t}function f_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+sn(s.href)+'"]');if(o)return n.instance=o,bt(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),bt(o),Gt(o,"style",h),pc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ua(s.href);var f=t.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;o=h_(s),(h=Vn.get(h))&&bd(o,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Gt(f,"link",o),n.state.loading|=4,pc(f,s.precedence,t),n.instance=f;case"script":return f=La(s.src),(h=t.querySelector(cl(f)))?(n.instance=h,bt(h),h):(o=s,(h=Vn.get(f))&&(o=A({},s),Ed(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,t));return n.instance}function pc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gc=null;function d_(t,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function m_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function n1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function i1(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,bt(f);return}f=n.ownerDocument||n,o=h_(o),(h=Vn.get(h))&&bd(o,h),f=f.createElement("link"),bt(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Gt(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=yc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function s1(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*LT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(r1,t),_c=null,yc.call(t))}function r1(t,n){if(!(n.state.loading&4)){var s=_c.get(t);if(s)var o=s.get(null);else{s=new Map,_c.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var hl={$$typeof:$,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function a1(t,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function g_(t,n,s,o,h,f,g,E,C,j,F,Y){return t=new a1(t,n,s,g,C,j,F,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),t}function y_(t){return t?(t=pa,t):pa}function __(t,n,s,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ts(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ss(t,o,n),s!==null&&(cn(s,t,n),Ho(s,t,n))}function v_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){v_(t,n),(t=t.alternate)&&v_(t,n)}function b_(t){if(t.tag===13||t.tag===31){var n=Er(t,67108864);n!==null&&cn(n,t,67108864),Sd(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var n=bn();n=ur(n);var s=Er(t,n);s!==null&&cn(s,t,n),Sd(t,n)}}var bc=!0;function o1(t,n,s,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,Ad(t,n,s,o)}finally{ne.p=f,G.T=h}}function l1(t,n,s,o){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,Ad(t,n,s,o)}finally{ne.p=f,G.T=h}}function Ad(t,n,s,o){if(bc){var h=wd(o);if(h===null)cd(t,n,o,Ec,s),S_(t,o);else if(c1(h,t,n,s,o))o.stopPropagation();else if(S_(t,o),n&4&&-1<u1.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ht(g);E.entanglements[1]|=C,g&=~C}Ei(f),(qe&6)===0&&(ic=en()+500,rl(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&cn(E,f,2),rc(),Sd(f,2)}if(f=wd(o),f===null&&cd(t,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(t,n,o,null,s)}}function wd(t){return t=An(t),xd(t)}var Ec=null;function xd(t){if(Ec=null,t=oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case mo:return 2;case po:return 8;case os:case Dh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Vs=null,ks=null,zs=null,fl=new Map,dl=new Map,Us=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(t,n){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&b_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function c1(t,n,s,o,h){switch(n){case"focusin":return Vs=ml(Vs,t,n,s,o,h),!0;case"dragenter":return ks=ml(ks,t,n,s,o,h),!0;case"mouseover":return zs=ml(zs,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,t,n,s,o,h)),!0}return!1}function A_(t){var n=oi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){E_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ro=o,s.target.dispatchEvent(o),Ro=null}else return n=Sn(s),n!==null&&b_(n),t.blockedOn=s,!1;n.shift()}return!0}function w_(t,n,s){Tc(t)&&s.delete(n)}function h1(){Rd=!1,Vs!==null&&Tc(Vs)&&(Vs=null),ks!==null&&Tc(ks)&&(ks=null),zs!==null&&Tc(zs)&&(zs=null),fl.forEach(w_),dl.forEach(w_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,h1)))}var Ac=null;function x_(t){Ac!==t&&(Ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(xd(o||s)===null)continue;break}var f=Sn(s);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ja(t){function n(C){return Sc(C,t)}Vs!==null&&Sc(Vs,t),ks!==null&&Sc(ks,t),zs!==null&&Sc(zs,t),fl.forEach(n),dl.forEach(n);for(var s=0;s<Us.length;s++){var o=Us[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Us.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[kt]||null;if(typeof f=="function")g||x_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[kt]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),x_(s)}}}function R_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}wc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();__(s,o,t,n,null,null)},wc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;__(t.current,2,null,t,null,null),rc(),n[ri]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,t),s===0&&A_(t)}};var C_=e.version;if(C_!=="19.2.4")throw Error(a(527,C_,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var f1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{jn=xc.inject(f1),Pt=xc}catch{}}return gl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=kg,f=zg,g=Ug;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=g_(t,1,!1,null,null,s,o,null,h,f,g,R_),t[ri]=n.current,ud(t),new Cd(n)},gl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=kg,g=zg,E=Ug,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=g_(t,1,!0,n,s??null,o,h,C,f,g,E,R_),n.context=y_(null),s=n.current,o=bn(),o=ur(o),h=Ts(o),h.callback=null,Ss(s,h,o),s=o,n.current.lanes=s,or(n,s),Ei(n),t[ri]=n.current,ud(t),new wc(n)},gl.version="19.2.4",gl}var L_;function A1(){if(L_)return Dd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=S1(),Dd.exports}var w1=A1();const dv=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const x1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const R1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const j_=r=>{const e=R1(r);return e.charAt(0).toUpperCase()+e.slice(1)};var C1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const N1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const I1=ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>ye.createElement("svg",{ref:v,...C1,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:dv("lucide",l),...!c&&!N1(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>ye.createElement(y,S)),...Array.isArray(c)?c:[c]]));const jt=(r,e)=>{const i=ye.forwardRef(({className:a,...l},c)=>ye.createElement(I1,{ref:c,iconNode:e,className:dv(`lucide-${x1(j_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=j_(r),i};const D1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Hc=jt("activity",D1);const O1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],M1=jt("arrow-left",O1);const V1=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Jd=jt("bot",V1);const k1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],P_=jt("calendar",k1);const z1=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],U1=jt("chart-no-axes-column",z1);const L1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ch=jt("circle-check-big",L1);const j1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],mv=jt("clipboard-list",j1);const P1=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Ll=jt("dumbbell",P1);const B1=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],q1=jt("lightbulb",B1);const H1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],F1=jt("lock",H1);const G1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],K1=jt("log-out",G1);const Q1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Y1=jt("play",Q1);const X1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pv=jt("plus",X1);const J1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hh=jt("sparkles",J1);const $1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Z1=jt("trash-2",$1);const W1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gv=jt("trending-up",W1);const eS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jl=jt("user",eS);const tS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],yv=jt("video",tS),nS=()=>{};var B_={};const _v=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},iS=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,S=c>>2,A=(c&3)<<4|p>>4;let D=(p&15)<<2|y>>6,H=y&63;v||(H=64,d||(D=64)),a.push(i[S],i[A],i[D],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_v(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):iS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new sS;const D=c<<2|p>>4;if(a.push(D),y!==64){const H=p<<4&240|y>>2;if(a.push(H),A!==64){const Q=y<<6&192|A;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rS=function(r){const e=_v(r);return vv.encodeByteArray(e,!0)},Fc=function(r){return rS(r).replace(/\./g,"")},bv=function(r){try{return vv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oS=()=>aS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof B_>"u")return;const r=B_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bv(r[1]);return e&&JSON.parse(e)},fh=()=>{try{return nS()||oS()||lS()||uS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ev=r=>fh()?.emulatorHosts?.[r],cS=r=>{const e=Ev(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Tv=()=>fh()?.config,Sv=r=>fh()?.[`_${r}`];class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Av(r){return(await fetch(r,{credentials:"include"})).ok}function fS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Sl={};function dS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?r.emulator.push(e):r.prod.push(e);return r}function mS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let q_=!1;function wv(r,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Sl[r]===e||Sl[r]||q_)return;Sl[r]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=dS().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{q_=!0,d()},D}function S(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=mS(a),H=i("text"),Q=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),ee=document.getElementById(W)||document.createElement("a"),se=i("preprendIcon"),oe=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const $=D.element;p($),S(ee,W);const he=y();v(oe,se),$.append(oe,Q,ee,he),document.body.appendChild($)}c?(Q.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function gS(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ES(){return!gS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const AS="FirebaseError";class rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=AS,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?wS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new rs(l,p,a)}}function wS(r,e){return r.replace(xS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const xS=/\{\$([^}]+)}/g;function RS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function jr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(H_(c)&&H_(d)){if(!jr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}function Bl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function CS(r,e){const i=new NS(r,e);return i.subscribe.bind(i)}class NS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");IS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function En(r){return r&&r._delegate?r._delegate:r}class Pr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vr="[DEFAULT]";class DS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new hS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MS(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OS(r){return r===Vr?void 0:r}function MS(r){return r.instantiationMode==="EAGER"}class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const kS={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},zS=Oe.INFO,US={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},LS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=US[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=zS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const jS=(r,e)=>e.some(i=>r instanceof i);let F_,G_;function PS(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,$d=new WeakMap,Rv=new WeakMap,zd=new WeakMap,Am=new WeakMap;function qS(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&xv.set(i,r)}).catch(()=>{}),Am.set(e,r),e}function HS(r){if($d.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,e)}let Zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Rv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function FS(r){Zd=r(Zd)}function GS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Ud(this),e,...i);return Rv.set(a,e.sort?e.sort():[e]),Gs(a)}:BS().includes(r)?function(...e){return r.apply(Ud(this),e),Gs(xv.get(this))}:function(...e){return Gs(r.apply(Ud(this),e))}}function KS(r){return typeof r=="function"?GS(r):(r instanceof IDBTransaction&&HS(r),jS(r,PS())?new Proxy(r,Zd):r)}function Gs(r){if(r instanceof IDBRequest)return qS(r);if(zd.has(r))return zd.get(r);const e=KS(r);return e!==r&&(zd.set(r,e),Am.set(e,r)),e}const Ud=r=>Am.get(r);function QS(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=Gs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gs(d.result),v.oldVersion,v.newVersion,Gs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const YS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],Ld=new Map;function K_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=XS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||YS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Ld.set(e,c),c}FS(r=>({...r,get:(e,i,a)=>K_(e,i)||r.get(e,i,a),has:(e,i)=>!!K_(e,i)||r.has(e,i)}));class JS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($S(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function $S(r){return r.getComponent()?.type==="VERSION"}const Wd="@firebase/app",Q_="0.14.8";const Wi=new Sm("@firebase/app"),ZS="@firebase/app-compat",WS="@firebase/analytics-compat",eA="@firebase/analytics",tA="@firebase/app-check-compat",nA="@firebase/app-check",iA="@firebase/auth",sA="@firebase/auth-compat",rA="@firebase/database",aA="@firebase/data-connect",oA="@firebase/database-compat",lA="@firebase/functions",uA="@firebase/functions-compat",cA="@firebase/installations",hA="@firebase/installations-compat",fA="@firebase/messaging",dA="@firebase/messaging-compat",mA="@firebase/performance",pA="@firebase/performance-compat",gA="@firebase/remote-config",yA="@firebase/remote-config-compat",_A="@firebase/storage",vA="@firebase/storage-compat",bA="@firebase/firestore",EA="@firebase/ai",TA="@firebase/firestore-compat",SA="firebase",AA="12.9.0";const em="[DEFAULT]",wA={[Wd]:"fire-core",[ZS]:"fire-core-compat",[eA]:"fire-analytics",[WS]:"fire-analytics-compat",[nA]:"fire-app-check",[tA]:"fire-app-check-compat",[iA]:"fire-auth",[sA]:"fire-auth-compat",[rA]:"fire-rtdb",[aA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[lA]:"fire-fn",[uA]:"fire-fn-compat",[cA]:"fire-iid",[hA]:"fire-iid-compat",[fA]:"fire-fcm",[dA]:"fire-fcm-compat",[mA]:"fire-perf",[pA]:"fire-perf-compat",[gA]:"fire-rc",[yA]:"fire-rc-compat",[_A]:"fire-gcs",[vA]:"fire-gcs-compat",[bA]:"fire-fst",[TA]:"fire-fst-compat",[EA]:"fire-vertex","fire-js":"fire-js",[SA]:"fire-js-all"};const Gc=new Map,xA=new Map,tm=new Map;function Y_(r,e){try{r.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const e=r.name;if(tm.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,r);for(const i of Gc.values())Y_(i,r);for(const i of xA.values())Y_(i,r);return!0}function wm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function kn(r){return r==null?!1:r.settings!==void 0}const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Pl("app","Firebase",RA);class CA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const so=AA;function Cv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:em,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(i||(i=Tv()),!i)throw Ks.create("no-options");const c=Gc.get(l);if(c){if(jr(i,c.options)&&jr(a,c.config))return c;throw Ks.create("duplicate-app",{appName:l})}const d=new VS(l);for(const v of tm.values())d.addComponent(v);const p=new CA(i,a,d);return Gc.set(l,p),p}function Nv(r=em){const e=Gc.get(r);if(!e&&r===em&&Tv())return Cv();if(!e)throw Ks.create("no-app",{appName:r});return e}function Qs(r,e,i){let a=wA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}$a(new Pr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const NA="firebase-heartbeat-database",IA=1,Nl="firebase-heartbeat-store";let jd=null;function Iv(){return jd||(jd=QS(NA,IA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ks.create("idb-open",{originalErrorMessage:r.message})})),jd}async function DA(r){try{const i=(await Iv()).transaction(Nl),a=await i.objectStore(Nl).get(Dv(r));return await i.done,a}catch(e){if(e instanceof rs)Wi.warn(e.message);else{const i=Ks.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(i.message)}}}async function X_(r,e){try{const a=(await Iv()).transaction(Nl,"readwrite");await a.objectStore(Nl).put(e,Dv(r)),await a.done}catch(i){if(i instanceof rs)Wi.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function Dv(r){return`${r.name}!${r.options.appId}`}const OA=1024,MA=30;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>MA){const l=UA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J_(),{heartbeatsToSend:i,unsentEntries:a}=kA(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Wi.warn(e),""}}}function J_(){return new Date().toISOString().substring(0,10)}function kA(r,e=OA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class zA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function UA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function LA(r){$a(new Pr("platform-logger",e=>new JS(e),"PRIVATE")),$a(new Pr("heartbeat",e=>new VA(e),"PRIVATE")),Qs(Wd,Q_,r),Qs(Wd,Q_,"esm2020"),Qs("fire-js","")}LA("");var jA="firebase",PA="12.9.0";Qs(jA,PA,"app");function Ov(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BA=Ov,Mv=new Pl("auth","Firebase",Ov());const Kc=new Sm("@firebase/auth");function qA(r,...e){Kc.logLevel<=Oe.WARN&&Kc.warn(`Auth (${so}): ${r}`,...e)}function Mc(r,...e){Kc.logLevel<=Oe.ERROR&&Kc.error(`Auth (${so}): ${r}`,...e)}function es(r,...e){throw xm(r,...e)}function Si(r,...e){return xm(r,...e)}function Vv(r,e,i){const a={...BA(),[e]:i};return new Pl("auth","Firebase",a).create(e,{appName:r.name})}function Zi(r){return Vv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Mv.create(r,...e)}function _e(r,e,...i){if(!r)throw xm(e,...i)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mc(e),new Error(e)}function ts(r,e){r||Ji(e)}function nm(){return typeof self<"u"&&self.location?.href||""}function HA(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function FA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HA()||_S()||"connection"in navigator)?navigator.onLine:!0}function GA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ql{constructor(e,i){this.shortDelay=e,this.longDelay=i,ts(i>e,"Short delay should be less than long delay!"),this.isMobile=pS()||vS()}get(){return FA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,e){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YA=new ql(3e4,6e4);function Hl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ro(r,e,i,a,l={}){return zv(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:v,...c};return yS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),kv.fetch()(await Uv(r,r.config.apiHost,i,p),y)})}async function zv(r,e,i){r._canInitEmulator=!1;const a={...KA,...e};try{const l=new XA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Rc(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vv(r,S,y);es(r,S)}}catch(l){if(l instanceof rs)throw l;es(r,"network-request-failed",{message:String(l)})}}async function Cm(r,e,i,a,l={}){const c=await ro(r,e,i,a,l);return"mfaPendingCredential"in c&&es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Uv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,l):`${r.config.apiScheme}://${l}`;return QA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class XA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Si(this.auth,"network-request-failed")),YA.get())})}}function Rc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Si(r,e,a);return l.customData._tokenResponse=i,l}async function JA(r,e){return ro(r,"POST","/v1/accounts:delete",e)}async function Qc(r,e){return ro(r,"POST","/v1/accounts:lookup",e)}function Al(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(r,e=!1){const i=En(r),a=await i.getIdToken(e),l=Nm(a);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(Pd(l.auth_time)),issuedAtTime:Al(Pd(l.iat)),expirationTime:Al(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Nm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=bv(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W_(r){const e=Nm(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Il(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof rs&&ZA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ZA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class WA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(r){const e=r.auth,i=await r.getIdToken(),a=await Il(r,Qc(e,{idToken:i}));_e(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Lv(l.providerUserInfo):[],d=tw(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function ew(r){const e=En(r);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tw(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Lv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function nw(r,e){const i=await zv(r,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Uv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(v.credentials="include"),kv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iw(r,e){return ro(r,"POST","/v2/accounts:revokeToken",Hl(r,e))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=W_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await nw(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(_e(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(_e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function js(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Il(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return $A(this,e)}reload(){return ew(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Il(this,JA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:H,providerData:Q,stsTokenManager:W}=i;_e(A&&W,e,"internal-error");const ee=Ga.fromJSON(this.name,W);_e(typeof A=="string",e,"internal-error"),js(a,e.name),js(l,e.name),_e(typeof D=="boolean",e,"internal-error"),_e(typeof H=="boolean",e,"internal-error"),js(c,e.name),js(d,e.name),js(p,e.name),js(v,e.name),js(y,e.name),js(S,e.name);const se=new $n({uid:A,auth:e,email:l,emailVerified:D,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:y,lastLoginAt:S});return Q&&Array.isArray(Q)&&(se.providerData=Q.map(oe=>({...oe}))),v&&(se._redirectEventId=v),se}static async _fromIdTokenResponse(e,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Lv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const v=new $n({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const e0=new Map;function $i(r){ts(r instanceof Function,"Expected a class definition");let e=e0.get(r);return e?(ts(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,e0.set(r,e),e)}class jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}jv.type="NONE";const t0=jv;function Vc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ka{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Qc(this.auth,{idToken:e}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ka($i(t0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||$i(t0);const d=Vc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let A;if(typeof S=="string"){const D=await Qc(e,{idToken:S}).catch(()=>{});if(!D)break;A=await $n._fromGetAccountInfoResponse(e,D,S)}else A=$n._fromJSON(e,S);y!==c&&(p=A),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ka(c,e,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,e,a))}}function n0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gv(e))return"Blackberry";if(Kv(e))return"Webos";if(Bv(e))return"Safari";if((e.includes("chrome/")||qv(e))&&!e.includes("edge/"))return"Chrome";if(Fv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Pv(r=Wt()){return/firefox\//i.test(r)}function Bv(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qv(r=Wt()){return/crios\//i.test(r)}function Hv(r=Wt()){return/iemobile/i.test(r)}function Fv(r=Wt()){return/android/i.test(r)}function Gv(r=Wt()){return/blackberry/i.test(r)}function Kv(r=Wt()){return/webos/i.test(r)}function Im(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sw(r=Wt()){return Im(r)&&!!window.navigator?.standalone}function rw(){return bS()&&document.documentMode===10}function Qv(r=Wt()){return Im(r)||Fv(r)||Kv(r)||Gv(r)||/windows phone/i.test(r)||Hv(r)}function Yv(r,e=[]){let i;switch(r){case"Browser":i=n0(Wt());break;case"Worker":i=`${n0(Wt())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class aw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const v=e(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ow(r,e={}){return ro(r,"GET","/v2/passwordPolicy",Hl(r,e))}const lw=6;class uw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class cw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i0(this),this.idTokenSubscription=new i0(this),this.beforeStateQueue=new aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Qc(this,{idToken:e}),a=await $n._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Zi(this));const i=e?En(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ow(this),i=new uw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await iw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&$i(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fl(r){return En(r)}class i0{constructor(e){this.auth=e,this.observer=null,this.addObserver=CS(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hw(r){Dm=r}function fw(r){return Dm.loadJS(r)}function dw(){return Dm.gapiScript}function mw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function pw(r,e){const i=wm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(jr(c,e??{}))return l;es(l,"already-initialized")}return i.initialize({options:e})}function gw(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function yw(r,e,i){const a=Fl(r);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Xv(e),{host:d,port:p}=_w(e),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(jr(y,a.config.emulator)&&jr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,io(d)?(Av(`${c}//${d}${v}`),wv("Auth",!0)):vw()}function Xv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _w(r){const e=Xv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:s0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:s0(d)}}}function s0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Jv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function Qa(r,e){return Cm(r,"POST","/v1/accounts:signInWithIdp",Hl(r,e))}const bw="http://localhost";class Br extends Jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Br(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Qa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Qa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Qa(e,i)}buildRequest(){const e={requestUri:bw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bl(i)}return e}}class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gl extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends Gl{constructor(){super("facebook.com")}static credential(e){return Br._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Bs extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Gl{constructor(){super("github.com")}static credential(e){return Br._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Gl{constructor(){super("twitter.com")}static credential(e,i){return Br._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function Ew(r,e){return Cm(r,"POST","/v1/accounts:signUp",Hl(r,e))}class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await $n._fromIdTokenResponse(e,a,l),d=r0(a);return new ns({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=r0(a);return new ns({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function r0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Tw(r){if(kn(r.app))return Promise.reject(Zi(r));const e=Fl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ns({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await Ew(e,{returnSecureToken:!0}),a=await ns._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Xc extends rs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Xc(e,i,a,l)}}function Zv(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,c,e,a):c})}async function Sw(r,e,i=!1){const a=await Il(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ns._forOperation(r,"link",a)}async function Aw(r,e,i=!1){const{auth:a}=r;if(kn(a.app))return Promise.reject(Zi(a));const l="reauthenticate";try{const c=await Il(r,Zv(a,l,e,r),i);_e(c.idToken,a,"internal-error");const d=Nm(c.idToken);_e(d,a,"internal-error");const{sub:p}=d;return _e(r.uid===p,a,"user-mismatch"),ns._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function ww(r,e,i=!1){if(kn(r.app))return Promise.reject(Zi(r));const a="signIn",l=await Zv(r,a,e),c=await ns._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function xw(r,e){return Cm(r,"POST","/v1/accounts:signInWithCustomToken",Hl(r,e))}async function Rw(r,e){if(kn(r.app))return Promise.reject(Zi(r));const i=Fl(r),a=await xw(i,{token:e,returnSecureToken:!0}),l=await ns._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Cw(r,e,i,a){return En(r).onIdTokenChanged(e,i,a)}function Nw(r,e,i){return En(r).beforeAuthStateChanged(e,i)}function Iw(r,e,i,a){return En(r).onAuthStateChanged(e,i,a)}const Jc="__sak";class Wv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dw=1e3,Ow=10;class eb extends Wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);rw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Ow):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}eb.type="LOCAL";const Mw=eb;class tb extends Wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}tb.type="SESSION";const nb=tb;function Vw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await Vw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Om(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class kw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Om("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function zw(r){Ai().location.href=r}function ib(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function Uw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lw(){return navigator?.serviceWorker?.controller||null}function jw(){return ib()?self:null}const sb="firebaseLocalStorageDb",Pw=1,$c="firebaseLocalStorage",rb="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,e){return r.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function Bw(){const r=indexedDB.deleteDatabase(sb);return new Kl(r).toPromise()}function sm(){const r=indexedDB.open(sb,Pw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:rb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?e(a):(a.close(),await Bw(),e(await sm()))})})}async function a0(r,e,i){const a=mh(r,!0).put({[rb]:e,value:i});return new Kl(a).toPromise()}async function qw(r,e){const i=mh(r,!1).get(e),a=await new Kl(i).toPromise();return a===void 0?null:a.value}function o0(r,e){const i=mh(r,!0).delete(e);return new Kl(i).toPromise()}const Hw=800,Fw=3;class ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Fw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(jw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Uw(),!this.activeServiceWorker)return;this.sender=new kw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await a0(e,Jc,"1"),await o0(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>a0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>qw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>o0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Kl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ab.type="LOCAL";const Gw=ab;new ql(3e4,6e4);function Kw(r,e){return e?$i(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mm extends Jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Qa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Qw(r){return ww(r.auth,new Mm(r),r.bypassAuthState)}function Yw(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),Aw(i,new Mm(r),r.bypassAuthState)}async function Xw(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),Sw(i,new Mm(r),r.bypassAuthState)}class ob{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qw;case"linkViaPopup":case"linkViaRedirect":return Xw;case"reauthViaPopup":case"reauthViaRedirect":return Yw;default:es(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jw=new ql(2e3,1e4);class Fa extends ob{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jw.get())};e()}}Fa.currentPopupAction=null;const $w="pendingRedirect",kc=new Map;class Zw extends ob{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const a=await Ww(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ww(r,e){const i=n2(e),a=t2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function e2(r,e){kc.set(r._key(),e)}function t2(r){return $i(r._redirectPersistence)}function n2(r){return Vc($w,r.config.apiKey,r.name)}async function i2(r,e,i=!1){if(kn(r.app))return Promise.reject(Zi(r));const a=Fl(r),l=Kw(a,e),d=await new Zw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const s2=600*1e3;class r2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!lb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(e))}saveEventToCache(e){this.cachedEventUids.add(l0(e)),this.lastProcessedEventTime=Date.now()}}function l0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function a2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lb(r);default:return!1}}async function o2(r,e={}){return ro(r,"GET","/v1/projects",e)}const l2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u2=/^https?/;async function c2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await o2(r);for(const i of e)try{if(h2(i))return}catch{}es(r,"unauthorized-domain")}function h2(r){const e=nm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!u2.test(i))return!1;if(l2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const f2=new ql(3e4,6e4);function u0(){const r=Ai().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function d2(r){return new Promise((e,i)=>{function a(){u0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u0(),i(Si(r,"network-request-failed"))},timeout:f2.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=mw("iframefcb");return Ai()[l]=()=>{gapi.load?a():i(Si(r,"network-request-failed"))},fw(`${dw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function m2(r){return zc=zc||d2(r),zc}const p2=new ql(5e3,15e3),g2="__/auth/iframe",y2="emulator/auth/iframe",_2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b2(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Rm(e,y2):`https://${r.config.authDomain}/${g2}`,a={apiKey:e.apiKey,appName:r.name,v:so},l=v2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function E2(r){const e=await m2(r),i=Ai().gapi;return _e(i,r,"internal-error"),e.open({where:document.body,url:b2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Si(r,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},p2.get());function v(){Ai().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const T2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S2=500,A2=600,w2="_blank",x2="http://localhost";class c0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R2(r,e,i,a=S2,l=A2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...T2,width:a.toString(),height:l.toString(),top:c,left:d},y=Wt().toLowerCase();i&&(p=qv(y)?w2:i),Pv(y)&&(e=e||x2,v.scrollbars="yes");const S=Object.entries(v).reduce((D,[H,Q])=>`${D}${H}=${Q},`,"");if(sw(y)&&p!=="_self")return C2(e||"",p),new c0(null);const A=window.open(e||"",p,S);_e(A,r,"popup-blocked");try{A.focus()}catch{}return new c0(A)}function C2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const N2="__/auth/handler",I2="emulator/auth/handler",D2=encodeURIComponent("fac");async function h0(r,e,i,a,l,c){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:so,eventId:l};if(e instanceof $v){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",RS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof Gl){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await r._getAppCheckToken(),y=v?`#${D2}=${encodeURIComponent(v)}`:"";return`${O2(r)}?${Bl(p).slice(1)}${y}`}function O2({config:r}){return r.emulator?Rm(r,I2):`https://${r.authDomain}/${N2}`}const Bd="webStorageSupport";class M2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nb,this._completeRedirectFn=i2,this._overrideRedirectResult=e2}async _openPopup(e,i,a,l){ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await h0(e,i,a,nm(),l);return R2(e,c,Om())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await h0(e,i,a,nm(),l);return zw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await E2(e),a=new r2(e);return i.register("authEvent",l=>(_e(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=c2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Qv()||Bv()||Im()}}const V2=M2;var f0="@firebase/auth",d0="1.12.0";class k2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function z2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U2(r){$a(new Pr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yv(r)},y=new cw(a,l,c,v);return gw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),$a(new Pr("auth-internal",e=>{const i=Fl(e.getProvider("auth").getImmediate());return(a=>new k2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(f0,d0,z2(r)),Qs(f0,d0,"esm2020")}const L2=300,j2=Sv("authIdTokenMaxAge")||L2;let m0=null;const P2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>j2)return;const l=i?.token;m0!==l&&(m0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function B2(r=Nv()){const e=wm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=pw(r,{popupRedirectResolver:V2,persistence:[Gw,Mw,nb]}),a=Sv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=P2(c.toString());Nw(i,d,()=>d(i.currentUser)),Cw(i,p=>d(p))}}const l=Ev("auth");return l&&yw(i,`http://${l}`),i}function q2(){return document.getElementsByTagName("head")?.[0]??document}hw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Si("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",q2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U2("Browser");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,ub;(function(){var r;function e(R,w){function N(){}N.prototype=w.prototype,R.F=w.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(V,I,k){for(var x=Array(arguments.length-2),st=2;st<arguments.length;st++)x[st-2]=arguments[st];return w.prototype[I].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,N){N||(N=0);const V=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)V[I]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(I=0;I<16;++I)V[I]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=R.g[0],N=R.g[1],I=R.g[2];let k=R.g[3],x;x=w+(k^N&(I^k))+V[0]+3614090360&4294967295,w=N+(x<<7&4294967295|x>>>25),x=k+(I^w&(N^I))+V[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(N^k&(w^N))+V[2]+606105819&4294967295,I=k+(x<<17&4294967295|x>>>15),x=N+(w^I&(k^w))+V[3]+3250441966&4294967295,N=I+(x<<22&4294967295|x>>>10),x=w+(k^N&(I^k))+V[4]+4118548399&4294967295,w=N+(x<<7&4294967295|x>>>25),x=k+(I^w&(N^I))+V[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(N^k&(w^N))+V[6]+2821735955&4294967295,I=k+(x<<17&4294967295|x>>>15),x=N+(w^I&(k^w))+V[7]+4249261313&4294967295,N=I+(x<<22&4294967295|x>>>10),x=w+(k^N&(I^k))+V[8]+1770035416&4294967295,w=N+(x<<7&4294967295|x>>>25),x=k+(I^w&(N^I))+V[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(N^k&(w^N))+V[10]+4294925233&4294967295,I=k+(x<<17&4294967295|x>>>15),x=N+(w^I&(k^w))+V[11]+2304563134&4294967295,N=I+(x<<22&4294967295|x>>>10),x=w+(k^N&(I^k))+V[12]+1804603682&4294967295,w=N+(x<<7&4294967295|x>>>25),x=k+(I^w&(N^I))+V[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(N^k&(w^N))+V[14]+2792965006&4294967295,I=k+(x<<17&4294967295|x>>>15),x=N+(w^I&(k^w))+V[15]+1236535329&4294967295,N=I+(x<<22&4294967295|x>>>10),x=w+(I^k&(N^I))+V[1]+4129170786&4294967295,w=N+(x<<5&4294967295|x>>>27),x=k+(N^I&(w^N))+V[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^N&(k^w))+V[11]+643717713&4294967295,I=k+(x<<14&4294967295|x>>>18),x=N+(k^w&(I^k))+V[0]+3921069994&4294967295,N=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(N^I))+V[5]+3593408605&4294967295,w=N+(x<<5&4294967295|x>>>27),x=k+(N^I&(w^N))+V[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^N&(k^w))+V[15]+3634488961&4294967295,I=k+(x<<14&4294967295|x>>>18),x=N+(k^w&(I^k))+V[4]+3889429448&4294967295,N=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(N^I))+V[9]+568446438&4294967295,w=N+(x<<5&4294967295|x>>>27),x=k+(N^I&(w^N))+V[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^N&(k^w))+V[3]+4107603335&4294967295,I=k+(x<<14&4294967295|x>>>18),x=N+(k^w&(I^k))+V[8]+1163531501&4294967295,N=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(N^I))+V[13]+2850285829&4294967295,w=N+(x<<5&4294967295|x>>>27),x=k+(N^I&(w^N))+V[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^N&(k^w))+V[7]+1735328473&4294967295,I=k+(x<<14&4294967295|x>>>18),x=N+(k^w&(I^k))+V[12]+2368359562&4294967295,N=I+(x<<20&4294967295|x>>>12),x=w+(N^I^k)+V[5]+4294588738&4294967295,w=N+(x<<4&4294967295|x>>>28),x=k+(w^N^I)+V[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^N)+V[11]+1839030562&4294967295,I=k+(x<<16&4294967295|x>>>16),x=N+(I^k^w)+V[14]+4259657740&4294967295,N=I+(x<<23&4294967295|x>>>9),x=w+(N^I^k)+V[1]+2763975236&4294967295,w=N+(x<<4&4294967295|x>>>28),x=k+(w^N^I)+V[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^N)+V[7]+4139469664&4294967295,I=k+(x<<16&4294967295|x>>>16),x=N+(I^k^w)+V[10]+3200236656&4294967295,N=I+(x<<23&4294967295|x>>>9),x=w+(N^I^k)+V[13]+681279174&4294967295,w=N+(x<<4&4294967295|x>>>28),x=k+(w^N^I)+V[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^N)+V[3]+3572445317&4294967295,I=k+(x<<16&4294967295|x>>>16),x=N+(I^k^w)+V[6]+76029189&4294967295,N=I+(x<<23&4294967295|x>>>9),x=w+(N^I^k)+V[9]+3654602809&4294967295,w=N+(x<<4&4294967295|x>>>28),x=k+(w^N^I)+V[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^N)+V[15]+530742520&4294967295,I=k+(x<<16&4294967295|x>>>16),x=N+(I^k^w)+V[2]+3299628645&4294967295,N=I+(x<<23&4294967295|x>>>9),x=w+(I^(N|~k))+V[0]+4096336452&4294967295,w=N+(x<<6&4294967295|x>>>26),x=k+(N^(w|~I))+V[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~N))+V[14]+2878612391&4294967295,I=k+(x<<15&4294967295|x>>>17),x=N+(k^(I|~w))+V[5]+4237533241&4294967295,N=I+(x<<21&4294967295|x>>>11),x=w+(I^(N|~k))+V[12]+1700485571&4294967295,w=N+(x<<6&4294967295|x>>>26),x=k+(N^(w|~I))+V[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~N))+V[10]+4293915773&4294967295,I=k+(x<<15&4294967295|x>>>17),x=N+(k^(I|~w))+V[1]+2240044497&4294967295,N=I+(x<<21&4294967295|x>>>11),x=w+(I^(N|~k))+V[8]+1873313359&4294967295,w=N+(x<<6&4294967295|x>>>26),x=k+(N^(w|~I))+V[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~N))+V[6]+2734768916&4294967295,I=k+(x<<15&4294967295|x>>>17),x=N+(k^(I|~w))+V[13]+1309151649&4294967295,N=I+(x<<21&4294967295|x>>>11),x=w+(I^(N|~k))+V[4]+4149444226&4294967295,w=N+(x<<6&4294967295|x>>>26),x=k+(N^(w|~I))+V[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~N))+V[2]+718787259&4294967295,I=k+(x<<15&4294967295|x>>>17),x=N+(k^(I|~w))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,w){w===void 0&&(w=R.length);const N=w-this.blockSize,V=this.C;let I=this.h,k=0;for(;k<w;){if(I==0)for(;k<=N;)l(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(V[I++]=R.charCodeAt(k++),I==this.blockSize){l(this,V),I=0;break}}else for(;k<w;)if(V[I++]=R[k++],I==this.blockSize){l(this,V),I=0;break}}this.h=I,this.o+=w},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)R[w++]=this.g[N]>>>V&255;return R};function c(R,w){var N=p;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=w(R)}function d(R,w){this.h=w;const N=[];let V=!0;for(let I=R.length-1;I>=0;I--){const k=R[I]|0;V&&k==w||(N[I]=k,V=!1)}this.g=N}var p={};function v(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return ee(y(-R));const w=[];let N=1;for(let V=0;R>=N;V++)w[V]=R/N|0,N*=4294967296;return new d(w,0)}function S(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return ee(S(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(w,8));let V=A;for(let k=0;k<R.length;k+=8){var I=Math.min(8,R.length-k);const x=parseInt(R.substring(k,k+I),w);I<8?(I=y(Math.pow(w,I)),V=V.j(I).add(y(x))):(V=V.j(N),V=V.add(y(x)))}return V}var A=v(0),D=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-ee(this).m();let R=0,w=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);R+=(V>=0?V:4294967296+V)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(W(this))return"-"+ee(this).toString(R);const w=y(Math.pow(R,6));var N=this;let V="";for(;;){const I=he(N,w).g;N=se(N,I.j(w));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=I,Q(N))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function W(R){return R.h==-1}r.l=function(R){return R=se(this,R),W(R)?-1:Q(R)?0:1};function ee(R){const w=R.g.length,N=[];for(let V=0;V<w;V++)N[V]=~R.g[V];return new d(N,~R.h).add(D)}r.abs=function(){return W(this)?ee(this):this},r.add=function(R){const w=Math.max(this.g.length,R.g.length),N=[];let V=0;for(let I=0;I<=w;I++){let k=V+(this.i(I)&65535)+(R.i(I)&65535),x=(k>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);V=x>>>16,k&=65535,x&=65535,N[I]=x<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function se(R,w){return R.add(ee(w))}r.j=function(R){if(Q(this)||Q(R))return A;if(W(this))return W(R)?ee(this).j(ee(R)):ee(ee(this).j(R));if(W(R))return ee(this.j(ee(R)));if(this.l(H)<0&&R.l(H)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,N=[];for(var V=0;V<2*w;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<R.g.length;I++){const k=this.i(V)>>>16,x=this.i(V)&65535,st=R.i(I)>>>16,Ct=R.i(I)&65535;N[2*V+2*I]+=x*Ct,oe(N,2*V+2*I),N[2*V+2*I+1]+=k*Ct,oe(N,2*V+2*I+1),N[2*V+2*I+1]+=x*st,oe(N,2*V+2*I+1),N[2*V+2*I+2]+=k*st,oe(N,2*V+2*I+2)}for(R=0;R<w;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=w;R<2*w;R++)N[R]=0;return new d(N,0)};function oe(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function $(R,w){this.g=R,this.h=w}function he(R,w){if(Q(w))throw Error("division by zero");if(Q(R))return new $(A,A);if(W(R))return w=he(ee(R),w),new $(ee(w.g),ee(w.h));if(W(w))return w=he(R,ee(w)),new $(ee(w.g),w.h);if(R.g.length>30){if(W(R)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var N=D,V=w;V.l(R)<=0;)N=He(N),V=He(V);var I=Re(N,1),k=Re(V,1);for(V=Re(V,2),N=Re(N,2);!Q(V);){var x=k.add(V);x.l(R)<=0&&(I=I.add(N),k=x),V=Re(V,1),N=Re(N,1)}return w=se(R,I.j(w)),new $(I,w)}for(I=A;R.l(w)>=0;){for(N=Math.max(1,Math.floor(R.m()/w.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(N),x=k.j(w);W(x)||x.l(R)>0;)N-=V,k=y(N),x=k.j(w);Q(k)&&(k=D),I=I.add(k),R=se(R,x)}return new $(I,R)}r.B=function(R){return he(this,R).h},r.and=function(R){const w=Math.max(this.g.length,R.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)&R.i(V);return new d(N,this.h&R.h)},r.or=function(R){const w=Math.max(this.g.length,R.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)|R.i(V);return new d(N,this.h|R.h)},r.xor=function(R){const w=Math.max(this.g.length,R.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)^R.i(V);return new d(N,this.h^R.h)};function He(R){const w=R.g.length+1,N=[];for(let V=0;V<w;V++)N[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(N,R.h)}function Re(R,w){const N=w>>5;w%=32;const V=R.g.length-N,I=[];for(let k=0;k<V;k++)I[k]=w>0?R.i(k+N)>>>w|R.i(k+N+1)<<32-w:R.i(k+N);return new d(I,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,ub=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Ys=d}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cb,_l,hb,Uc,rm,fb,db,mb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break e;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var te=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)te[Se-2]=arguments[Se];return m.prototype[U].apply(T,te)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Q(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const B=U.length||0;u.length=_+B;for(let te=0;te<B;te++)u[_+te]=U[te]}else u.push(U)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function se(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,_){const T=$.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var $=new W(()=>new he,u=>u.reset());class he{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let He,Re=!1,R=new oe,w=()=>{const u=Promise.resolve(void 0);He=()=>{u.then(N)}};function N(){for(var u;u=se();){try{u.h.call(u.g)}catch(_){ee(_)}var m=$;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(st,I),st.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ge(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let B=0;B<X.length;B++)_=X[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,_,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=we(u,m,T,U);return te>-1?(m=u[te],_||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,U),m.fa=_,u.push(m)),m};function ve(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(de(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function we(u,m,_,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return U}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Nt={};function rt(u,m,_,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)rt(u,m[B],_,T,U);return null}return _=fo(_),u&&u[Ct]?u.J(m,_,p(T)?!!T.capture:!1,U):ir(u,m,_,!1,T,U)}function ir(u,m,_,T,U,B){if(!m)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let Se=sr(u);if(Se||(u[ze]=Se=new ae(u)),_=Se.add(m,_,T,te,B),_.proxy)return _;if(T=Jr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ei(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jr(){function u(_){return m.call(u.src,u.listener,_)}const m=co;return u}function $r(u,m,_,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)$r(u,m[B],_,T,U);else T=p(T)?!!T.capture:!!T,_=fo(_),u&&u[Ct]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=we(m,_,T,U),_>-1&&(de(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,_,T,U)),(_=u>-1?m[u]:null)&&Zr(_))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ct])ve(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ei(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=sr(m))?(ve(_,u),_.h==0&&(_.src=null,m[ze]=null)):de(u)}}}function ei(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new st(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=_.call(T,m)}return u}function sr(u){return u=u[ze],u instanceof ae?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function yt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(yt,V),yt.prototype[Ct]=!0,yt.prototype.removeEventListener=function(u,m,_,T){$r(this,u,m,_,T)};function It(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var U=m;m=new I(T,u),ie(m,U)}U=!0;let B,te;if(_)for(te=_.length-1;te>=0;te--)B=m.g=_[te],U=as(B,T,!0,m)&&U;if(B=m.g=u,U=as(B,T,!0,m)&&U,U=as(B,T,!1,m)&&U,_)for(te=0;te<_.length;te++)B=m.g=_[te],U=as(B,T,!1,m)&&U}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)de(_[T]);delete u.g[m],u.h--}}this.G=null},yt.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},yt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function as(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==_){const Se=te.listener,ft=te.ha||te.src;te.fa&&ve(u.i,te),U=Se.call(ft,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){V.call(this),this.h=u,this.g={}}A(rr,V);var mo=[];function po(u){Le(u.g,function(m,_){this.g.hasOwnProperty(_)&&Zr(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),po(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Dh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function tu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){I.call(this,"d")}A(Pt,I);function Tn(){I.call(this,"c")}A(Tn,I);var ht={},nu=null;function Wr(){return nu=nu||new yt}ht.Ia="serverreachability";function iu(u){I.call(this,ht.Ia,u)}A(iu,I);function ti(u){const m=Wr();It(m,new iu(m))}ht.STAT_EVENT="statevent";function ar(u,m){I.call(this,ht.STAT_EVENT,u),this.stat=m}A(ar,I);function _t(u){const m=Wr();It(m,new ar(m,u))}ht.Ja="timingevent";function ni(u,m){I.call(this,ht.Ja,u),this.size=m}A(ni,I);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Oh(u,m,_,T,U,B){u.info(function(){if(u.g)if(B){var te="",Se=B.split("&");for(let Be=0;Be<Se.length;Be++){var ft=Se[Be].split("=");if(ft.length>1){const at=ft[0];ft=ft[1];const xn=at.split("_");te=xn.length>=2&&xn[1]=="type"?te+(at+"="+ft+"&"):te+(at+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+te})}function su(u,m,_,T,U,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+B+" "+te})}function si(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,_)+(T?" "+T:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return os(B)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function ur(){}A(ur,eu),ur.prototype.g=function(){return new XMLHttpRequest},yo=new ur;function Di(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Bn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var vt={},kt={};function ri(u,m,_){u.M=1,u.A=cr(Et(m)),u.u=_,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),ai(u),u.B=Et(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new qn,u.g=bu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let B=0;B<U.length;B++){const te=rt(_,U[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Gn(this.g),ft=this.g.ya(),Be=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||ft==7||(ft==8||Be<=0?ti(3):ti(2)),oi(this);var m=this.g.ca();this.X=m;var _=Vh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_t(12),fn(this),Sn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<_.length;)if(at=ou(this,_),at==kt){Se==4&&(this.m=4,_t(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),si(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,at,null),li(this,at);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||_.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Oo(te),te.P=!0,_t(11))}}else si(this.i,this.l,_,null),li(this,_);Se==4&&fn(this),this.o&&!this.K&&(Se==4?gu(this.j,this):(this.o=!1,ai(this)))}else Mi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),fn(this),Sn(this)}}}catch{}};function Vh(u){if(!au(u))return u.g.la();const m=Bt(u.g);if(m==="")return"";let _="";const T=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?kt:(_=Number(m.substring(_,T)),isNaN(_)?vt:(T+=1,T+_>m.length?kt:(m=m.slice(T,T+_),u.C=T+_,m)))}Bn.prototype.cancel=function(){this.K=!0,fn(this)};function ai(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),_t(17)),fn(this),this.m=2,Sn(this)):ta(this,this.T-u)};function Sn(u){u.j.I==0||u.K||gu(u.j,u)}function fn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ci(_.h,u))){if(!u.L&&ci(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),ps(_);else break e;yr(_),_t(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ii(y(_.Va,_),6e3));ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else gi(_,11)}else if((u.L||_.g==u)&&ua(_),!x(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Be=U[m];const at=Be[0];if(!(at<=_.K))if(_.K=at,Be=Be[1],_.I==2)if(Be[0]=="c"){_.M=Be[1],_.ba=Be[2];const xn=Be[3];xn!=null&&(_.ka=xn,_.j.info("VER="+_.ka));const yi=Be[4];yi!=null&&(_.za=yi,_.j.info("SVER="+_.za));const Kn=Be[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const _r=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var B=T.h;B.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(T.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Ke(T.J,T.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var te=u;if(T.na=vu(T,T.L?T.ba:null,T.W),te.L){Eo(T.h,te);var Se=te,ft=T.O;ft&&(Se.H=ft),Se.D&&(oi(Se),ai(Se)),T.g=te}else mu(T);_.i.length>0&&pi(_)}else Be[0]!="stop"&&Be[0]!="close"||gi(_,7);else _.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?gi(_,7):Io(_):Be[0]!="noop"&&_.l&&_.l.qa(Be),_.A=0)}}ti(4)}catch{}}var bt=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return H(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,B=null;T>=0?(U=u[_].substring(0,T),B=u[_].substring(T+1)):U=u[_],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,So(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,zt(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ls(this,m[4]),this.h=hi(m[5]||"",!0),So(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,ia,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(hr(_,_.charAt(0)=="/"?Ao:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",hr(_,cu)),u.join("")},dn.prototype.resolve=function(u){const m=Et(this);let _=!!u.j;_?zt(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ls(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Se=U[te++];Se=="."?T&&te==U.length&&B.push(""):Se==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==U.length&&B.push("")):(B.push(Se),T=!0)}T=B.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?So(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Et(u){return new dn(u)}function zt(u,m,_){u.j=_?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,_){m instanceof cs?(u.i=m,ra(u.i,u.l)):(_||(m=hr(m,us)),u.i=new cs(m,u.l))}function Ke(u,m,_){u.i.set(m,_)}function cr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,uu=/[#\?:]/g,Ao=/[#\?]/g,us=/[#\?@]/g,cu=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=cs.prototype,r.add=function(u,m){rn(this),this.i=null,u=hs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){rn(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return rn(u),m=hs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function xo(u,m){rn(u);let _=[];if(typeof m=="string")wo(u,m)&&(_=_.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=hs(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(hs(u,m),H(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=Di(_);_=xo(this,_);for(let B=0;B<_.length;B++){let te=U;_[B]!==""&&(te+="="+Di(_[B])),u.push(te)}}return this.i=u.join("&")};function fu(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(hu(this,T),sa(this,U,_))},u)),u.j=m}function Hn(u,m){const _=new Pn;if(d.Image){const T=new Image;T.onload=S(An,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(An,_,"TestLoadImage: error",!1,m,T),T.onabort=S(An,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(An,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const _=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),An(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?An(_,"TestPingServer: ok",!0,m):An(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(_,"TestPingServer: error",!1,m)})}function An(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function fs(){this.g=new Wl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(fi,eu),fi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){yt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(fr,yt),r=fr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Fn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},r.Na=function(u){this.g&&(this.response=u,ds(this))},r.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Le(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function dr(u,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=wn(_),typeof u=="string"?_!=null&&Di(_):Ke(u,m,_))}function Xe(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,yt);var di=/^https?$/i,Co=["POST","PUT"];r=Xe.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){mr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of _)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){mr(this,B)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Oi(u)}function No(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},r.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let te=String(u.D).match(lu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!di.test(te?te.toLowerCase():"")}_=T}if(_)It(u,"complete"),It(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",No(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||It(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var _=ru(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[U]||[];m[U]=B,B.push(_)}Ge(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){_t(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),pi(this)};function Io(u){if(oa(u),u.I==3){var m=u.V++,_=Et(u.J);if(Ke(_,"SID",u.M),Ke(_,"RID",m),Ke(_,"TYPE","terminate"),gr(u,_),m=new Bn(u,u.j,m),m.M=2,m.A=cr(Et(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}_u(u)}function ps(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function oa(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;He||w(),Re||(He(),Re=!0),R.add(m,u),u.D=0}}function la(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=du(this,U,m),_=Et(this.J),Ke(_,"RID",u),Ke(_,"CVER",22),this.G&&Ke(_,"X-HTTP-Session-Id",this.G),gr(this,_),B&&(this.R?m="headers="+Di(wn(B))+"&"+m:this.u&&dr(_,this.u,B)),bo(this.h,U),this.Ra&&Ke(_,"TYPE","init"),this.S?(Ke(_,"$req",m),Ke(_,"SID","null"),U.U=!0,ri(U,_,null)):ri(U,_,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||vo(this.h)||Do(this))};function Do(u,m){var _;m?_=m.l:_=u.V++;const T=Et(u.J);Ke(T,"SID",u.M),Ke(T,"RID",_),Ke(T,"AID",u.K),gr(u,T),u.u&&u.o&&dr(T,u.u,u.o),_=new Bn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,_),ri(_,T,m)}function gr(u,m){u.H&&Le(u.H,function(_,T){Ke(m,T,_)}),u.l&&Le({},function(_,T){Ke(m,T,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Se=-1;for(;;){const ft=["count="+_];Se==-1?_>0?(Se=U[0].g,ft.push("ofs="+Se)):Se=0:ft.push("ofs="+Se);let Be=!0;for(let at=0;at<_;at++){var B=U[at].g;const xn=U[at].map;if(B-=Se,B<0)Se=Math.max(0,U[at].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var te=xn instanceof Map?xn:Object.entries(xn);for(const[yi,Kn]of te){let Qn=Kn;p(Kn)&&(Qn=os(Kn)),ft.push(B+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw ft.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(xn)}}if(Be){te=ft.join("&");break e}}te=void 0}return u=u.i.splice(0,_),m.G=u,te}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;He||w(),Re||(He(),Re=!0),R.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),ps(this),pu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Et(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=cr(Et(m)),_.u=null,_.R=!0,ea(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ps(this),yr(this),_t(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){ua(u),Oo(u),u.g=null;var T=2}else if(ci(u.h,m))_=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Wr(),It(T,new ni(T,_)),pi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&la(u,m)||T==2&&yr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(T,"https"),cr(T),U?Hn(T.toString(),_):Ro(T.toString(),_)}else _t(2);u.I=0,u.l&&u.l.pa(m),_u(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ja,m),Q(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var T=_ instanceof dn?Et(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new dn(null);T&&zt(B,T),m&&(B.g=m),U&&ls(B,U),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Ke(T,_,m),Ke(T,"VER",u.ka),gr(u,T),T}function bu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new fi({ab:_})):new Xe(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){yt.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}A(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Io(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=os(u),u=_);m.i.push(new bt(m.Ya++,u)),m.I==3&&pi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,tn.Z.N.call(this)};function Tu(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,Pt);function Su(){Tn.call(this),this.status=1}A(Su,Tn);function Vi(u){this.g=u}A(Vi,Eu),Vi.prototype.ra=function(){It(this.g,"a")},Vi.prototype.qa=function(u){It(this.g,new Tu(u))},Vi.prototype.pa=function(u){It(this.g,new Su)},Vi.prototype.oa=function(){It(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,mb=function(){return new gs},db=function(){return Wr()},fb=ht,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Uc=lr,go.COMPLETE="complete",hb=go,tu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,_l=tu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,cb=Xe}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let ao="12.9.0";function H2(r){ao=r}const qr=new Sm("@firebase/firestore");function Pa(){return qr.logLevel}function re(r,...e){if(qr.logLevel<=Oe.DEBUG){const i=e.map(Vm);qr.debug(`Firestore (${ao}): ${r}`,...i)}}function is(r,...e){if(qr.logLevel<=Oe.ERROR){const i=e.map(Vm);qr.error(`Firestore (${ao}): ${r}`,...i)}}function Hr(r,...e){if(qr.logLevel<=Oe.WARN){const i=e.map(Vm);qr.warn(`Firestore (${ao}): ${r}`,...i)}}function Vm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ge(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,pb(r,a,i)}function pb(r,e,i){let a=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw is(a),new Error(a)}function Fe(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||pb(e,l,a)}function Te(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class gb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class G2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class K2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new gb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Q2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Y2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Q2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const a=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new g0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function J2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=J2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Me(r,e){return r<e?-1:r>e?1:0}function am(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return qd(l)===qd(c)?Me(l,c):qd(l)?1:-1}return Me(r.length,e.length)}const $2=55296,Z2=57343;function qd(r){const e=r.charCodeAt(0);return e>=$2&&e<=Z2}function Za(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const y0="__name__";class Ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ge(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Me(e.length,i.length)}static compareSegments(e,i){const a=Ti.isNumericId(e),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class nt extends Ti{construct(e,i,a){return new nt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new nt(i)}static emptyPath(){return new nt([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ti{construct(e,i,a){return new Qt(e,i,a)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new Qt([y0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return nt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function yb(r,e,i){if(!i)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ex(r,e,i,a){if(e===!0&&a===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _0(r){if(!me.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v0(r){if(me.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _b(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function Ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Rt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ql(r,e){if(!_b(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(Z.INVALID_ARGUMENT,i);return!0}const b0=-62135596800,E0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*E0);return new it(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<b0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function tx(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=be.fromTimestamp(a===1e9?new it(i+1,0):new it(i,a));return new Js(l,me.empty(),e)}function nx(r){return new Js(r.readTime,r.key,Dl)}class Js{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(be.min(),me.empty(),Dl)}static max(){return new Js(be.max(),me.empty(),Dl)}}function ix(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(r.documentKey,e.documentKey),i!==0?i:Me(r.largestBatchId,e.largestBatchId))}const sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==sx)throw r;re("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(e[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new J(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function ax(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Um=-1;function gh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function ox(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const vb="";function lx(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=T0(e)),e=ux(r.get(i),e);return T0(e)}function ux(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case vb:i+="";break;default:i+=c}}return i}function T0(r){return r+vb+""}function S0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Kr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class lt{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new lt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Kt.RED,this.left=l??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Kt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Zn([])}unionWith(e){let i=new Vt(Qt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Eb("Invalid base64 string: "+c):c}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const i=cx.exec(r);if(Fe(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const Tb="server_timestamp",Sb="__type__",Ab="__previous_value__",wb="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[Sb]?.stringValue===Tb}function yh(r){const e=r.mapValue.fields[Ab];return Lm(e)?yh(e):e}function Ol(r){const e=$s(r.mapValue.fields[wb].timestampValue);return new it(e.seconds,e.nanos)}class hx{constructor(e,i,a,l,c,d,p,v,y,S,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=A}}const Wc="(default)";class Ml{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}function fx(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(r.options.projectId,e)}const xb="__type__",dx="__max__",Ic={mapValue:{}},Rb="__vector__",eh="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:px(r)?9007199254740991:mx(r)?10:11:ge(28295,{value:r})}function Ni(r,e){if(r===e)return!0;const i=Ws(r);if(i!==Ws(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ol(r).isEqual(Ol(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return pt(l.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pt(l.integerValue)===pt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pt(l.doubleValue),p=pt(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Za(r.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(S0(d)!==S0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ni(d[v],p[v])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function Vl(r,e){return(r.values||[]).find((i=>Ni(i,e)))!==void 0}function Wa(r,e){if(r===e)return 0;const i=Ws(r),a=Ws(e);if(i!==a)return Me(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=pt(c.integerValue||c.doubleValue),v=pt(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return w0(r.timestampValue,e.timestampValue);case 4:return w0(Ol(r),Ol(e));case 5:return am(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Zs(c),v=Zs(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const S=Me(p[y],v[y]);if(S!==0)return S}return Me(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Me(pt(c.latitude),pt(d.latitude));return p!==0?p:Me(pt(c.longitude),pt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return x0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[eh]?.arrayValue,S=v[eh]?.arrayValue,A=Me(y?.values?.length||0,S?.values?.length||0);return A!==0?A:x0(y,S)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const D=am(v[A],S[A]);if(D!==0)return D;const H=Wa(p[v[A]],y[S[A]]);if(H!==0)return H}return Me(v.length,S.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function w0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const i=$s(r),a=$s(e),l=Me(i.seconds,a.seconds);return l!==0?l:Me(i.nanos,a.nanos)}function x0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Wa(i[l],a[l]);if(c)return c}return Me(i.length,a.length)}function eo(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return me.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(r.mapValue):ge(61005,{value:r})}function Lc(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(r);return e?16+Lc(e):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Kr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(r.mapValue);default:throw ge(13486,{value:r})}}function lm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function R0(r){return!!r&&"nullValue"in r}function C0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function mx(r){return(r?.mapValue?.fields||{})[xb]?.stringValue===Rb}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Kr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=wl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wl(r.arrayValue.values[i]);return e}return{...r}}function px(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dx}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(i)}setAll(e){let i=Qt.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Kr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new zn(wl(this.value))}}function Cb(r){const e=[];return Kr(r.fields,((i,a)=>{const l=new Qt([i]);if(jc(a)){const c=Cb(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Zn(e)}class Zt{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),zn.empty(),0)}static newFoundDocument(e,i,a,l){return new Zt(e,1,i,be.min(),a,l,0)}static newNoDocument(e,i){return new Zt(e,2,i,be.min(),be.min(),zn.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,be.min(),be.min(),zn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function N0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function I0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],e.position[i]))return!1;return!0}class nh{constructor(e,i="asc"){this.field=e,this.dir=i}}function gx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Nb{}class Ot extends Nb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new _x(e,i,a):i==="array-contains"?new Ex(e,a):i==="in"?new Tx(e,a):i==="not-in"?new Sx(e,a):i==="array-contains-any"?new Ax(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new vx(e,a):new bx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends Nb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ii(e,i)}matches(e){return Ib(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ib(r){return r.op==="and"}function Db(r){return yx(r)&&Ib(r)}function yx(r){for(const e of r.filters)if(e instanceof Ii)return!1;return!0}function um(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(Db(r))return r.filters.map((e=>um(e))).join(",");{const e=r.filters.map((i=>um(i))).join(",");return`${r.op}(${e})`}}function Ob(r,e){return r instanceof Ot?(function(a,l){return l instanceof Ot&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(r,e):r instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&Ob(d,l.filters[p])),!0):!1})(r,e):void ge(19439)}function Mb(r){return r instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(r):r instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(Mb).join(" ,")+"}"})(r):"Filter"}class _x extends Ot{constructor(e,i,a){super(e,i,a),this.key=me.fromName(a.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class vx extends Ot{constructor(e,i){super(e,"in",i),this.keys=Vb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class bx extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=Vb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Vb(r,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class Ex extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&Vl(i.arrayValue,this.value)}}class Tx extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class Sx extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class Ax extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class wx{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function D0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new wx(r,e,i,a,l,c,d)}function Pm(r){const e=Te(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>um(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>eo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>eo(a))).join(",")),e.Te=i}return e.Te}function Bm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!gx(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Ob(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!I0(r.startAt,e.startAt)&&I0(r.endAt,e.endAt)}function cm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xx(r,e,i,a,l,c,d,p){return new _h(r,e,i,a,l,c,d,p)}function qm(r){return new _h(r)}function O0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Rx(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Cx(r){return r.collectionGroup!==null}function xl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt(Qt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nh(c,a))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new nh(Qt.keyField(),a))}return e.Ie}function wi(r){const e=Te(r);return e.Ee||(e.Ee=Nx(e,xl(r))),e.Ee}function Nx(r,e){if(r.limitType==="F")return D0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return D0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function hm(r,e,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return Bm(wi(r),wi(e))&&r.limitType===e.limitType}function kb(r){return`${Pm(wi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Mb(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(wi(r))}; limitType=${r.limitType})`}function bh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):me.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=N0(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,p,v){const y=N0(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,xl(a),l))})(r,e)}function Ix(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zb(r){return(e,i)=>{let a=!1;for(const l of xl(r)){const c=Dx(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Dx(r,e,i){const a=r.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Wa(v,y):ge(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ge(19790,{direction:r.dir})}}class Qr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}const Ox=new lt(me.comparator);function ss(){return Ox}const Ub=new lt(me.comparator);function vl(...r){let e=Ub;for(const i of r)e=e.insert(i.key,i);return e}function Lb(r){let e=Ub;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function kr(){return Rl()}function jb(){return Rl()}function Rl(){return new Qr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Mx=new lt(me.comparator),Vx=new Vt(me.comparator);function Ve(...r){let e=Vx;for(const i of r)e=e.add(i);return e}const kx=new Vt(Me);function zx(){return kx}function Hm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function Pb(r){return{integerValue:""+r}}function Ux(r,e){return ox(e)?Pb(e):Hm(r,e)}class Eh{constructor(){this._=void 0}}function Lx(r,e,i){return r instanceof ih?(function(l,c){const d={fields:{[Sb]:{stringValue:Tb},[wb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=yh(c)),c&&(d.fields[Ab]=c),{mapValue:d}})(i,e):r instanceof kl?qb(r,e):r instanceof zl?Hb(r,e):(function(l,c){const d=Bb(l,c),p=M0(d)+M0(l.Ae);return lm(d)&&lm(l.Ae)?Pb(p):Hm(l.serializer,p)})(r,e)}function jx(r,e,i){return r instanceof kl?qb(r,e):r instanceof zl?Hb(r,e):i}function Bb(r,e){return r instanceof sh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ih extends Eh{}class kl extends Eh{constructor(e){super(),this.elements=e}}function qb(r,e){const i=Fb(e);for(const a of r.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class zl extends Eh{constructor(e){super(),this.elements=e}}function Hb(r,e){let i=Fb(e);for(const a of r.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class sh extends Eh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function M0(r){return pt(r.integerValue||r.doubleValue)}function Fb(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Px(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof zl&&l instanceof zl?Za(a.elements,l.elements,Ni):a instanceof sh&&l instanceof sh?Ni(a.Ae,l.Ae):a instanceof ih&&l instanceof ih})(r.transform,e.transform)}class Bx{constructor(e,i){this.version=e,this.transformResults=i}}class xi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Th{}function Gb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fm(r.key,xi.none()):new Yl(r.key,r.data,xi.none());{const i=r.data,a=zn.empty();let l=new Vt(Qt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Yr(r.key,a,new Zn(l.toArray()),xi.none())}}function qx(r,e,i){r instanceof Yl?(function(l,c,d){const p=l.value.clone(),v=k0(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Yr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=k0(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Kb(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Cl(r,e,i,a){return r instanceof Yl?(function(c,d,p,v){if(!Pc(c.precondition,d))return p;const y=c.value.clone(),S=z0(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof Yr?(function(c,d,p,v){if(!Pc(c.precondition,d))return p;const y=z0(c.fieldTransforms,v,d),S=d.data;return S.setAll(Kb(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function Hx(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=Bb(a.transform,l||null);c!=null&&(i===null&&(i=zn.empty()),i.set(a.field,c))}return i||null}function V0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>Px(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yl extends Th{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Yr extends Th{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Kb(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function k0(r,e,i){const a=new Map;Fe(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,jx(d,p,i[l]))}return a}function z0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Lx(c,d,e))}return a}class Fm extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gx{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&qx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Cl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Cl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=jb();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=Gb(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,a)=>V0(i,a)))&&Za(this.baseMutations,e.baseMutations,((i,a)=>V0(i,a)))}}class Gm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Fe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Mx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(e,i,a,l)}}class Kx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Qx{constructor(e,i){this.count=e,this.unchangedNames=i}}var xt,Ue;function Yx(r){switch(r){case Z.OK:return ge(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function Qb(r){if(r===void 0)return is("GRPC error has no .code"),Z.UNKNOWN;switch(r){case xt.OK:return Z.OK;case xt.CANCELLED:return Z.CANCELLED;case xt.UNKNOWN:return Z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Z.INTERNAL;case xt.UNAVAILABLE:return Z.UNAVAILABLE;case xt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xt.NOT_FOUND:return Z.NOT_FOUND;case xt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xt.ABORTED:return Z.ABORTED;case xt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xt.DATA_LOSS:return Z.DATA_LOSS;default:return ge(39323,{code:r})}}(Ue=xt||(xt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function Xx(){return new TextEncoder}const Jx=new Ys([4294967295,4294967295],0);function U0(r){const e=Xx().encode(r),i=new ub;return i.update(e),new Uint8Array(i.digest())}function L0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ys([i,a],0),new Ys([l,c],0)]}class Km{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ys.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Ys.fromNumber(a)));return l.compare(Jx)===1&&(l=new Ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=U0(e),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=U0(e),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(be.min(),l,new lt(Me),ss(),Ve())}}class Xl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,Ve(),Ve(),Ve())}}class Bc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class Yb{constructor(e,i){this.targetId=e,this.Ce=i}}class Xb{constructor(e,i,a=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class j0{constructor(){this.ve=0,this.Fe=P0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),i=Ve(),a=Ve();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ge(38017,{changeType:c})}})),new Xl(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=P0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $x{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.He=Dc(),this.Je=Dc(),this.Ze=new lt(Me)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new me(c.path);this.et(i,d,Zt.newNoDocument(d,be.min()))}else Fe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zs(a).toUint8Array()}catch(v){if(v instanceof Eb)return Hr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Km(d,l,c)}catch(v){return Hr(v instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const v=new me(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Zt.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ve();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Sh(e,i,this.Ze,this.je,a);return this.je=ss(),this.He=Dc(),this.Je=Dc(),this.Ze=new lt(Me),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new j0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Vt(Me),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Vt(Me),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Dc(){return new lt(me.comparator)}function P0(){return new lt(me.comparator)}const Zx={asc:"ASCENDING",desc:"DESCENDING"},Wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eR={and:"AND",or:"OR"};class tR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fm(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nR(r,e){return rh(r,e.toTimestamp())}function Ri(r){return Fe(!!r,49232),be.fromTimestamp((function(i){const a=$s(i);return new it(a.seconds,a.nanos)})(r))}function Qm(r,e){return dm(r,e).canonicalString()}function dm(r,e){const i=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function $b(r){const e=nt.fromString(r);return Fe(nE(e),10190,{key:e.toString()}),e}function mm(r,e){return Qm(r.databaseId,e.path)}function Hd(r,e){const i=$b(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new me(Wb(i))}function Zb(r,e){return Qm(r.databaseId,e)}function iR(r){const e=$b(r);return e.length===4?nt.emptyPath():Wb(e)}function pm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Wb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function B0(r,e,i){return{name:mm(r,e),fields:i.value.mapValue.fields}}function sR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Fe(S===void 0||typeof S=="string",58123),Yt.fromBase64String(S||"")):(Fe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Yt.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?Z.UNKNOWN:Qb(y.code);return new ce(S,y.message||"")})(d);i=new Xb(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):be.min(),p=new zn({mapValue:{fields:a.document.fields}}),v=Zt.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Bc(y,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Hd(r,a.document),c=a.readTime?Ri(a.readTime):be.min(),d=Zt.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Bc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Hd(r,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Qx(l,c),p=a.targetId;i=new Yb(p,d)}}return i}function rR(r,e){let i;if(e instanceof Yl)i={update:B0(r,e.key,e.value)};else if(e instanceof Fm)i={delete:mm(r,e.key)};else if(e instanceof Yr)i={update:B0(r,e.key,e.data),updateMask:mR(e.fieldMask)};else{if(!(e instanceof Fx))return ge(16599,{dt:e.type});i={verify:mm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(r,e.precondition)),i}function aR(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(be.min())&&(d=Ri(c)),new Bx(d,l.transformResults||[])})(i,e)))):[]}function oR(r,e){return{documents:[Zb(r,e.path)]}}function lR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Zb(r,l);const c=(function(y){if(y.length!==0)return tE(Ii.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(D){return{field:qa(D.field),direction:hR(D.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=fm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function uR(r){let e=iR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Fe(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const D=eE(A);return D instanceof Ii&&Db(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(Q){return new nh(Ha(Q.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let D;return D=typeof A=="object"?A.value:A,gh(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(A){const D=!!A.before,H=A.values||[];return new th(H,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const D=!A.before,H=A.values||[];return new th(H,D)})(i.endAt)),xx(e,l,d,c,p,"F",v,y)}function cR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function eE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ot.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>eE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(r):ge(30097,{filter:r})}function hR(r){return Zx[r]}function fR(r){return Wx[r]}function dR(r){return eR[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Qt.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof Ot?(function(i){if(i.op==="=="){if(C0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(R0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(C0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(R0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:fR(i.op),value:i.value}}})(r):r instanceof Ii?(function(i){const a=i.getFilters().map((l=>tE(l)));return a.length===1?a[0]:{compositeFilter:{op:dR(i.op),filters:a}}})(r):ge(54877,{filter:r})}function mR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function nE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function iE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Fs{constructor(e,i,a,l,c=be.min(),d=be.min(),p=Yt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pR{constructor(e){this.yt=e}}function gR(r){const e=uR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(e,e.limit,"L"):e}class yR{constructor(){this.Sn=new _R}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Js.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class _R{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Vt(nt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(sE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class to{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new to(0)}static ar(){return new to(-1)}}const H0="LruGarbageCollector",vR=1048576;function F0([r,e],[i,a]){const l=Me(r,i);return l===0?Me(e,a):l}class bR{constructor(e){this.Pr=e,this.buffer=new Vt(F0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();F0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ER{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(H0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?re(H0,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Ar(3e5)}))}}class TR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(ph.ce);const a=new bR(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(q0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,p,v,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(y=Date.now(),Pa()<=Oe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function SR(r,e){return new TR(r,e)}class AR{constructor(){this.changes=new Qr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class xR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Cl(a.mutation,l,Zn.empty(),it.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ve()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ve()){const l=kr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=vl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=kr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ve())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=ss();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((v,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof Yr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Cl(S.mutation,y,S.mutation.getFieldMask(),it.now())):d.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new wR(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Rl();let l=new lt(((d,p)=>d-p)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=a.get(v)||Zn.empty();S=p.applyToLocalView(y,S),a.set(v,S);const A=(l.get(p.batchId)||Ve()).add(v);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,S=v.value,A=jb();S.forEach((D=>{if(!c.has(D)){const H=Gb(i.get(D),a.get(D));H!==null&&A.set(D,H),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return Rx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Cx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):J.resolve(kr());let p=Dl,v=c;return d.next((y=>J.forEach(y,((S,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((D=>{v=v.insert(S,D)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,v,y,Ve()))).next((S=>({batchId:p,changes:Lb(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(v=>{const y=(function(A,D){return new _h(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((S=>{S.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Zt.newInvalidDocument(S)))}));let p=vl();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&Cl(S.mutation,y,Zn.empty(),it.now()),bh(i,y)&&(p=p.insert(v,y))})),p}))}}class RR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:gR(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),J.resolve()}}class CR{constructor(){this.overlays=new lt(me.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=kr();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const l=kr(),c=i.length+1,d=new me(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new lt(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=kr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=kr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return J.resolve(p)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Kx(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ve(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class NR{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Ym{constructor(){this.kr=new Vt(Lt.Kr),this.qr=new Vt(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Lt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Lt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new me(new nt([])),a=new Lt(i,e),l=new Lt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new me(new nt([])),a=new Lt(i,e),l=new Lt(i,e+1);let c=Ve();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Lt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return me.comparator(e.key,i.key)||Me(e.Hr,i.Hr)}static Ur(e,i){return Me(e.Hr,i.Hr)||me.comparator(e.key,i.key)}}class IR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Lt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Gx(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Lt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Um:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Lt(i,0),l=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Vt(Me);return i.forEach((l=>{const c=new Lt(l,0),d=new Lt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;me.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new me(c),0);let p=new Vt(Me);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Fe(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Lt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Lt(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class DR{constructor(e){this.ti=e,this.docs=(function(){return new lt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let a=ss();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ss();const d=i.path,p=new me(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ix(nx(S),a)<=0||(l.has(S.key)||bh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ge(9500)}ni(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new OR(this)}getSize(e){return J.resolve(this.size)}}class OR extends AR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class MR{constructor(e){this.persistence=e,this.ri=new Qr((i=>Pm(i)),Bm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Ym,this.targetCount=0,this.oi=to._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new to(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class rE{constructor(e,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new NR,this.referenceDelegate=e(this),this.li=new MR(this),this.indexManager=new yR,this.remoteDocumentCache=(function(l){return new DR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new pR(i),this.Pi=new RR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new CR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new IR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){re("MemoryPersistence","Starting transaction:",e);const l=new VR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class VR extends rx{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new Ym,this.Ai=null}static Vi(e){return new Xm(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=me.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ah{constructor(e,i){this.persistence=e,this.fi=new Qr((a=>lx(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=SR(this,i)}static Vi(e,i){return new ah(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lc(e.data.value)),i}wr(e,i,a){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Ve(),l=Ve();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,a,l)}}class kR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ES()?8:ax(Wt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new kR;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Pa()<=Oe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Pa()<=Oe.DEBUG&&re("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Pa()<=Oe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(i))):J.resolve())}gs(e,i){if(O0(i))return J.resolve(null);let a=wi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ve(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(e,hm(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,a,l){return O0(i)||l.isEqual(be.min())?J.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(Pa()<=Oe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.Ds(e,d,i,tx(l,Dl)).next((p=>p)))}))}bs(e,i){let a=new Vt(zb(e));return i.forEach(((l,c)=>{bh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Pa()<=Oe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.fs.getDocumentsMatchingQuery(e,i,Js.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",UR=3e8;class LR{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new lt(Me),this.Fs=new Qr((c=>Pm(c)),Bm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function jR(r,e,i,a){return new LR(r,e,i,a)}async function aE(r,e){const i=Te(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ve();for(const y of l){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function PR(r,e){const i=Te(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,S){const A=y.batch,D=A.keys();let H=J.resolve();return D.forEach((Q=>{H=H.next((()=>S.getEntry(v,Q))).next((W=>{const ee=y.docVersions.get(Q);Fe(ee!==null,48541),W.version.compareTo(ee)<0&&(A.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),S.addEntry(W)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ve();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function oE(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function BR(r,e){const i=Te(r),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((S,A)=>{const D=l.get(A);if(!D)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let H=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),l=l.insert(A,H),(function(W,ee,se){return W.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=UR?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(D,H,S)&&p.push(i.li.updateTargetData(c,H))}));let v=ss(),y=Ve();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(qR(c,d,e.documentUpdates).next((S=>{v=S.Bs,y=S.Ls}))),!a.isEqual(be.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function qR(r,e,i){let a=Ve(),l=Ve();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=ss();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(be.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):re($m,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function HR(r,e){const i=Te(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function FR(r,e){const i=Te(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Fs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function gm(r,e,i){const a=Te(r),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!lo(d))throw d;re($m,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function G0(r,e,i){const a=Te(r);let l=be.min(),c=Ve();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const A=Te(v),D=A.Fs.get(S);return D!==void 0?J.resolve(A.vs.get(D)):A.li.getTargetData(y,S)})(a,d,wi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:be.min(),i?c:Ve()))).next((p=>(GR(a,Ix(e),p),{documents:p,ks:c})))))}function GR(r,e,i){let a=r.Ms.get(e)||be.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(e,a)}class K0{constructor(){this.activeTargetIds=zx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KR{constructor(){this.vo=new K0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new K0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QR{Mo(e){}shutdown(){}}const Q0="ConnectivityMonitor";class Y0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(Q0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(Q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function ym(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Fd="RestConnection",YR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class XR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=ym(),p=this.Qo(e,i.toUriEncodedString());re(Fd,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),S=io(y);return this.zo(e,p,v,a,S).then((A=>(re(Fd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Hr(Fd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=YR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class JR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",yl=(r,e,i)=>{r.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ya extends XR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ya.c_){const e=db();yl(e,fb.STAT_EVENT,(i=>{i.stat===rm.PROXY?re(Jt,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&re(Jt,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(e,i,a,l,c){const d=ym();return new Promise(((p,v)=>{const y=new cb;y.setWithCredentials(!0),y.listenOnce(hb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();re(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Uc.TIMEOUT:re(Jt,`RPC '${e}' ${d} timed out`),v(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const D=y.getStatus();if(re(Jt,`RPC '${e}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const Q=H?.error;if(Q&&Q.status&&Q.message){const W=(function(se){const oe=se.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(oe)>=0?oe:Z.UNKNOWN})(Q.status);v(new ce(W,Q.message))}else v(new ce(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{re(Jt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);re(Jt,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=ym(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");re(Jt,`Creating RPC '${e}' stream ${l}: ${y}`,p);const S=d.createWebChannel(y,p);this.I_(S);let A=!1,D=!1;const H=new JR({Ho:Q=>{D?re(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,Q):(A||(re(Jt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),A=!0),re(Jt,`RPC '${e}' stream ${l} sending:`,Q),S.send(Q))},Jo:()=>S.close()});return yl(S,_l.EventType.OPEN,(()=>{D||(re(Jt,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),yl(S,_l.EventType.CLOSE,(()=>{D||(D=!0,re(Jt,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(S))})),yl(S,_l.EventType.ERROR,(Q=>{D||(D=!0,Hr(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),H.o_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),yl(S,_l.EventType.MESSAGE,(Q=>{if(!D){const W=Q.data[0];Fe(!!W,16349);const ee=W,se=ee?.error||ee[0]?.error;if(se){re(Jt,`RPC '${e}' stream ${l} received error:`,se);const oe=se.status;let $=(function(Re){const R=xt[Re];if(R!==void 0)return Qb(R)})(oe),he=se.message;oe==="NOT_FOUND"&&he.includes("database")&&he.includes("does not exist")&&he.includes(this.databaseId.database)&&Hr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=Z.INTERNAL,he="Unknown error status: "+oe+" with message "+se.message),D=!0,H.o_(new ce($,he)),S.close()}else re(Jt,`RPC '${e}' stream ${l} received:`,W),H.__(W)}})),Ya.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mb()}}function $R(r){return new Ya(r)}function Gd(){return typeof document<"u"?document:null}function Ah(r){return new tR(r,!0)}Ya.c_=!1;class lE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const X0="PersistentStream";class uE{constructor(e,i,a,l,c,d,p,v){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ce(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(X0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(re(X0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZR extends uE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=sR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Ri(d.readTime):be.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=cm(v)?{documents:oR(c,v)}:{query:lR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Jb(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=cR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.K_(i)}}class WR extends uE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=aR(e.writeResults,e.commitTime),a=Ri(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=pm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>rR(this.serializer,a)))};this.K_(i)}}class eC{}class tC extends eC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,dm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nC(r,e,i,a){return new tC(r,e,i,a)}class iC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fr="RemoteStore";class sC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(re(Fr,"Restarting streams for network reachability change."),await(async function(v){const y=Te(v);y.Ea.add(4),await Jl(y),y.Va.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Va=new iC(a,l)}}async function wh(r){if(Xr(r))for(const e of r.Ra)await e(!0)}async function Jl(r){for(const e of r.Ra)await e(!1)}function cE(r,e){const i=Te(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tp(i)?ep(i):uo(i).O_()&&Wm(i,e))}function Zm(r,e){const i=Te(r),a=uo(i);i.Ia.delete(e),a.O_()&&hE(i,e),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Va.set("Unknown"))}function Wm(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}uo(r).Z_(e)}function hE(r,e){r.da.$e(e),uo(r).X_(e)}function ep(r){r.da=new $x({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Va.ua()}function tp(r){return Xr(r)&&!uo(r).x_()&&r.Ia.size>0}function Xr(r){return Te(r).Ea.size===0}function fE(r){r.da=void 0}async function rC(r){r.Va.set("Online")}async function aC(r){r.Ia.forEach(((e,i)=>{Wm(r,e)}))}async function oC(r,e){fE(r),tp(r)?(r.Va.ha(e),ep(r)):r.Va.set("Unknown")}async function lC(r,e,i){if(r.Va.set("Online"),e instanceof Xb&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,e)}catch(a){re(Fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(r,a)}else if(e instanceof Bc?r.da.Xe(e):e instanceof Yb?r.da.st(e):r.da.tt(e),!i.isEqual(be.min()))try{const a=await oE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Yt.EMPTY_BYTE_STRING,S.snapshotVersion)),hE(c,v);const A=new Fs(S.target,v,y,S.sequenceNumber);Wm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){re(Fr,"Failed to raise snapshot:",a),await oh(r,a)}}async function oh(r,e,i){if(!lo(e))throw e;r.Ea.add(1),await Jl(r),r.Va.set("Offline"),i||(i=()=>oE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{re(Fr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function dE(r,e){return e().catch((i=>oh(r,i,e)))}async function xh(r){const e=Te(r),i=er(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;uC(e);)try{const l=await HR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,cC(e,l)}catch(l){await oh(e,l)}mE(e)&&pE(e)}function uC(r){return Xr(r)&&r.Ta.length<10}function cC(r,e){r.Ta.push(e);const i=er(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function mE(r){return Xr(r)&&!er(r).x_()&&r.Ta.length>0}function pE(r){er(r).start()}async function hC(r){er(r).ra()}async function fC(r){const e=er(r);for(const i of r.Ta)e.ea(i.mutations)}async function dC(r,e,i){const a=r.Ta.shift(),l=Gm.from(a,e,i);await dE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function mC(r,e){e&&er(r).Y_&&await(async function(a,l){if((function(d){return Yx(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();er(a).B_(),await dE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,e),mE(r)&&pE(r)}async function J0(r,e){const i=Te(r);i.asyncQueue.verifyOperationInProgress(),re(Fr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Jl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function pC(r,e){const i=Te(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Jl(i),i.Va.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(i,a,l){const c=Te(i);return c.sa(),new ZR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:rC.bind(null,r),Yo:aC.bind(null,r),t_:oC.bind(null,r),J_:lC.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),tp(r)?ep(r):r.Va.set("Unknown")):(await r.ma.stop(),fE(r))}))),r.ma}function er(r){return r.fa||(r.fa=(function(i,a,l){const c=Te(i);return c.sa(),new WR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hC.bind(null,r),t_:mC.bind(null,r),ta:fC.bind(null,r),na:dC.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(re(Fr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class np{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new np(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(r,e){if(is("AsyncQueue",`${e}: ${r}`),lo(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||me.comparator(i.key,a.key):(i,a)=>me.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class $0{constructor(){this.ga=new lt(me.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class no{constructor(e,i,a,l,c,d,p,v,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(e,i,Xa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class gC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class yC{constructor(){this.queries=Z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Te(i),c=l.queries;l.queries=Z0(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function Z0(){return new Qr((r=>kb(r)),vh)}async function _C(r,e){const i=Te(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new gC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ip(d,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&sp(i)}async function vC(r,e){const i=Te(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function bC(r,e){const i=Te(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&sp(i)}function EC(r,e,i){const a=Te(r),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function sp(r){r.Ca.forEach((e=>{e.next()}))}var _m,W0;(W0=_m||(_m={})).Ma="default",W0.Cache="cache";class TC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new no(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class gE{constructor(e){this.key=e}}class yE{constructor(e){this.key=e}}class SC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=zb(e),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new $0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const D=l.get(S),H=bh(this.query,A)?A:null,Q=!!D&&this.mutatedKeys.has(D.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ee=!1;D&&H?D.data.isEqual(H.data)?Q!==W&&(a.track({type:3,doc:H}),ee=!0):this.su(D,H)||(a.track({type:2,doc:H}),ee=!0,(v&&this.eu(H,v)>0||y&&this.eu(H,y)<0)&&(p=!0)):!D&&H?(a.track({type:0,doc:H}),ee=!0):D&&!H&&(a.track({type:1,doc:D}),ee=!0,(v||y)&&(p=!0)),ee&&(H?(d=d.add(H),c=W?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(H,Q){const W=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:ee})}};return W(H)-W(Q)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new no(this.query,e.tu,c,d,e.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new yE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new gE(a))})),i}cu(e){this.Za=e.ks,this.Ya=Ve();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rp="SyncEngine";class AC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class wC{constructor(e){this.key=e,this.hu=!1}}class xC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qr((p=>kb(p)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new lt(me.comparator),this.Au=new Map,this.Vu=new Ym,this.du={},this.mu=new Map,this.fu=to.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RC(r,e,i=!0){const a=SE(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await _E(a,e,i,!0),l}async function CC(r,e){const i=SE(r);await _E(i,e,!0,!1)}async function _E(r,e,i,a){const l=await FR(r.localStore,wi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await NC(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&cE(r.remoteStore,l),p}async function NC(r,e,i,a,l){r.pu=(A,D,H)=>(async function(W,ee,se,oe){let $=ee.view.ru(se);$.Ss&&($=await G0(W.localStore,ee.query,!1).then((({documents:R})=>ee.view.ru(R,$))));const he=oe&&oe.targetChanges.get(ee.targetId),He=oe&&oe.targetMismatches.get(ee.targetId)!=null,Re=ee.view.applyChanges($,W.isPrimaryClient,he,He);return tv(W,ee.targetId,Re.au),Re.snapshot})(r,A,D,H);const c=await G0(r.localStore,e,!0),d=new SC(e,c.ks),p=d.ru(c.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,v);tv(r,i,y.au);const S=new AC(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function IC(r,e,i){const a=Te(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(oo)):(vm(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function DC(r,e){const i=Te(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function OC(r,e,i){const a=jC(r);try{const l=await(function(d,p){const v=Te(d),y=it.now(),S=p.reduce(((H,Q)=>H.add(Q.key)),Ve());let A,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Q=ss(),W=Ve();return v.xs.getEntries(H,S).next((ee=>{Q=ee,Q.forEach(((se,oe)=>{oe.isValidDocument()||(W=W.add(se))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,Q))).next((ee=>{A=ee;const se=[];for(const oe of p){const $=Hx(oe,A.get(oe.key).overlayedDocument);$!=null&&se.push(new Yr(oe.key,$,Cb($.value.mapValue),xi.exists(!0)))}return v.mutationQueue.addMutationBatch(H,y,se,p)})).next((ee=>{D=ee;const se=ee.applyToLocalDocumentSet(A,W);return v.documentOverlayCache.saveOverlays(H,ee.batchId,se)}))})).then((()=>({batchId:D.batchId,changes:Lb(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new lt(Me)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await $l(a,l.changes),await xh(a.remoteStore)}catch(l){const c=ip(l,"Failed to persist write");i.reject(c)}}async function vE(r,e){const i=Te(r);try{const a=await BR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await $l(i,a,e)}catch(a){await oo(a)}}function ev(r,e,i){const a=Te(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Te(d);v.onlineState=p;let y=!1;v.queries.forEach(((S,A)=>{for(const D of A.ba)D.va(p)&&(y=!0)})),y&&sp(v)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function MC(r,e,i){const a=Te(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new lt(me.comparator);d=d.insert(c,Zt.newNoDocument(c,be.min()));const p=Ve().add(c),v=new Sh(be.min(),new Map,new lt(Me),d,p);await vE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(e),ap(a)}else await gm(a.localStore,e,!1).then((()=>vm(a,e,i))).catch(oo)}async function VC(r,e){const i=Te(r),a=e.batch.batchId;try{const l=await PR(i.localStore,e);EE(i,a,null),bE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await oo(l)}}async function kC(r,e,i){const a=Te(r);try{const l=await(function(d,p){const v=Te(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,p).next((A=>(Fe(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(a.localStore,e);EE(a,e,i),bE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,l)}catch(l){await oo(l)}}function bE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function EE(r,e,i){const a=Te(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function vm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((a=>{r.Vu.containsKey(a)||TE(r,a)}))}function TE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Zm(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),ap(r))}function tv(r,e,i){for(const a of i)a instanceof gE?(r.Vu.addReference(a.key,e),zC(r,a)):a instanceof yE?(re(rp,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,e),r.Vu.containsKey(a.key)||TE(r,a.key)):ge(19791,{wu:a})}function zC(r,e){const i=e.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(re(rp,"New document in limbo: "+i),r.Eu.add(a),ap(r))}function ap(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new me(nt.fromString(e)),a=r.fu.next();r.Au.set(a,new wC(i)),r.Ru=r.Ru.insert(i,a),cE(r.remoteStore,new Fs(wi(qm(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function $l(r,e,i){const a=Te(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Jm.Es(v.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const S=Te(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(D=>J.forEach(D.Ts,(H=>S.persistence.referenceDelegate.addReference(A,D.targetId,H))).next((()=>J.forEach(D.Is,(H=>S.persistence.referenceDelegate.removeReference(A,D.targetId,H)))))))))}catch(A){if(!lo(A))throw A;re($m,"Failed to update sequence numbers: "+A)}for(const A of y){const D=A.targetId;if(!A.fromCache){const H=S.vs.get(D),Q=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(Q);S.vs=S.vs.insert(D,W)}}})(a.localStore,c))}async function UC(r,e){const i=Te(r);if(!i.currentUser.isEqual(e)){re(rp,"User change. New user:",e.toKey());const a=await aE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ce(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ns)}}function LC(r,e){const i=Te(r),a=i.Au.get(e);if(a&&a.hu)return Ve().add(a.key);{let l=Ve();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function SE(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=vE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.Pu.J_=bC.bind(null,e.eventManager),e.Pu.yu=EC.bind(null,e.eventManager),e}function jC(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kC.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return jR(this.persistence,new zR,e.initialUser,this.serializer)}Cu(e){return new rE(Xm.Vi,this.serializer)}Du(e){return new KR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class PC extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ER(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new rE((a=>ah.Vi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await pC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yC})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=$R(e.databaseInfo);return nC(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new sC(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>ev(this.syncEngine,i,0)),(function(){return Y0.v()?new Y0:new QR})())}createSyncEngine(e,i){return(function(l,c,d,p,v,y,S){const A=new xC(l,c,d,p,v,y);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Te(i);re(Fr,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class BC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const tr="FirestoreClient";class qC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{re(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(re(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ip(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),re(tr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await aE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function nv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await HC(r);re(tr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>J0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>J0(e.remoteStore,l))),r._onlineComponents=e}async function HC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){re(tr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Hr("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new lh)}}else re(tr,"Using default OfflineComponentProvider"),await Kd(r,new PC(void 0));return r._offlineComponents}async function AE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(re(tr,"Using user provided OnlineComponentProvider"),await nv(r,r._uninitializedComponentsProvider._online)):(re(tr,"Using default OnlineComponentProvider"),await nv(r,new bm))),r._onlineComponents}function FC(r){return AE(r).then((e=>e.syncEngine))}async function iv(r){const e=await AE(r),i=e.eventManager;return i.onListen=RC.bind(null,e.syncEngine),i.onUnlisten=IC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=CC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=DC.bind(null,e.syncEngine),i}function GC(r,e,i,a){const l=new BC(a),c=new TC(e,l,i);return r.asyncQueue.enqueueAndForget((async()=>_C(await iv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>vC(await iv(r),c)))}}function KC(r,e){const i=new zr;return r.asyncQueue.enqueueAndForget((async()=>OC(await FC(r),e,i))),i.promise}function wE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const QC="ComponentProvider",sv=new Map;function YC(r,e,i,a,l){return new hx(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,wE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const xE="firestore.googleapis.com",rv=!0;class av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xE,this.ssl=rv}else this.host=e.host,this.ssl=e.ssl??rv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vR)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new F2;switch(a.type){case"firstParty":return new Y2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=sv.get(i);a&&(re(QC,"Removing Datastore"),sv.delete(i),a.terminate())})(this),Promise.resolve()}}function XC(r,e,i,a={}){r=Ur(r,Rh);const l=io(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(Av(`https://${p}`),wv("Firestore",!0)),c.host!==xE&&c.host!==p&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!jr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=$t.MOCK_USER;else{y=fS(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $t(A)}r._authCredentials=new G2(new gb(y,S))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Mt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ql(i,Mt._jsonSchema))return new Mt(e,a||null,new me(nt.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Rt("string",Mt._jsonSchemaVersion),referencePath:Rt("string")};class Xs extends Ch{constructor(e,i,a){super(e,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new me(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function Qd(r,e,...i){if(r=En(r),yb("collection","path",e),r instanceof Rh){const a=nt.fromString(e,...i);return v0(a),new Xs(r,null,a)}{if(!(r instanceof Mt||r instanceof Xs))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...i));return v0(a),new Xs(r.firestore,null,a)}}function nr(r,e,...i){if(r=En(r),arguments.length===1&&(e=km.newId()),yb("doc","path",e),r instanceof Rh){const a=nt.fromString(e,...i);return _0(a),new Mt(r,null,new me(a))}{if(!(r instanceof Mt||r instanceof Xs))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...i));return _0(a),new Mt(r.firestore,r instanceof Xs?r.converter:null,new me(a))}}const ov="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&re(ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;re(ov,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",uv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=np.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ge(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function uv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ul extends Rh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function JC(r,e){const i=typeof r=="object"?r:Nv(),a=typeof r=="string"?r:Wc,l=wm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=cS("firestore");c&&XC(l,...c)}return l}function RE(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$C(r),r._firestoreClient}function $C(r){const e=r._freezeSettings(),i=YC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new qC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Yt.fromBase64String(e))}catch(i){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Rt("string",Un._jsonSchemaVersion),bytes:Rt("string")};class CE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class NE{constructor(e){this._methodName=e}}class Ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Rt("string",Ci._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Wn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,Wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Wn(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Rt("string",Wn._jsonSchemaVersion),vectorValues:Rt("object")};const ZC=/^__.*__$/;class WC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}function IE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:r})}}class op{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(IE(this.dataSource)&&ZC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}createContext(e,i,a,l=!1){return new op({dataSource:e,methodName:i,targetDoc:a,path:Qt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tN(r){const e=r._freezeSettings(),i=Ah(r._databaseId);return new eN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function nN(r,e,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);VE("Data must be an object, but it was:",d,a);const p=OE(a,d);let v,y;if(c.merge)v=new Zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const D=lp(e,A,i);if(!d.contains(D))throw new ce(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);rN(S,D)||S.push(D)}v=new Zn(S),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new WC(new zn(p),v,y)}function DE(r,e){if(ME(r=En(r)))return VE("Unsupported field value:",e,r),OE(r,e);if(r instanceof NE)return(function(a,l){if(!IE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=DE(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Ux(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=it.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof it){const c=new it(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:Jb(l.serializer,a._byteString)};if(a instanceof Mt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Wn)return(function(d,p){const v=d instanceof Wn?d.toArray():d;return{mapValue:{fields:{[xb]:{stringValue:Rb},[eh]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Hm(p.serializer,S)}))}}}}}})(a,l);if(iE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${zm(a)}`)})(r,e)}function OE(r,e){const i={};return bb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(r,((a,l)=>{const c=DE(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ME(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ci||r instanceof Un||r instanceof Mt||r instanceof NE||r instanceof Wn||iE(r))}function VE(r,e,i){if(!ME(i)||!_b(i)){const a=zm(i);throw a==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+a)}}function lp(r,e,i){if((e=En(e))instanceof CE)return e._internalPath;if(typeof e=="string")return sN(r,e);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const iN=new RegExp("[~\\*/\\[\\]]");function sN(r,e,i){if(e.search(iN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new CE(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ce(Z.INVALID_ARGUMENT,p+r+v)}function rN(r,e){return r.some((i=>i.isEqual(e)))}class aN{convertValue(e,i="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Kr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((a=>pt(a.doubleValue)));return new Wn(i)}convertGeoPoint(e){return new Ci(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const i=$s(e);return new it(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=nt.fromString(e);Fe(nE(a),9688,{name:e});const l=new Ml(a.get(1),a.get(3)),c=new me(a.popFirst(5));return l.isEqual(i)||is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class kE extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}const cv="@firebase/firestore",hv="4.11.0";function fv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class zE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(lp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oN extends zE{data(){return super.data()}}function lN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function uN(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class El{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lr extends zE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(lp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Lr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Rt("string",Lr._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class qc extends Lr{data(e={}){return super.data(e)}}class Ja{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:cN(p.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Rt("string",Ja._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};function Gr(r,e,i){r=Ur(r,Mt);const a=Ur(r.firestore,Ul),l=uN(r.converter,e,i),c=tN(a);return UE(a,[nN(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,xi.none())])}function hN(r){return UE(Ur(r.firestore,Ul),[new Fm(r._key,xi.none())])}function Yd(r,...e){r=En(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||fv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Mt)d=Ur(r.firestore,Ul),p=qm(r._key.path),c={next:y=>{e[a]&&e[a](fN(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=Ur(r,Ch);d=Ur(y.firestore,Ul),p=y._query;const S=new kE(d);c={next:A=>{e[a]&&e[a](new Ja(d,S,y,A))},error:e[a+1],complete:e[a+2]},lN(r._query)}const v=RE(d);return GC(v,p,l,c)}function UE(r,e){const i=RE(r);return KC(i,e)}function fN(r,e,i){const a=i.docs.get(e._key),l=new kE(r);return new Lr(r,l,e._key,a,new El(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){H2(so),$a(new Pr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ul(new K2(a.getProvider("auth-internal")),new X2(d,a.getProvider("app-check-internal")),fx(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qs(cv,hv,e),Qs(cv,hv,"esm2020")})();const dN="";async function Nh(r,e){try{return(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${dN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],systemInstruction:{parts:[{text:e}]}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text||"No insights could be generated right now."}catch(i){return console.error(i),"Error connecting to the AI Coach. Please try again later."}}const Em=[{name:"Tae bo",img:"https://images.unsplash.com/photo-1555597673-b21d5c935865?auto=format&fit=crop&w=600&q=80"},{name:"Crossfit",img:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&w=600&q=80"},{name:"Body combat",img:"https://images.unsplash.com/photo-1599058917212-d750089bc07e?auto=format&fit=crop&w=600&q=80"},{name:"Stick mobility",img:"https://images.unsplash.com/photo-1518611012118-696072aa579a?auto=format&fit=crop&w=600&q=80"},{name:"Functional flow",img:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?auto=format&fit=crop&w=600&q=80"},{name:"Fitness",img:"https://images.unsplash.com/photo-1534258936925-c58bed479fcb?auto=format&fit=crop&w=600&q=80"},{name:"Stretching",img:"https://images.unsplash.com/photo-1552286450-3a566f1030e2?auto=format&fit=crop&w=600&q=80"}];let Xd,Tl,gt,Ln;try{const r=JSON.parse(typeof __firebase_config<"u"?__firebase_config:"{}");Xd=Cv(r),Tl=B2(Xd),gt=JC(Xd),Ln=typeof __app_id<"u"?__app_id:"samfit-default"}catch(r){console.error("Firebase init error (ignore if in dev environment without config):",r)}function mN(){const[r,e]=ye.useState(null),[i,a]=ye.useState(!0),[l,c]=ye.useState([]),[d,p]=ye.useState([]),[v,y]=ye.useState([]),[S,A]=ye.useState(null),[D,H]=ye.useState("");ye.useEffect(()=>{window.alert=se=>{const oe=document.createElement("div");oe.className="fixed top-4 right-4 bg-zinc-900 border border-emerald-900/50 text-emerald-400 px-6 py-4 rounded-xl shadow-2xl z-[9999] font-sans text-sm tracking-wide transition-opacity duration-500",oe.innerText=se,document.body.appendChild(oe),setTimeout(()=>{oe.classList.add("opacity-0"),setTimeout(()=>oe.remove(),500)},3e3)},window.confirm=()=>!0},[]),ye.useEffect(()=>{if(!Tl){a(!1);return}(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await Rw(Tl,__initial_auth_token):await Tw(Tl)}catch($){console.error("Auth Error:",$)}})();const oe=Iw(Tl,$=>{e($)});return()=>oe()},[]),ye.useEffect(()=>{if(!r||!gt)return;const se=Qd(gt,"artifacts",Ln,"public","data","samfit_users"),oe=Qd(gt,"artifacts",Ln,"public","data","samfit_exercises"),$=Qd(gt,"artifacts",Ln,"public","data","samfit_logs");let he=!1,He=!1,Re=!1;const R=()=>{he&&He&&Re&&a(!1)},w=Yd(se,I=>{const k=I.docs.map(x=>x.data());k.length===0?Q():c(k),he=!0,R()},I=>console.error(I)),N=Yd(oe,I=>{p(I.docs.map(k=>k.data())),He=!0,R()},I=>console.error(I)),V=Yd($,I=>{y(I.docs.map(k=>k.data())),Re=!0,R()},I=>console.error(I));return()=>{w(),N(),V()}},[r]);const Q=async()=>{if(!gt)return;const se={id:"admin_001",username:"admin",password:"adminpassword",role:"admin",active:!0,profile:{firstName:"SamFit",lastName:"Admin",photo:""}},oe={id:"client_001",username:"client",password:"clientpassword",role:"user",active:!0,profile:{firstName:"Demo",lastName:"Client",heightM:1,heightCm:80,weight:80,photo:""}};try{await Gr(nr(gt,"artifacts",Ln,"public","data","samfit_users",se.id),se),await Gr(nr(gt,"artifacts",Ln,"public","data","samfit_users",oe.id),oe)}catch($){console.error($)}},W=(se,oe)=>{H("");const $=l.find(he=>he.username===se&&he.password===oe);if($){if(!$.active&&$.role!=="admin"){H("Your access has been revoked. Please contact the administrator.");return}A($)}else H("Invalid credentials. Please check your username and password.")},ee=()=>A(null);return i?b.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center text-white",children:[b.jsx("img",{src:"logo.jpg",alt:"Sam Fit",className:"h-20 w-20 animate-pulse rounded-full border border-zinc-700 mb-6 object-cover",onError:se=>{se.target.style.display="none"}}),b.jsx("p",{className:"text-zinc-500 uppercase tracking-widest text-sm animate-pulse",children:"Loading Workspace..."})]}):S?b.jsxs("div",{className:"min-h-screen bg-black text-zinc-200 font-sans selection:bg-zinc-700",children:[b.jsx("nav",{className:"border-b border-zinc-800 bg-black/80 backdrop-blur-md sticky top-0 z-50",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("img",{src:"logo.jpg",alt:"Sam Fit Logo",className:"h-10 w-10 rounded-full object-cover border border-zinc-700",onError:se=>{se.target.src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><rect width="40" height="40" fill="%23333"/><text x="50%" y="50%" fill="white" font-size="20" font-family="sans-serif" text-anchor="middle" dominant-baseline="central">SF</text></svg>'}}),b.jsx("span",{className:"text-xl font-bold tracking-[0.2em] uppercase text-white",children:"Sam Fit"})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("span",{className:"text-sm text-zinc-400 hidden sm:block",children:["Logged in as ",b.jsx("strong",{className:"text-zinc-100",children:S.role==="admin"?"Admin":S.profile?.firstName||S.username})]}),b.jsx("button",{onClick:ee,className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-900 rounded-full transition-colors border border-transparent hover:border-zinc-800",children:b.jsx(K1,{size:18})})]})]})})}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:S.role==="admin"?b.jsx(gN,{users:l,logs:v,exercises:d}):b.jsx(bN,{user:S,users:l,exercises:d,logs:v})})]}):b.jsx(pN,{onLogin:W,error:D})}function pN({onLogin:r,error:e}){const[i,a]=ye.useState(""),[l,c]=ye.useState("");return b.jsxs("div",{className:"min-h-screen bg-black flex flex-col justify-center items-center px-4 bg-[url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&w=2000&q=80')] bg-cover bg-center",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),b.jsx("div",{className:"w-full max-w-md bg-zinc-950/90 border border-zinc-800 rounded-2xl shadow-2xl overflow-hidden relative z-10",children:b.jsxs("div",{className:"p-8",children:[b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("img",{src:"logo.jpg",alt:"Sam Fit",className:"h-28 w-28 rounded-full border border-zinc-700 object-cover shadow-[0_0_30px_rgba(255,255,255,0.05)]",onError:d=>{d.target.style.display="none"}})}),b.jsx("h2",{className:"text-2xl font-bold text-center text-white uppercase tracking-[0.2em] mb-6",children:"Sam Fit Portal"}),e&&b.jsx("div",{className:"bg-red-950/50 border border-red-900/50 text-red-400 text-xs font-bold tracking-widest uppercase p-4 rounded-lg mb-6 text-center animate-in fade-in slide-in-from-top-2",children:e}),b.jsxs("form",{onSubmit:d=>{d.preventDefault(),r(i,l)},className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-zinc-400 mb-2",children:"Username"}),b.jsx("input",{type:"text",className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-zinc-500 focus:ring-1 focus:ring-zinc-500 transition-colors placeholder-zinc-700",placeholder:"Enter username",value:i,onChange:d=>a(d.target.value),required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-zinc-400 mb-2",children:"Password"}),b.jsx("input",{type:"password",className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-zinc-500 focus:ring-1 focus:ring-zinc-500 transition-colors placeholder-zinc-700",placeholder:"Enter password",value:l,onChange:d=>c(d.target.value),required:!0})]}),b.jsx("button",{type:"submit",className:"w-full bg-white text-black font-bold uppercase tracking-widest py-3 rounded-lg hover:bg-zinc-200 transition-colors shadow-lg mt-2",children:"Log In"})]})]})})]})}function gN({users:r,logs:e,exercises:i}){const[a,l]=ye.useState("users"),c=r.filter(d=>d.role==="user");return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex space-x-2 border-b border-zinc-800 pb-2 overflow-x-auto no-scrollbar",children:[{id:"users",label:"Manage Clients",icon:b.jsx(jl,{size:16})},{id:"exercises",label:"Manage Exercises",icon:b.jsx(Ll,{size:16})},{id:"analytics",label:"Client Analytics",icon:b.jsx(U1,{size:16})}].map(d=>b.jsxs("button",{onClick:()=>l(d.id),className:`px-4 py-2 text-sm font-medium transition-all flex items-center space-x-2 whitespace-nowrap rounded-t-lg ${a===d.id?"bg-zinc-900 text-white border-b-2 border-white":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900/50"}`,children:[d.icon," ",b.jsx("span",{children:d.label})]},d.id))}),a==="users"&&b.jsx(yN,{users:c}),a==="exercises"&&b.jsx(_N,{exercises:i}),a==="analytics"&&b.jsx(vN,{clients:c,logs:e})]})}function yN({users:r}){const[e,i]=ye.useState(""),[a,l]=ye.useState(""),c=async p=>{if(p.preventDefault(),!e||!a||!gt)return;const v="user_"+Date.now(),y={id:v,username:e,password:a,role:"user",active:!0,profile:{firstName:"",lastName:"",heightM:0,heightCm:0,weight:0,photo:""}};try{await Gr(nr(gt,"artifacts",Ln,"public","data","samfit_users",v),y),i(""),l("")}catch(S){alert("Error adding user: "+S.message)}},d=async p=>{if(gt)try{await Gr(nr(gt,"artifacts",Ln,"public","data","samfit_users",p.id),{...p,active:!p.active},{merge:!0})}catch(v){alert("Error updating access: "+v.message)}};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-6 h-fit relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-zinc-500 to-zinc-800"}),b.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center tracking-wide",children:[b.jsx(pv,{size:18,className:"mr-2 text-zinc-400"})," Create Client"]}),b.jsxs("form",{onSubmit:c,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Username"}),b.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:border-zinc-500 outline-none transition-colors",value:e,onChange:p=>i(p.target.value),required:!0,placeholder:"e.g. jdoe123"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Password"}),b.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:border-zinc-500 outline-none transition-colors",value:a,onChange:p=>l(p.target.value),required:!0,placeholder:"Temporary password"})]}),b.jsx("button",{type:"submit",className:"w-full bg-white text-black text-sm font-bold tracking-widest uppercase py-3 rounded-lg hover:bg-zinc-200 transition-colors mt-2",children:"Generate Access"})]})]}),b.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[b.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 flex justify-between items-center bg-zinc-900/50",children:b.jsx("h3",{className:"text-lg font-bold text-white tracking-wide",children:"Client Directory"})}),b.jsxs("div",{className:"divide-y divide-zinc-800 max-h-[600px] overflow-y-auto",children:[r.map(p=>b.jsxs("div",{className:"p-6 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-zinc-900/80 transition-colors gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg border ${p.active?"bg-zinc-900 border-zinc-700 text-white":"bg-red-950/30 border-red-900/50 text-red-500"}`,children:p.profile?.firstName?p.profile.firstName.charAt(0).toUpperCase():p.username.charAt(0).toUpperCase()}),b.jsxs("div",{children:[b.jsxs("div",{className:"text-white font-medium flex items-center tracking-wide",children:[p.profile?.firstName," ",p.profile?.lastName,!p.profile?.firstName&&b.jsx("span",{className:"text-zinc-600 italic text-sm",children:"Profile Pending"})]}),b.jsxs("div",{className:"text-xs text-zinc-500 font-mono mt-1",children:["User: ",b.jsx("span",{className:"text-zinc-300",children:p.username})," | Pass: ",b.jsx("span",{className:"text-zinc-300",children:p.password})]})]})]}),b.jsx("div",{children:b.jsxs("button",{onClick:()=>d(p),className:`px-4 py-2 text-xs font-bold tracking-wider uppercase rounded-lg flex items-center w-full sm:w-auto justify-center transition-colors ${p.active?"bg-black text-zinc-300 border border-zinc-700 hover:bg-zinc-900 hover:text-white":"bg-white text-black hover:bg-zinc-200"}`,children:[p.active?b.jsx(F1,{size:14,className:"mr-2"}):b.jsx(ch,{size:14,className:"mr-2"}),p.active?"Revoke Access":"Restore Access"]})})]},p.id)),r.length===0&&b.jsxs("div",{className:"p-12 flex flex-col items-center justify-center text-zinc-600",children:[b.jsx(jl,{size:40,className:"mb-4 opacity-50"}),b.jsx("p",{children:"No clients registered yet."})]})]})]})]})}function _N({exercises:r}){const[e,i]=ye.useState(""),[a,l]=ye.useState(Em[0].name),[c,d]=ye.useState("direct"),[p,v]=ye.useState(""),[y,S]=ye.useState(""),[A,D]=ye.useState(!1),[H,Q]=ye.useState(!1),W=ye.useRef(null),ee=async()=>{Q(!0);const $=`Suggest a single, highly effective exercise name that fits the fitness category "${a}". Just return the name of the exercise, nothing else. No quotes, no extra text.`,he=await Nh($,"You are an expert fitness programmer.");i(he.replace(/["']/g,"").trim()),Q(!1)},se=async $=>{if($.preventDefault(),!e||!gt)return;let he="";if(c==="direct")he="DIRECT:"+p;else if(c==="embed")he="EMBED:"+p;else if(c==="iframe")he="IFRAME:"+y;else if(c==="upload"&&W.current?.files[0]){const R=W.current.files[0];if(R.size>8e5){alert("File too large! Cloud database limits direct uploads to ~800KB. Please use a Direct Link for larger videos.");return}D(!0);try{he="DIRECT:"+await new Promise((N,V)=>{const I=new FileReader;I.onloadend=()=>N(I.result),I.onerror=V,I.readAsDataURL(R)})}catch{alert("Error reading file."),D(!1);return}D(!1)}const He="ex_"+Date.now(),Re={id:He,title:e,category:a,videoUrl:he};try{await Gr(nr(gt,"artifacts",Ln,"public","data","samfit_exercises",He),Re),i(""),v(""),S(""),alert("Exercise added successfully!")}catch(R){alert("Error adding exercise: "+R.message)}},oe=async $=>{if(!(!gt||!window.confirm("Delete this exercise permanently?")))try{await hN(nr(gt,"artifacts",Ln,"public","data","samfit_exercises",$))}catch(he){alert("Error deleting: "+he.message)}};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-6 h-fit relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-zinc-500 to-zinc-800"}),b.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center tracking-wide",children:[b.jsx(pv,{size:18,className:"mr-2 text-zinc-400"})," New Exercise"]}),b.jsxs("form",{onSubmit:se,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase",children:"Exercise Name"}),b.jsxs("button",{type:"button",onClick:ee,disabled:H,className:"text-[10px] font-bold text-amber-500 hover:text-amber-400 transition-colors flex items-center disabled:opacity-50 uppercase tracking-widest",children:[b.jsx(hh,{size:12,className:"mr-1"})," ",H?"Generating...":" Auto-Suggest"]})]}),b.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:border-zinc-500 outline-none",value:e,onChange:$=>i($.target.value),required:!0,placeholder:"e.g. Kettlebell Swings"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Category"}),b.jsx("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:border-zinc-500 outline-none",value:a,onChange:$=>l($.target.value),children:Em.map($=>b.jsx("option",{value:$.name,children:$.name},$.name))})]}),b.jsxs("div",{className:"pt-2 border-t border-zinc-800",children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-3",children:"Video Source"}),b.jsx("div",{className:"flex flex-col space-y-2 mb-4",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("button",{type:"button",onClick:()=>d("direct"),className:`flex-1 py-2 text-[10px] font-bold tracking-wider uppercase rounded-lg flex items-center justify-center transition-colors ${c==="direct"?"bg-zinc-800 text-white":"bg-black text-zinc-500 border border-zinc-800"}`,children:"Direct MP4"}),b.jsx("button",{type:"button",onClick:()=>d("embed"),className:`flex-1 py-2 text-[10px] font-bold tracking-wider uppercase rounded-lg flex items-center justify-center transition-colors ${c==="embed"?"bg-zinc-800 text-white":"bg-black text-zinc-500 border border-zinc-800"}`,children:"YT/Vimeo"}),b.jsx("button",{type:"button",onClick:()=>d("iframe"),className:`flex-1 py-2 text-[10px] font-bold tracking-wider uppercase rounded-lg flex items-center justify-center transition-colors ${c==="iframe"?"bg-zinc-800 text-white":"bg-black text-zinc-500 border border-zinc-800"}`,children:"Raw Iframe"}),b.jsx("button",{type:"button",onClick:()=>d("upload"),className:`flex-1 py-2 text-[10px] font-bold tracking-wider uppercase rounded-lg flex items-center justify-center transition-colors ${c==="upload"?"bg-zinc-800 text-white":"bg-black text-zinc-500 border border-zinc-800"}`,children:"Upload"})]})}),c==="direct"&&b.jsxs("div",{children:[b.jsx("input",{type:"url",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:border-zinc-500 outline-none mb-2",value:p,onChange:$=>v($.target.value),placeholder:"https://samfit.co/videos/class.mp4",required:!0}),b.jsxs("p",{className:"text-[10px] text-zinc-500 font-mono bg-zinc-900/50 p-2 rounded",children:[" ",b.jsx("b",{children:"Best Option:"})," Paste a direct link to an .mp4 file hosted on your website. This uses the un-blockable native video player."]})]}),c==="embed"&&b.jsxs("div",{children:[b.jsx("input",{type:"url",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:border-zinc-500 outline-none mb-2",value:p,onChange:$=>v($.target.value),placeholder:"YouTube or Vimeo URL",required:!0}),b.jsx("p",{className:"text-[10px] text-zinc-500 font-mono bg-zinc-900/50 p-2 rounded",children:"Paste a standard YouTube or Vimeo link. The app will automatically convert it."})]}),c==="iframe"&&b.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:border-zinc-500 outline-none min-h-[100px] font-mono",value:y,onChange:$=>S($.target.value),placeholder:'Paste full <iframe src="..."></iframe> code here',required:!0}),c==="upload"&&b.jsxs("div",{children:[b.jsx("input",{type:"file",accept:"video/mp4,video/webm",ref:W,className:"w-full text-sm text-zinc-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-zinc-800 file:text-white hover:file:bg-zinc-700 mb-2",required:!0}),b.jsxs("p",{className:"text-[10px] text-zinc-500 font-mono bg-zinc-900/50 p-2 rounded",children:[" ",b.jsx("b",{children:"Database Limit:"})," Direct app uploads are saved to the database (max 800KB). For larger videos, host them on GitHub/YouTube and use the link options."]})]})]}),b.jsx("button",{type:"submit",disabled:A,className:"w-full bg-white text-black text-sm font-bold tracking-widest uppercase py-3 rounded-lg hover:bg-zinc-200 transition-colors mt-4 disabled:opacity-50",children:A?"Processing...":"Save Exercise"})]})]}),b.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[b.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:b.jsx("h3",{className:"text-lg font-bold text-white tracking-wide",children:"Exercise Library"})}),b.jsx("div",{className:"divide-y divide-zinc-800 max-h-[600px] overflow-y-auto",children:r.length>0?r.map($=>b.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between hover:bg-zinc-900/80 transition-colors",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("div",{className:"w-16 h-12 bg-black rounded flex items-center justify-center border border-zinc-800 shrink-0",children:$.videoUrl?b.jsx(Y1,{size:16,className:"text-zinc-500"}):b.jsx(yv,{size:16,className:"text-zinc-700"})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-white font-medium tracking-wide",children:$.title}),b.jsx("div",{className:"text-xs font-bold tracking-widest uppercase text-zinc-500 mt-1",children:$.category})]})]}),b.jsx("button",{onClick:()=>oe($.id),className:"p-2 text-zinc-600 hover:text-red-500 hover:bg-red-950/30 rounded transition-colors",children:b.jsx(Z1,{size:18})})]},$.id)):b.jsxs("div",{className:"p-12 flex flex-col items-center justify-center text-zinc-600",children:[b.jsx(Ll,{size:40,className:"mb-4 opacity-50"}),b.jsx("p",{children:"No exercises added yet."})]})})]})]})}function vN({clients:r,logs:e}){const[i,a]=ye.useState(r[0]?.id||null),l=r.find(d=>d.id===i),c=e.filter(d=>d.userId===i).sort((d,p)=>new Date(p.date)-new Date(d.date));return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-4 overflow-y-auto max-h-[600px]",children:[b.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest mb-4 px-2",children:"Select Client"}),b.jsxs("div",{className:"space-y-1",children:[r.map(d=>b.jsxs("button",{onClick:()=>a(d.id),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center space-x-3 ${i===d.id?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-900"}`,children:[b.jsx(jl,{size:16}),b.jsx("span",{className:"truncate",children:d.profile?.firstName||d.username})]},d.id)),r.length===0&&b.jsx("p",{className:"text-xs text-zinc-600 px-2 italic",children:"No clients available."})]})]}),b.jsx("div",{className:"lg:col-span-3 space-y-6",children:l?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 p-6 rounded-xl relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:b.jsx(gv,{size:48})}),b.jsx("div",{className:"text-zinc-500 text-xs uppercase tracking-widest font-bold mb-2",children:"Current Weight"}),b.jsxs("div",{className:"text-4xl font-light text-white",children:[l.profile?.weight||"--"," ",b.jsx("span",{className:"text-sm text-zinc-500 font-normal",children:"kg"})]})]}),b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 p-6 rounded-xl relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:b.jsx(Hc,{size:48})}),b.jsx("div",{className:"text-zinc-500 text-xs uppercase tracking-widest font-bold mb-2",children:"Total Sessions"}),b.jsx("div",{className:"text-4xl font-light text-white",children:c.length})]}),b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 p-6 rounded-xl relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:b.jsx(P_,{size:48})}),b.jsx("div",{className:"text-zinc-500 text-xs uppercase tracking-widest font-bold mb-2",children:"Hours Trained"}),b.jsxs("div",{className:"text-4xl font-light text-white",children:[c.reduce((d,p)=>d+(Number(p.hoursTrained)||0),0)," ",b.jsx("span",{className:"text-sm text-zinc-500 font-normal",children:"hrs"})]})]})]}),b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[b.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:b.jsx("h3",{className:"text-lg font-bold text-white tracking-wide",children:"Activity Log"})}),b.jsx("div",{className:"p-6 space-y-4 max-h-[400px] overflow-y-auto",children:c.length>0?c.map(d=>b.jsxs("div",{className:"bg-black p-5 rounded-xl border border-zinc-800/50 hover:border-zinc-700 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-zinc-900 pb-3",children:[b.jsxs("div",{className:"text-sm font-bold text-white flex items-center tracking-wide",children:[b.jsx(P_,{size:14,className:"mr-2 text-zinc-500"})," ",d.date]}),b.jsxs("div",{className:"text-xs font-bold tracking-widest text-zinc-500 bg-zinc-900 px-3 py-1 rounded-full",children:[d.hoursTrained," hrs"]})]}),b.jsxs("p",{className:"text-sm text-zinc-300 mb-4 bg-zinc-900/30 p-3 rounded-lg",children:[b.jsx("span",{className:"text-zinc-500 font-bold text-xs uppercase tracking-widest block mb-1",children:"Diet Notes"})," ",d.food||"No diet details logged."]}),d.exercises?.length>0&&b.jsxs("div",{children:[b.jsx("span",{className:"text-zinc-500 font-bold text-xs uppercase tracking-widest block mb-2",children:"Exercises"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:d.exercises.map((p,v)=>b.jsxs("div",{className:"text-xs border border-zinc-800 inline-flex items-center px-3 py-1.5 rounded-lg bg-black",children:[b.jsx(ch,{size:12,className:"text-zinc-500 mr-2"}),b.jsx("span",{className:"text-white font-medium mr-2",children:p.title}),b.jsxs("span",{className:"text-zinc-500 font-mono",children:[p.sets,"x",p.rounds]})]},v))})]})]},d.id)):b.jsxs("div",{className:"text-sm text-zinc-500 py-12 text-center flex flex-col items-center",children:[b.jsx(mv,{size:32,className:"mb-3 opacity-20"})," No activity logged yet."]})})]})]}):b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 p-12 rounded-xl text-center text-zinc-500 flex flex-col items-center justify-center h-full min-h-[400px]",children:[b.jsx(Hc,{size:48,className:"mb-4 opacity-20"}),b.jsx("p",{className:"tracking-wide",children:"Select a client to view their analytics"})]})})]})}function bN({user:r,users:e,exercises:i,logs:a}){const[l,c]=ye.useState("workouts");return b.jsxs("div",{className:"space-y-8",children:[b.jsx("div",{className:"flex space-x-2 border-b border-zinc-800 pb-2 overflow-x-auto no-scrollbar",children:[{id:"workouts",label:"Workouts",icon:b.jsx(Ll,{size:16})},{id:"journal",label:"Daily Journal",icon:b.jsx(mv,{size:16})},{id:"profile",label:"My Profile",icon:b.jsx(jl,{size:16})}].map(d=>b.jsxs("button",{onClick:()=>c(d.id),className:`px-4 py-2 font-medium text-sm transition-all flex items-center space-x-2 whitespace-nowrap rounded-t-lg ${l===d.id?"bg-zinc-900 text-white border-b-2 border-white":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900/50"}`,children:[d.icon," ",b.jsx("span",{children:d.label})]},d.id))}),l==="workouts"&&b.jsx(EN,{exercises:i,user:r}),l==="journal"&&b.jsx(SN,{user:r,logs:a}),l==="profile"&&b.jsx(AN,{user:r,logs:a})]})}function EN({exercises:r,user:e}){const[i,a]=ye.useState(null),l=r.filter(d=>d.category===i),c=async(d,p,v)=>{if(!gt)return;const y=new Date().toISOString().split("T")[0];d.title,`${e.id}${y}`;try{alert(`Awesome work completing ${d.title}! Make sure to record it in your Daily Journal.`)}catch(S){console.error(S)}};return i?b.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("button",{onClick:()=>a(null),className:"flex items-center text-sm font-bold uppercase tracking-widest text-zinc-400 hover:text-white transition-colors group",children:[b.jsx(M1,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back to Categories"]}),b.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-800 pb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:i}),b.jsxs("span",{className:"text-xs font-mono text-zinc-500 bg-zinc-900 px-3 py-1 rounded-full",children:[l.length," Workouts"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8 pt-4",children:l.length>0?l.map(d=>b.jsx(TN,{exercise:d,onComplete:c},d.id)):b.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-zinc-500 border border-dashed border-zinc-800 rounded-2xl bg-zinc-950/50",children:[b.jsx(Ll,{size:48,className:"mb-4 opacity-20"}),b.jsx("p",{className:"tracking-wide",children:"No exercises assigned to this category yet."})]})})]}):b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-6 tracking-wide",children:"Choose Your Discipline"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Em.map(d=>b.jsxs("div",{onClick:()=>a(d.name),className:"group relative h-48 rounded-2xl overflow-hidden cursor-pointer shadow-lg hover:shadow-xl hover:shadow-zinc-800/50 transition-all border border-zinc-800 hover:border-zinc-600",children:[b.jsx("div",{className:"absolute inset-0 bg-black/60 group-hover:bg-black/40 transition-colors z-10"}),b.jsx("img",{src:d.img,alt:d.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),b.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center p-6 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest drop-shadow-lg",children:d.name}),b.jsx("div",{className:"mt-4 opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:b.jsx("span",{className:"bg-white text-black text-xs font-bold px-4 py-2 rounded-full uppercase tracking-widest",children:"Enter Class"})})]})]},d.name))})]})}function TN({exercise:r,onComplete:e}){const[i,a]=ye.useState(5),[l,c]=ye.useState(1),[d,p]=ye.useState(""),[v,y]=ye.useState(!1),S=async()=>{if(d){p("");return}y(!0);const D=`Give me 3 quick, bulleted pro-tips on proper form and 1 common mistake to avoid for the exercise: "${r.title}". Keep it extremely brief and punchy.`,H=await Nh(D,"You are an elite Sam Fit personal trainer focusing on safe form.");p(H),y(!1)},A=_1.useMemo(()=>{const D=r.videoUrl||"";if(!D)return{url:"",type:"none"};if(D.startsWith("IFRAME:"))return{url:D.replace("IFRAME:",""),type:"iframe-raw"};if(D.startsWith("DIRECT:"))return{url:D.replace("DIRECT:",""),type:"video"};if(D.startsWith("EMBED:")){let Q=D.replace("EMBED:","");const W=Q.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);W&&W[2].length===11&&(Q=`https://www.youtube.com/embed/${W[2]}`);const ee=Q.match(/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)/i);return ee&&ee[1]&&(Q=`https://player.vimeo.com/video/${ee[1]}`),{url:Q,type:"embed"}}const H=D.toLowerCase();return H.includes("<iframe")?{url:D,type:"iframe-raw"}:H.includes("youtube")||H.includes("youtu.be")||H.includes("vimeo")?{url:D,type:"embed"}:{url:D,type:"video"}},[r.videoUrl]);return b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-2xl overflow-hidden shadow-xl flex flex-col hover:border-zinc-700 transition-colors",children:[b.jsx("div",{className:"aspect-video bg-black relative flex items-center justify-center border-b border-zinc-800 group",children:A.type==="iframe-raw"?b.jsx("div",{className:"w-full h-full absolute inset-0 [&>iframe]:w-full [&>iframe]:h-full [&>iframe]:absolute [&>iframe]:inset-0 [&>iframe]:border-0",dangerouslySetInnerHTML:{__html:A.url}}):A.type==="embed"?b.jsxs(b.Fragment,{children:[b.jsx("iframe",{src:A.url,className:"w-full h-full absolute inset-0 border-0 z-10",allowFullScreen:!0}),b.jsx("a",{href:A.url,target:"_blank",rel:"noreferrer",className:"absolute top-2 right-2 z-20 bg-black/80 text-white text-[10px] px-3 py-1 rounded font-bold uppercase opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-sm border border-zinc-700",children:"Open Video"})]}):A.type==="video"?b.jsx("video",{src:A.url,controls:!0,className:"w-full h-full absolute inset-0 object-cover"}):b.jsxs("div",{className:"flex flex-col items-center justify-center text-zinc-700",children:[b.jsx(yv,{size:40,className:"mb-3 opacity-50"}),b.jsx("span",{className:"text-xs uppercase tracking-widest font-bold",children:"No Video"})]})}),b.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[b.jsx("h4",{className:"text-lg font-bold text-white mb-6 tracking-wide",children:r.title}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 flex-1",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-zinc-500 mb-2",children:"Sets"}),b.jsxs("select",{value:i,onChange:D=>a(Number(D.target.value)),className:"w-full bg-black border border-zinc-800 text-white text-sm rounded-lg p-3 outline-none focus:border-zinc-500 transition-colors",children:[b.jsx("option",{value:5,children:"5 Sets"}),b.jsx("option",{value:10,children:"10 Sets"}),b.jsx("option",{value:15,children:"15 Sets"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-zinc-500 mb-2",children:"Rounds"}),b.jsxs("select",{value:l,onChange:D=>c(Number(D.target.value)),className:"w-full bg-black border border-zinc-800 text-white text-sm rounded-lg p-3 outline-none focus:border-zinc-500 transition-colors",children:[b.jsx("option",{value:1,children:"1 Round"}),b.jsx("option",{value:2,children:"2 Rounds"}),b.jsx("option",{value:3,children:"3 Rounds"})]})]})]}),d&&b.jsxs("div",{className:"mb-6 p-4 bg-zinc-900/80 border border-zinc-800 rounded-xl text-sm text-zinc-300 leading-relaxed animate-in fade-in slide-in-from-top-2",children:[b.jsxs("div",{className:"flex items-center text-amber-500 mb-3",children:[b.jsx(q1,{size:16,className:"mr-2"}),b.jsx("span",{className:"text-xs font-bold tracking-widest uppercase",children:"Form & Safety Tips"})]}),b.jsx("div",{className:"whitespace-pre-wrap text-xs",children:d})]}),b.jsxs("div",{className:"space-y-3 mt-auto",children:[b.jsxs("button",{onClick:()=>e(r,i,l),className:"w-full bg-zinc-900 hover:bg-zinc-800 text-white border border-zinc-800 hover:border-zinc-600 text-sm font-bold tracking-widest uppercase py-4 rounded-xl flex items-center justify-center transition-all",children:[b.jsx(ch,{size:18,className:"mr-2 text-zinc-400"}),"Mark as Done"]}),b.jsxs("button",{onClick:S,disabled:v,className:"w-full bg-transparent text-zinc-400 hover:text-amber-400 text-xs font-bold tracking-widest uppercase py-3 rounded-xl flex items-center justify-center transition-all disabled:opacity-50",children:[b.jsx(hh,{size:14,className:"mr-2"}),v?"Consulting Coach...":d?"Hide Tips":" AI Form Tips"]})]})]})]})}function SN({user:r,logs:e}){const i=new Date().toISOString().split("T")[0],[a,l]=ye.useState(i),c=e.find($=>$.userId===r.id&&$.date===a),[d,p]=ye.useState(""),[v,y]=ye.useState(0),[S,A]=ye.useState(!1),[D,H]=ye.useState(""),[Q,W]=ye.useState(!1);ye.useEffect(()=>{p(c?.food||""),y(c?.hoursTrained||0),H("")},[a,c]);const ee=async()=>{if(!gt)return;A(!0);const $=`log_${r.id}_${a}`,he={id:$,userId:r.id,date:a,exercises:c?.exercises||[],food:d,hoursTrained:Number(v),weightLog:r.profile?.weight||0};try{await Gr(nr(gt,"artifacts",Ln,"public","data","samfit_logs",$),he),alert("Journal entry safely stored in the cloud.")}catch(He){alert("Error saving: "+He.message)}A(!1)},se=async()=>{if(!d)return alert("Please add some nutrition notes first!");W(!0);const $=`Analyze this daily food log for a fitness client: "${d}". Give a very brief 3-bullet point summary: 1. Estimated quality, 2. Praise, 3. One suggestion for improvement. Keep it encouraging and short.`,he=await Nh($,"You are a professional nutritionist at Sam Fit gym. Keep responses very concise and directly address the user.");H(he),W(!1)},oe=c?.exercises||[];return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsx("div",{className:"lg:col-span-2 space-y-6",children:b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-2xl p-6 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-zinc-700 to-black"}),b.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-8 gap-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white tracking-wide",children:"Daily Journal"}),b.jsx("input",{type:"date",value:a,onChange:$=>l($.target.value),className:"bg-black border border-zinc-800 text-sm font-mono text-zinc-300 rounded-lg px-4 py-2 outline-none focus:border-zinc-500"})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase",children:"Nutrition Notes"}),b.jsxs("button",{onClick:se,disabled:Q||!d,className:"text-xs font-bold text-emerald-400 hover:text-emerald-300 transition-colors flex items-center disabled:opacity-50",children:[b.jsx(hh,{size:14,className:"mr-1"})," ",Q?"Analyzing...":" Analyze Diet"]})]}),b.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-xl p-4 text-sm text-white placeholder-zinc-700 min-h-[140px] outline-none focus:border-zinc-600 transition-colors",placeholder:"List your meals, snacks, and water intake...",value:d,onChange:$=>p($.target.value)}),D&&b.jsxs("div",{className:"mt-3 p-4 bg-emerald-950/20 border border-emerald-900/30 rounded-xl animate-in fade-in slide-in-from-top-2",children:[b.jsxs("div",{className:"flex items-center text-emerald-500 mb-2",children:[b.jsx(Jd,{size:16,className:"mr-2"}),b.jsx("span",{className:"text-xs font-bold tracking-widest uppercase",children:"AI Nutrition Coach"})]}),b.jsx("div",{className:"text-sm text-zinc-300 whitespace-pre-wrap leading-relaxed",children:D})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-3",children:"Training Duration"}),b.jsxs("div",{className:"relative max-w-xs",children:[b.jsx("input",{type:"number",step:"0.5",min:"0",className:"w-full bg-black border border-zinc-800 rounded-xl p-4 pr-12 text-sm text-white outline-none focus:border-zinc-600 transition-colors",value:v,onChange:$=>y($.target.value)}),b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-xs font-bold text-zinc-600 uppercase",children:"Hours"})]})]}),b.jsx("button",{onClick:ee,disabled:S,className:"bg-white text-black text-sm font-bold tracking-widest uppercase px-8 py-4 rounded-xl hover:bg-zinc-200 transition-colors shadow-lg disabled:opacity-50",children:S?"Saving to Cloud...":"Commit to Log"})]})]})}),b.jsx("div",{children:b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-2xl p-6 h-full flex flex-col",children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-2 tracking-wide",children:"Completed Workouts"}),b.jsx("p",{className:"text-xs text-zinc-500 mb-6 font-mono border-b border-zinc-800 pb-4",children:a}),b.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2",children:oe.length>0?oe.map(($,he)=>b.jsxs("div",{className:"flex items-start space-x-4 bg-black p-4 rounded-xl border border-zinc-800",children:[b.jsx(ch,{size:18,className:"text-zinc-400 mt-0.5 shrink-0"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-bold text-white tracking-wide",children:$.title}),b.jsxs("div",{className:"text-xs text-zinc-500 font-mono mt-1",children:[$.sets," sets  ",$.rounds," rounds"]})]})]},he)):b.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-zinc-600 h-full",children:[b.jsx(Ll,{size:32,className:"mb-4 opacity-30"}),b.jsx("p",{className:"text-xs font-bold tracking-widest uppercase text-center max-w-[200px]",children:"No workouts logged for this date."})]})})]})})]})}function AN({user:r,logs:e}){const[i,a]=ye.useState(r.profile),[l,c]=ye.useState(!1),[d,p]=ye.useState(""),[v,y]=ye.useState(!1),S=async Q=>{if(Q.preventDefault(),!!gt){c(!0);try{await Gr(nr(gt,"artifacts",Ln,"public","data","samfit_users",r.id),{...r,profile:i},{merge:!0}),alert("Profile updated and synced to cloud.")}catch(W){alert("Error updating profile: "+W.message)}c(!1)}},A=async()=>{y(!0);const Q=D.reduce(($,he)=>$+(he.exercises?.length||0),0),W=D.reduce(($,he)=>$+Number(he.hoursTrained||0),0),ee=i.weight,se=`Client metrics: ${Q} total workouts recorded, ${W} total hours trained, current weight ${ee}kg. Give a short, highly motivational 2-paragraph pep talk acting as their personal trainer from Sam Fit gym. Acknowledge their effort and give them a hype boost!`,oe=await Nh(se,"You are an elite, highly motivational personal trainer at Sam Fit gym. Use a hype, encouraging tone.");p(oe),y(!1)},D=e.filter(Q=>Q.userId===r.id).sort((Q,W)=>new Date(Q.date)-new Date(W.date)),H=D.slice(-7);return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"lg:col-span-1 bg-zinc-950 border border-zinc-800 rounded-2xl p-6 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-zinc-700 to-black"}),b.jsxs("div",{className:"flex flex-col items-center mb-8 pt-4",children:[b.jsx("div",{className:"relative group cursor-pointer mb-6",children:b.jsx("div",{className:"w-28 h-28 bg-black rounded-full border border-zinc-700 flex items-center justify-center overflow-hidden shadow-2xl",children:i.photo?b.jsx("img",{src:i.photo,alt:"Profile",className:"w-full h-full object-cover"}):b.jsx(jl,{size:48,className:"text-zinc-700"})})}),b.jsxs("h3",{className:"text-xl font-bold text-white tracking-wide",children:[i.firstName||"New"," ",i.lastName||"Client"]}),b.jsx("p",{className:"text-xs font-bold text-zinc-500 uppercase tracking-[0.2em] mt-2",children:"Sam Fit Member"})]}),b.jsxs("form",{onSubmit:S,className:"space-y-5",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"First Name"}),b.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-sm text-white focus:border-zinc-600 outline-none transition-colors",value:i.firstName,onChange:Q=>a({...i,firstName:Q.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Last Name"}),b.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-sm text-white focus:border-zinc-600 outline-none transition-colors",value:i.lastName,onChange:Q=>a({...i,lastName:Q.target.value})})]})]}),b.jsxs("div",{className:"border-t border-zinc-900 pt-6 mt-6",children:[b.jsxs("h4",{className:"text-xs font-bold tracking-widest text-white uppercase mb-5 flex items-center",children:[b.jsx(Hc,{size:14,className:"mr-2 text-zinc-500"})," Body Metrics"]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Height (M)"}),b.jsx("input",{type:"number",min:"0",step:"1",className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-sm font-mono text-white focus:border-zinc-600 outline-none transition-colors",value:i.heightM,onChange:Q=>a({...i,heightM:Q.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Height (CM)"}),b.jsx("input",{type:"number",min:"0",max:"99",className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-sm font-mono text-white focus:border-zinc-600 outline-none transition-colors",value:i.heightCm,onChange:Q=>a({...i,heightCm:Q.target.value})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Weight (KG)"}),b.jsx("input",{type:"number",step:"0.1",className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-sm font-mono text-white focus:border-zinc-600 outline-none transition-colors",value:i.weight,onChange:Q=>a({...i,weight:Q.target.value})})]})]}),b.jsx("button",{type:"submit",disabled:l,className:"w-full bg-white text-black text-sm font-bold tracking-widest uppercase py-4 rounded-xl mt-8 hover:bg-zinc-200 transition-colors disabled:opacity-50",children:l?"Syncing...":"Update Metrics"})]})]}),b.jsx("div",{className:"lg:col-span-2 space-y-6",children:b.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-2xl p-6 lg:p-8",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[b.jsxs("h3",{className:"text-xl font-bold text-white flex items-center tracking-wide",children:[b.jsx(gv,{size:20,className:"mr-3 text-zinc-500"})," My Progress Tracker"]}),b.jsxs("button",{onClick:A,disabled:v,className:"bg-zinc-900 border border-zinc-700 hover:border-zinc-500 text-white text-xs font-bold tracking-widest uppercase px-4 py-2 rounded-lg transition-all flex items-center disabled:opacity-50",children:[b.jsx(hh,{size:14,className:"mr-2 text-amber-400"}),v?"Consulting Coach...":" Ask AI Coach"]})]}),d&&b.jsxs("div",{className:"mb-8 p-5 bg-gradient-to-br from-zinc-900 to-black border border-zinc-800 rounded-xl relative overflow-hidden animate-in fade-in slide-in-from-top-2",children:[b.jsx("div",{className:"absolute -right-4 -top-4 opacity-5",children:b.jsx(Jd,{size:100})}),b.jsxs("div",{className:"flex items-center text-amber-500 mb-3",children:[b.jsx(Jd,{size:18,className:"mr-2"}),b.jsx("span",{className:"text-xs font-bold tracking-widest uppercase text-amber-500",children:"Coach's Feedback"})]}),b.jsx("div",{className:"text-sm text-zinc-300 leading-relaxed whitespace-pre-wrap relative z-10",children:d})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10",children:[b.jsxs("div",{className:"bg-black border border-zinc-800/50 p-6 rounded-xl",children:[b.jsx("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Current BMI"}),b.jsx("div",{className:"text-3xl font-light text-white font-mono",children:i.heightM>0&&i.weight>0?(i.weight/Math.pow(Number(i.heightM)+Number(i.heightCm)/100,2)).toFixed(1):"--"})]}),b.jsxs("div",{className:"bg-black border border-zinc-800/50 p-6 rounded-xl",children:[b.jsx("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Total Workouts"}),b.jsx("div",{className:"text-3xl font-light text-white font-mono",children:D.reduce((Q,W)=>Q+(W.exercises?.length||0),0)})]}),b.jsxs("div",{className:"bg-black border border-zinc-800/50 p-6 rounded-xl",children:[b.jsx("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Hours Trained"}),b.jsx("div",{className:"text-3xl font-light text-white font-mono",children:D.reduce((Q,W)=>Q+Number(W.hoursTrained||0),0)})]})]}),b.jsxs("div",{className:"bg-black border border-zinc-800 rounded-xl p-6 lg:p-8 relative",children:[b.jsx("h4",{className:"text-[10px] font-bold tracking-widest text-zinc-500 mb-8 uppercase",children:"Weight Trajectory"}),b.jsx("div",{className:"h-48 flex items-end justify-between space-x-2 md:space-x-6 w-full overflow-x-auto pb-4 pt-8 border-b border-zinc-900",children:H.length>0?H.map((Q,W)=>{const ee=Math.max(...H.map(oe=>oe.weightLog||0),100),se=(Q.weightLog||0)/ee*100;return b.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-[40px] group relative h-full justify-end",children:[b.jsxs("div",{className:"absolute -top-8 opacity-0 group-hover:opacity-100 bg-white text-black font-bold font-mono text-[10px] px-2 py-1 rounded transition-opacity z-10 whitespace-nowrap",children:[Q.weightLog," kg"]}),b.jsx("div",{className:"w-full max-w-[40px] bg-zinc-800 group-hover:bg-zinc-500 transition-colors rounded-t",style:{height:`${se}%`,minHeight:"10%"}}),b.jsx("span",{className:"text-[10px] font-mono text-zinc-600 mt-3 whitespace-nowrap",children:Q.date.substring(5)})]},W)}):b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-zinc-600 text-sm absolute inset-0",children:[b.jsx(Hc,{size:32,className:"mb-3 opacity-20"}),"Log your journal daily to generate a chart."]})})]})]})})]})}w1.createRoot(document.getElementById("root")).render(b.jsx(ye.StrictMode,{children:b.jsx(mN,{})}));
