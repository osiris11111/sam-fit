(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Vd={exports:{}},gl={};var O0;function ST(){if(O0)return gl;O0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:u}}return gl.Fragment=e,gl.jsx=i,gl.jsxs=i,gl}var k0;function wT(){return k0||(k0=1,Vd.exports=ST()),Vd.exports}var g=wT(),zd={exports:{}},Te={};var V0;function AT(){if(V0)return Te;V0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function H(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,G={};function K(k,$,ne){this.props=k,this.context=$,this.refs=G,this.updater=ne||X}K.prototype.isReactComponent={},K.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},K.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Z(){}Z.prototype=K.prototype;function ae(k,$,ne){this.props=k,this.context=$,this.refs=G,this.updater=ne||X}var ge=ae.prototype=new Z;ge.constructor=ae,te(ge,K.prototype),ge.isPureReactComponent=!0;var Re=Array.isArray;function se(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(k,$,ne){var oe=ne.ref;return{$$typeof:s,type:k,key:$,ref:oe!==void 0?oe:null,props:ne}}function D(k,$){return N(k.type,$,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function z(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return $[ne]})}var C=/\/+/g;function tt(k,$){return typeof k=="object"&&k!==null&&k.key!=null?z(""+k.key):$.toString(36)}function ft(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(se,se):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,$,ne,oe,ye){var Se=typeof k;(Se==="undefined"||Se==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(Se){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case s:case e:Ue=!0;break;case x:return Ue=k._init,F(Ue(k._payload),$,ne,oe,ye)}}if(Ue)return ye=ye(k),Ue=oe===""?"."+tt(k,0):oe,Re(ye)?(ne="",Ue!=null&&(ne=Ue.replace(C,"$&/")+"/"),F(ye,$,ne,"",function(sr){return sr})):ye!=null&&(M(ye)&&(ye=D(ye,ne+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(C,"$&/")+"/")+Ue)),$.push(ye)),1;Ue=0;var Dt=oe===""?".":oe+":";if(Re(k))for(var ot=0;ot<k.length;ot++)oe=k[ot],Se=Dt+tt(oe,ot),Ue+=F(oe,$,ne,Se,ye);else if(ot=H(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(oe=k.next()).done;)oe=oe.value,Se=Dt+tt(oe,ot++),Ue+=F(oe,$,ne,Se,ye);else if(Se==="object"){if(typeof k.then=="function")return F(ft(k),$,ne,oe,ye);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function re(k,$,ne){if(k==null)return k;var oe=[],ye=0;return F(k,oe,"","",function(Se){return $.call(ne,Se,ye++)}),oe}function de(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ge={map:re,forEach:function(k,$,ne){re(k,function(){$.apply(this,arguments)},ne)},count:function(k){var $=0;return re(k,function(){$++}),$},toArray:function(k){return re(k,function($){return $})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Te.Activity=w,Te.Children=Ge,Te.Component=K,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=ae,Te.StrictMode=a,Te.Suspense=v,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Te.__COMPILER_RUNTIME={__proto__:null,c:function(k){return A.H.useMemoCache(k)}},Te.cache=function(k){return function(){return k.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(k,$,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=te({},k.props),ye=k.key;if($!=null)for(Se in $.key!==void 0&&(ye=""+$.key),$)!S.call($,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&$.ref===void 0||(oe[Se]=$[Se]);var Se=arguments.length-2;if(Se===1)oe.children=ne;else if(1<Se){for(var Ue=Array(Se),Dt=0;Dt<Se;Dt++)Ue[Dt]=arguments[Dt+2];oe.children=Ue}return N(k.type,ye,oe)},Te.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Te.createElement=function(k,$,ne){var oe,ye={},Se=null;if($!=null)for(oe in $.key!==void 0&&(Se=""+$.key),$)S.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ye[oe]=$[oe]);var Ue=arguments.length-2;if(Ue===1)ye.children=ne;else if(1<Ue){for(var Dt=Array(Ue),ot=0;ot<Ue;ot++)Dt[ot]=arguments[ot+2];ye.children=Dt}if(k&&k.defaultProps)for(oe in Ue=k.defaultProps,Ue)ye[oe]===void 0&&(ye[oe]=Ue[oe]);return N(k,Se,ye)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(k){return{$$typeof:p,render:k}},Te.isValidElement=M,Te.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:de}},Te.memo=function(k,$){return{$$typeof:_,type:k,compare:$===void 0?null:$}},Te.startTransition=function(k){var $=A.T,ne={};A.T=ne;try{var oe=k(),ye=A.S;ye!==null&&ye(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(se,je)}catch(Se){je(Se)}finally{$!==null&&ne.types!==null&&($.types=ne.types),A.T=$}},Te.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Te.use=function(k){return A.H.use(k)},Te.useActionState=function(k,$,ne){return A.H.useActionState(k,$,ne)},Te.useCallback=function(k,$){return A.H.useCallback(k,$)},Te.useContext=function(k){return A.H.useContext(k)},Te.useDebugValue=function(){},Te.useDeferredValue=function(k,$){return A.H.useDeferredValue(k,$)},Te.useEffect=function(k,$){return A.H.useEffect(k,$)},Te.useEffectEvent=function(k){return A.H.useEffectEvent(k)},Te.useId=function(){return A.H.useId()},Te.useImperativeHandle=function(k,$,ne){return A.H.useImperativeHandle(k,$,ne)},Te.useInsertionEffect=function(k,$){return A.H.useInsertionEffect(k,$)},Te.useLayoutEffect=function(k,$){return A.H.useLayoutEffect(k,$)},Te.useMemo=function(k,$){return A.H.useMemo(k,$)},Te.useOptimistic=function(k,$){return A.H.useOptimistic(k,$)},Te.useReducer=function(k,$,ne){return A.H.useReducer(k,$,ne)},Te.useRef=function(k){return A.H.useRef(k)},Te.useState=function(k){return A.H.useState(k)},Te.useSyncExternalStore=function(k,$,ne){return A.H.useSyncExternalStore(k,$,ne)},Te.useTransition=function(){return A.H.useTransition()},Te.version="19.2.4",Te}var z0;function wm(){return z0||(z0=1,zd.exports=AT()),zd.exports}var le=wm(),jd={exports:{}},yl={},Ld={exports:{}},Ud={};var j0;function NT(){return j0||(j0=1,(function(s){function e(F,re){var de=F.length;F.push(re);e:for(;0<de;){var je=de-1>>>1,Ge=F[je];if(0<l(Ge,re))F[je]=re,F[de]=Ge,de=je;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var re=F[0],de=F.pop();if(de!==re){F[0]=de;e:for(var je=0,Ge=F.length,k=Ge>>>1;je<k;){var $=2*(je+1)-1,ne=F[$],oe=$+1,ye=F[oe];if(0>l(ne,de))oe<Ge&&0>l(ye,ne)?(F[je]=ye,F[oe]=de,je=oe):(F[je]=ne,F[$]=de,je=$);else if(oe<Ge&&0>l(ye,de))F[je]=ye,F[oe]=de,je=oe;else break e}}return re}function l(F,re){var de=F.sortIndex-re.sortIndex;return de!==0?de:F.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],x=1,w=null,R=3,H=!1,X=!1,te=!1,G=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ge(F){for(var re=i(_);re!==null;){if(re.callback===null)a(_);else if(re.startTime<=F)a(_),re.sortIndex=re.expirationTime,e(v,re);else break;re=i(_)}}function Re(F){if(te=!1,ge(F),!X)if(i(v)!==null)X=!0,se||(se=!0,z());else{var re=i(_);re!==null&&ft(Re,re.startTime-F)}}var se=!1,A=-1,S=5,N=-1;function D(){return G?!0:!(s.unstable_now()-N<S)}function M(){if(G=!1,se){var F=s.unstable_now();N=F;var re=!0;try{e:{X=!1,te&&(te=!1,Z(A),A=-1),H=!0;var de=R;try{t:{for(ge(F),w=i(v);w!==null&&!(w.expirationTime>F&&D());){var je=w.callback;if(typeof je=="function"){w.callback=null,R=w.priorityLevel;var Ge=je(w.expirationTime<=F);if(F=s.unstable_now(),typeof Ge=="function"){w.callback=Ge,ge(F),re=!0;break t}w===i(v)&&a(v),ge(F)}else a(v);w=i(v)}if(w!==null)re=!0;else{var k=i(_);k!==null&&ft(Re,k.startTime-F),re=!1}}break e}finally{w=null,R=de,H=!1}re=void 0}}finally{re?z():se=!1}}}var z;if(typeof ae=="function")z=function(){ae(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,tt=C.port2;C.port1.onmessage=M,z=function(){tt.postMessage(null)}}else z=function(){K(M,0)};function ft(F,re){A=K(function(){F(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(F){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var de=R;R=re;try{return F()}finally{R=de}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=R;R=F;try{return re()}finally{R=de}},s.unstable_scheduleCallback=function(F,re,de){var je=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,F){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,F={id:x++,callback:re,priorityLevel:F,startTime:de,expirationTime:Ge,sortIndex:-1},de>je?(F.sortIndex=de,e(_,F),i(v)===null&&F===i(_)&&(te?(Z(A),A=-1):te=!0,ft(Re,de-je))):(F.sortIndex=Ge,e(v,F),X||H||(X=!0,se||(se=!0,z()))),F},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(F){var re=R;return function(){var de=R;R=re;try{return F.apply(this,arguments)}finally{R=de}}}})(Ud)),Ud}var L0;function RT(){return L0||(L0=1,Ld.exports=NT()),Ld.exports}var Pd={exports:{}},Jt={};var U0;function CT(){if(U0)return Jt;U0=1;var s=wm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(v,_,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:_,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jt.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(v,_,null,x)},Jt.flushSync=function(v){var _=d.T,x=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=x,a.d.f()}},Jt.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Jt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Jt.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,w=p(x,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:H}):x==="script"&&a.d.X(v,{crossOrigin:w,integrity:R,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Jt.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Jt.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,w=p(x,_.crossOrigin);a.d.L(v,x,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Jt.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Jt.requestFormReset=function(v){a.d.r(v)},Jt.unstable_batchedUpdates=function(v,_){return v(_)},Jt.useFormState=function(v,_,x){return d.H.useFormState(v,_,x)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.2.4",Jt}var P0;function IT(){if(P0)return Pd.exports;P0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=CT(),Pd.exports}var B0;function DT(){if(B0)return yl;B0=1;var s=RT(),e=wm(),i=IT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,o=f;break}if(E===o){y=!0,o=h,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=h;break}if(E===o){y=!0,o=f,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case K:return"Profiler";case G:return"StrictMode";case Re:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case ae:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var ft=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function k(t){return{current:t}}function $(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ne(t,n){Ge++,je[Ge]=t.current,t.current=n}var oe=k(null),ye=k(null),Se=k(null),Ue=k(null);function Dt(t,n){switch(ne(Se,n),ne(ye,t),ne(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?n0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=n0(n),t=i0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(oe),ne(oe,t)}function ot(){$(oe),$(ye),$(Se)}function sr(t){t.memoizedState!==null&&ne(Ue,t);var n=oe.current,r=i0(n,t.type);n!==r&&(ne(ye,t),ne(oe,r))}function Jr(t){ye.current===t&&($(oe),$(ye)),Ue.current===t&&($(Ue),fl._currentValue=de)}var Zr,Wr;function ni(t){if(Zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",Wr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+t+Wr}var ho=!1;function rr(t,n){if(!t||ho)return"";ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var P=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){P=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){P=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var I=y.split(`
`),U=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===U.length)for(o=I.length-1,h=U.length-1;1<=o&&0<=h&&I[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==U[h]){var Q=`
`+I[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ni(r):""}function fo(t,n){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return rr(t.type,!1);case 11:return rr(t.type.render,!1);case 1:return rr(t.type,!0);case 31:return ni("Activity");default:return""}}function mo(t){try{var n="",r=null;do n+=fo(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,zh=s.unstable_shouldYield,Zl=s.unstable_requestPaint,nn=s.unstable_now,ar=s.unstable_getCurrentPriorityLevel,po=s.unstable_ImmediatePriority,go=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,jh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,ec=s.log,tc=s.unstable_setDisableYieldValue,Pn=null,qt=null;function wn(t){if(typeof ec=="function"&&tc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Pn,t)}catch{}}var pt=Math.clz32?Math.clz32:ic,nc=Math.log,ea=Math.LN2;function ic(t){return t>>>=0,t===0?32:31-(nc(t)/ea|0)|0}var ii=256,or=262144,Et=4194304;function si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(y&=E,y!==0?h=si(y):r||(r=E&~t,r!==0&&(h=si(r))))):(E=o&~f,E!==0?h=si(E):y!==0?h=si(y):r||(r=o&~t,r!==0&&(h=si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function lr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uh(t,n,r,o,h,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-pt(r),J=1<<Q;E[Q]=0,I[Q]=-1;var P=U[Q];if(P!==null)for(U[Q]=null,Q=0;Q<P.length;Q++){var q=P[Q];q!==null&&(q.lane&=-536870913)}r&=~J}o!==0&&cr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-pt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function yo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-pt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function _o(t,n){var r=n&-n;return r=(r&42)!==0?1:ur(r),(r&(t.suspendedLanes|n))!==0?0:r}function ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:A0(t.type))}function qn(t,n){var r=re.p;try{return re.p=t,n()}finally{re.p=r}}var Hn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hn,Lt="__reactProps$"+Hn,oi="__reactContainer$"+Hn,ta="__reactEvents$"+Hn,Ph="__reactListeners$"+Hn,ac="__reactHandles$"+Hn,oc="__reactResources$"+Hn,li="__reactMarker$"+Hn;function na(t){delete t[Tt],delete t[Lt],delete t[ta],delete t[Ph],delete t[ac]}function ci(t){var n=t[Tt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=u0(t);t!==null;){if(r=t[Tt])return r;t=u0(t)}return n}t=r,r=t.parentNode}return null}function An(t){if(t=t[Tt]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ui(t){var n=t[oc];return n||(n=t[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[li]=!0}var vo=new Set,bo={};function hi(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(bo[t]=n,t=0;t<n.length;t++)vo.add(n[t])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},xo={};function lc(t){return bt.call(xo,t)?!0:bt.call(To,t)?!1:Eo.test(t)?xo[t]=!0:(To[t]=!0,!1)}function ia(t,n,r){if(lc(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function gn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function St(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=ls(t)?"checked":"value";t._valueTracker=So(t,n,""+t[n])}}function hr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=ls(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fr=/[\n"\\]/g;function on(t){return t.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(t,n,r,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?wo(t,y,Ut(n)):r!=null?wo(t,y,Ut(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function cc(t,n,r,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ye(t);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ye(t)}function wo(t,n,r){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function cs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function uc(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function us(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ft(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Ye(t)}function ln(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||hc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function No(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ao(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(t,f,n[f])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Ro=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,mi=null;function dr(t){var n=An(t);if(n&&(t=n.stateNode)){var r=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(sa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(a(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&hr(o)}break e;case"textarea":uc(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&cs(t,!!r.multiple,n,!1)}}}var oa=!1;function ds(t,n,r){if(oa)return t(n,r);oa=!0;try{var o=t(n);return o}finally{if(oa=!1,(fs!==null||mi!==null)&&(ru(),fs&&(n=fs,t=mi,mi=fs=null,dr(n),t)))for(n=0;n<t.length;n++)dr(t[n])}}function Fn(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Lt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{mr=!1}var pi=null,Co=null,pr=null;function Io(){if(pr)return pr;var t,n=Co,r=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(o=1;o<=y&&n[r-o]===h[f-o];o++);return pr=h.slice(t,1<o?1-o:void 0)}function gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Qn(){return!1}function Ht(t){function n(r,o,h,f,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Qn,this.isPropagationStopped=Qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Ht(Vi),ms=w({},Vi,{view:0,detail:0}),Do=Ht(ms),ps,la,yi,ca=w({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(ps=t.screenX-yi.screenX,la=t.screenY-yi.screenY):la=ps=0,yi=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:la}}),Mo=Ht(ca),yr=w({},ca,{dataTransfer:0}),dc=Ht(yr),mc=w({},ms,{relatedTarget:0}),_r=Ht(mc),Oo=w({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),pc=Ht(Oo),ua=w({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gc=Ht(ua),yc=w({},Vi,{data:0}),_i=Ht(yc),_c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ec(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bc[t])?!!n[t]:!1}function gs(){return Ec}var sn=w({},ms,{key:function(t){if(t.key){var n=_c[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tc=Ht(sn),xc=w({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Ht(xc),c=w({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=Ht(c),b=w({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ht(b),j=w({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ht(j),ie=w({},Vi,{newState:0,oldState:0}),we=Ht(ie),gt=[9,13,27,32],Fe=Rn&&"CompositionEvent"in window,lt=null;Rn&&"documentMode"in document&&(lt=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!lt,vi=Rn&&(!Fe||lt&&8<lt&&11>=lt),Kn=" ",Yn=!1;function vr(t,n){switch(t){case"keyup":return gt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function Y1(t,n){switch(t){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return t=n.data,t===Kn&&Yn?null:t;default:return null}}function X1(t,n){if(fa)return t==="compositionend"||!Fe&&vr(t,n)?(t=Io(),pr=Co=pi=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var $1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!$1[t.type]:n==="textarea"}function mp(t,n,r,o){fs?mi?mi.push(o):mi=[o]:fs=o,n=fu(n,"onChange"),0<n.length&&(r=new gi("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var ko=null,Vo=null;function J1(t){$y(t,0)}function Sc(t){var n=pn(t);if(hr(n))return t}function pp(t,n){if(t==="change")return n}var gp=!1;if(Rn){var Bh;if(Rn){var qh="oninput"in document;if(!qh){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),qh=typeof yp.oninput=="function"}Bh=qh}else Bh=!1;gp=Bh&&(!document.documentMode||9<document.documentMode)}function _p(){ko&&(ko.detachEvent("onpropertychange",vp),Vo=ko=null)}function vp(t){if(t.propertyName==="value"&&Sc(Vo)){var n=[];mp(n,Vo,t,Nn(t)),ds(J1,n)}}function Z1(t,n,r){t==="focusin"?(_p(),ko=n,Vo=r,ko.attachEvent("onpropertychange",vp)):t==="focusout"&&_p()}function W1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sc(Vo)}function eE(t,n){if(t==="click")return Sc(n)}function tE(t,n){if(t==="input"||t==="change")return Sc(n)}function nE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:nE;function zo(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!bt.call(n,h)||!yn(t[h],n[h]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ep(t,n){var r=bp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bp(r)}}function Tp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Tp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=di(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var iE=Rn&&"documentMode"in document&&11>=document.documentMode,da=null,Gh=null,jo=null,Fh=!1;function Sp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||da==null||da!==di(o)||(o=da,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=fu(Gh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=da)))}function br(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ma={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Qh={},wp={};Rn&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Er(t){if(Qh[t])return Qh[t];if(!ma[t])return t;var n=ma[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in wp)return Qh[t]=n[r];return t}var Ap=Er("animationend"),Np=Er("animationiteration"),Rp=Er("animationstart"),sE=Er("transitionrun"),rE=Er("transitionstart"),aE=Er("transitioncancel"),Cp=Er("transitionend"),Ip=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Xn(t,n){Ip.set(t,n),hi(n,[t])}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],pa=0,Yh=0;function Ac(){for(var t=pa,n=Yh=pa=0;n<t;){var r=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Dp(r,h,f)}}function Nc(t,n,r,o){In[pa++]=t,In[pa++]=n,In[pa++]=r,In[pa++]=o,Yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Xh(t,n,r,o){return Nc(t,n,r,o),Rc(t)}function Tr(t,n){return Nc(t,null,null,n),Rc(t)}function Dp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Rc(t){if(50<rl)throw rl=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ga={};function oE(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,r,o){return new oE(t,n,r,o)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var r=t.alternate;return r===null?(r=_n(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Mp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cc(t,n,r,o,h,f){var y=0;if(o=t,typeof t=="function")$h(t)&&(y=1);else if(typeof t=="string")y=fT(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=_n(31,r,n,h),t.elementType=N,t.lanes=f,t;case te:return xr(r.children,h,f,n);case G:y=8,h|=24;break;case K:return t=_n(12,r,n,h|2),t.elementType=K,t.lanes=f,t;case Re:return t=_n(13,r,n,h),t.elementType=Re,t.lanes=f,t;case se:return t=_n(19,r,n,h),t.elementType=se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:y=10;break e;case Z:y=9;break e;case ge:y=11;break e;case A:y=14;break e;case S:y=16,o=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=_n(y,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function xr(t,n,r,o){return t=_n(7,t,o,n),t.lanes=r,t}function Jh(t,n,r){return t=_n(6,t,null,n),t.lanes=r,t}function Op(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kp=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var r=kp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:mo(n)},kp.set(t,n),n)}return{value:t,source:n,stack:mo(n)}}var ya=[],_a=0,Ic=null,Lo=0,Mn=[],On=0,ys=null,bi=1,Ei="";function Li(t,n){ya[_a++]=Lo,ya[_a++]=Ic,Ic=t,Lo=n}function Vp(t,n,r){Mn[On++]=bi,Mn[On++]=Ei,Mn[On++]=ys,ys=t;var o=bi;t=Ei;var h=32-pt(o)-1;o&=~(1<<h),r+=1;var f=32-pt(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,bi=1<<32-pt(n)+h|r<<h|o,Ei=f+t}else bi=1<<f|r<<h|o,Ei=t}function Wh(t){t.return!==null&&(Li(t,1),Vp(t,1,0))}function ef(t){for(;t===Ic;)Ic=ya[--_a],ya[_a]=null,Lo=ya[--_a],ya[_a]=null;for(;t===ys;)ys=Mn[--On],Mn[On]=null,Ei=Mn[--On],Mn[On]=null,bi=Mn[--On],Mn[On]=null}function zp(t,n){Mn[On++]=bi,Mn[On++]=Ei,Mn[On++]=ys,bi=n.id,Ei=n.overflow,ys=t}var Gt=null,it=null,Le=!1,_s=null,kn=!1,tf=Error(a(519));function vs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Dn(n,t)),tf}function jp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Tt]=t,n[Lt]=o,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(r=0;r<ol.length;r++)De(ol[r],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),cc(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),us(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||e0(n.textContent,r)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||vs(t,!0)}function Lp(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Gt=Gt.return}}function va(t){if(t!==Gt)return!1;if(!Le)return Lp(t),Le=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bd(t.type,t.memoizedProps)),r=!r),r&&it&&vs(t),Lp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=c0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=c0(t)}else n===27?(n=it,Os(t.type)?(t=wd,wd=null,it=t):it=n):it=Gt?zn(t.stateNode.nextSibling):null;return!0}function Sr(){it=Gt=null,Le=!1}function nf(){var t=_s;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),_s=null),t}function Uo(t){_s===null?_s=[t]:_s.push(t)}var sf=k(null),wr=null,Ui=null;function bs(t,n,r){ne(sf,n._currentValue),n._currentValue=r}function Pi(t){t._currentValue=sf.current,$(sf)}function rf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function af(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),rf(f.return,r,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),rf(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ba(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;yn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}h=h.return}t!==null&&af(n,t,r,o),n.flags|=262144}function Dc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){wr=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Up(wr,t)}function Mc(t,n){return wr===null&&Ar(t),Up(t,n)}function Up(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(t===null)throw Error(a(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return r}var lE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},cE=s.unstable_scheduleCallback,uE=s.unstable_NormalPriority,wt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new lE,data:new Map,refCount:0}}function Po(t){t.refCount--,t.refCount===0&&cE(uE,function(){t.controller.abort()})}var Bo=null,lf=0,Ea=0,Ta=null;function hE(t,n){if(Bo===null){var r=Bo=[];lf=0,Ea=hd(),Ta={status:"pending",value:void 0,then:function(o){r.push(o)}}}return lf++,n.then(Pp,Pp),n}function Pp(){if(--lf===0&&Bo!==null){Ta!==null&&(Ta.status="fulfilled");var t=Bo;Bo=null,Ea=0,Ta=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function fE(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Bp=F.S;F.S=function(t,n){Sy=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hE(t,n),Bp!==null&&Bp(t,n)};var Nr=k(null);function cf(){var t=Nr.current;return t!==null?t:nt.pooledCache}function Oc(t,n){n===null?ne(Nr,Nr.current):ne(Nr,n.pool)}function qp(){var t=cf();return t===null?null:{parent:wt._currentValue,pool:t}}var xa=Error(a(460)),uf=Error(a(474)),kc=Error(a(542)),Vc={then:function(){}};function Hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Gn,Gn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qp(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qp(t),t}throw Cr=n,xa}}function Rr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cr=r,xa):r}}var Cr=null;function Fp(){if(Cr===null)throw Error(a(459));var t=Cr;return Cr=null,t}function Qp(t){if(t===xa||t===kc)throw Error(a(483))}var Sa=null,qo=0;function zc(t){var n=qo;return qo+=1,Sa===null&&(Sa=[]),Gp(Sa,t,n)}function Ho(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function jc(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Kp(t){function n(V,O){if(t){var L=V.deletions;L===null?(V.deletions=[O],V.flags|=16):L.push(O)}}function r(V,O){if(!t)return null;for(;O!==null;)n(V,O),O=O.sibling;return null}function o(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=ji(V,O),V.index=0,V.sibling=null,V}function f(V,O,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<O?(V.flags|=67108866,O):L):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,L,Y){return O===null||O.tag!==6?(O=Jh(L,V.mode,Y),O.return=V,O):(O=h(O,L),O.return=V,O)}function I(V,O,L,Y){var me=L.type;return me===te?Q(V,O,L.props.children,Y,L.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Rr(me)===O.type)?(O=h(O,L.props),Ho(O,L),O.return=V,O):(O=Cc(L.type,L.key,L.props,null,V.mode,Y),Ho(O,L),O.return=V,O)}function U(V,O,L,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Zh(L,V.mode,Y),O.return=V,O):(O=h(O,L.children||[]),O.return=V,O)}function Q(V,O,L,Y,me){return O===null||O.tag!==7?(O=xr(L,V.mode,Y,me),O.return=V,O):(O=h(O,L),O.return=V,O)}function J(V,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,V.mode,L),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return L=Cc(O.type,O.key,O.props,null,V.mode,L),Ho(L,O),L.return=V,L;case X:return O=Zh(O,V.mode,L),O.return=V,O;case S:return O=Rr(O),J(V,O,L)}if(ft(O)||z(O))return O=xr(O,V.mode,L,null),O.return=V,O;if(typeof O.then=="function")return J(V,zc(O),L);if(O.$$typeof===ae)return J(V,Mc(V,O),L);jc(V,O)}return null}function P(V,O,L,Y){var me=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return me!==null?null:E(V,O,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===me?I(V,O,L,Y):null;case X:return L.key===me?U(V,O,L,Y):null;case S:return L=Rr(L),P(V,O,L,Y)}if(ft(L)||z(L))return me!==null?null:Q(V,O,L,Y,null);if(typeof L.then=="function")return P(V,O,zc(L),Y);if(L.$$typeof===ae)return P(V,O,Mc(V,L),Y);jc(V,L)}return null}function q(V,O,L,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(L)||null,E(O,V,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return V=V.get(Y.key===null?L:Y.key)||null,I(O,V,Y,me);case X:return V=V.get(Y.key===null?L:Y.key)||null,U(O,V,Y,me);case S:return Y=Rr(Y),q(V,O,L,Y,me)}if(ft(Y)||z(Y))return V=V.get(L)||null,Q(O,V,Y,me,null);if(typeof Y.then=="function")return q(V,O,L,zc(Y),me);if(Y.$$typeof===ae)return q(V,O,L,Mc(O,Y),me);jc(O,Y)}return null}function ue(V,O,L,Y){for(var me=null,qe=null,he=O,Ne=O=0,Oe=null;he!==null&&Ne<L.length;Ne++){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var He=P(V,he,L[Ne],Y);if(He===null){he===null&&(he=Oe);break}t&&he&&He.alternate===null&&n(V,he),O=f(He,O,Ne),qe===null?me=He:qe.sibling=He,qe=He,he=Oe}if(Ne===L.length)return r(V,he),Le&&Li(V,Ne),me;if(he===null){for(;Ne<L.length;Ne++)he=J(V,L[Ne],Y),he!==null&&(O=f(he,O,Ne),qe===null?me=he:qe.sibling=he,qe=he);return Le&&Li(V,Ne),me}for(he=o(he);Ne<L.length;Ne++)Oe=q(he,V,Ne,L[Ne],Y),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ne:Oe.key),O=f(Oe,O,Ne),qe===null?me=Oe:qe.sibling=Oe,qe=Oe);return t&&he.forEach(function(Ls){return n(V,Ls)}),Le&&Li(V,Ne),me}function _e(V,O,L,Y){if(L==null)throw Error(a(151));for(var me=null,qe=null,he=O,Ne=O=0,Oe=null,He=L.next();he!==null&&!He.done;Ne++,He=L.next()){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var Ls=P(V,he,He.value,Y);if(Ls===null){he===null&&(he=Oe);break}t&&he&&Ls.alternate===null&&n(V,he),O=f(Ls,O,Ne),qe===null?me=Ls:qe.sibling=Ls,qe=Ls,he=Oe}if(He.done)return r(V,he),Le&&Li(V,Ne),me;if(he===null){for(;!He.done;Ne++,He=L.next())He=J(V,He.value,Y),He!==null&&(O=f(He,O,Ne),qe===null?me=He:qe.sibling=He,qe=He);return Le&&Li(V,Ne),me}for(he=o(he);!He.done;Ne++,He=L.next())He=q(he,V,Ne,He.value,Y),He!==null&&(t&&He.alternate!==null&&he.delete(He.key===null?Ne:He.key),O=f(He,O,Ne),qe===null?me=He:qe.sibling=He,qe=He);return t&&he.forEach(function(xT){return n(V,xT)}),Le&&Li(V,Ne),me}function et(V,O,L,Y){if(typeof L=="object"&&L!==null&&L.type===te&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var me=L.key;O!==null;){if(O.key===me){if(me=L.type,me===te){if(O.tag===7){r(V,O.sibling),Y=h(O,L.props.children),Y.return=V,V=Y;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Rr(me)===O.type){r(V,O.sibling),Y=h(O,L.props),Ho(Y,L),Y.return=V,V=Y;break e}r(V,O);break}else n(V,O);O=O.sibling}L.type===te?(Y=xr(L.props.children,V.mode,Y,L.key),Y.return=V,V=Y):(Y=Cc(L.type,L.key,L.props,null,V.mode,Y),Ho(Y,L),Y.return=V,V=Y)}return y(V);case X:e:{for(me=L.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(V,O.sibling),Y=h(O,L.children||[]),Y.return=V,V=Y;break e}else{r(V,O);break}else n(V,O);O=O.sibling}Y=Zh(L,V.mode,Y),Y.return=V,V=Y}return y(V);case S:return L=Rr(L),et(V,O,L,Y)}if(ft(L))return ue(V,O,L,Y);if(z(L)){if(me=z(L),typeof me!="function")throw Error(a(150));return L=me.call(L),_e(V,O,L,Y)}if(typeof L.then=="function")return et(V,O,zc(L),Y);if(L.$$typeof===ae)return et(V,O,Mc(V,L),Y);jc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(V,O.sibling),Y=h(O,L),Y.return=V,V=Y):(r(V,O),Y=Jh(L,V.mode,Y),Y.return=V,V=Y),y(V)):r(V,O)}return function(V,O,L,Y){try{qo=0;var me=et(V,O,L,Y);return Sa=null,me}catch(he){if(he===xa||he===kc)throw he;var qe=_n(29,he,null,V.mode);return qe.lanes=Y,qe.return=V,qe}}}var Ir=Kp(!0),Yp=Kp(!1),Es=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Rc(t),Dp(t,null,r),n}return Nc(t,o,n,r),Rc(t)}function Go(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,yo(t,r)}}function df(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var mf=!1;function Fo(){if(mf){var t=Ta;if(t!==null)throw t}}function Qo(t,n,r,o){mf=!1;var h=t.updateQueue;Es=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,U=I.next;I.next=null,y===null?f=U:y.next=U,y=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=U:E.next=U,Q.lastBaseUpdate=I))}if(f!==null){var J=h.baseState;y=0,Q=U=I=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Me&P)===P:(o&P)===P){P!==0&&P===Ea&&(mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,_e=E;P=n;var et=r;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){J=ue.call(et,J,P);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,P=typeof ue=="function"?ue.call(et,J,P):ue,P==null)break e;J=w({},J,P);break e;case 2:Es=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(U=Q=q,I=J):Q=Q.next=q,y|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=J),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Rs|=y,t.lanes=y,t.memoizedState=J}}function Xp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $p(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Xp(r[t],n)}var wa=k(null),Lc=k(0);function Jp(t,n){t=Xi,ne(Lc,t),ne(wa,n),Xi=t|n.baseLanes}function pf(){ne(Lc,Xi),ne(wa,wa.current)}function gf(){Xi=Lc.current,$(wa),$(Lc)}var vn=k(null),Vn=null;function Ss(t){var n=t.alternate;ne(yt,yt.current&1),ne(vn,t),Vn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Vn=t)}function yf(t){ne(yt,yt.current),ne(vn,t),Vn===null&&(Vn=t)}function Zp(t){t.tag===22?(ne(yt,yt.current),ne(vn,t),Vn===null&&(Vn=t)):ws()}function ws(){ne(yt,yt.current),ne(vn,vn.current)}function bn(t){$(vn),Vn===t&&(Vn=null),$(yt)}var yt=k(0);function Uc(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xd(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Ae=null,Ze=null,At=null,Pc=!1,Aa=!1,Dr=!1,Bc=0,Ko=0,Na=null,dE=0;function dt(){throw Error(a(321))}function _f(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!yn(t[r],n[r]))return!1;return!0}function vf(t,n,r,o,h,f){return Bi=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Vg:kf,Dr=!1,f=r(o,h),Dr=!1,Aa&&(f=eg(n,r,o,h)),Wp(t),f}function Wp(t){F.H=$o;var n=Ze!==null&&Ze.next!==null;if(Bi=0,At=Ze=Ae=null,Pc=!1,Ko=0,Na=null,n)throw Error(a(300));t===null||Nt||(t=t.dependencies,t!==null&&Dc(t)&&(Nt=!0))}function eg(t,n,r,o){Ae=t;var h=0;do{if(Aa&&(Na=null),Ko=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,At=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=zg,f=n(r,o)}while(Aa);return f}function mE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Yo(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ae.flags|=1024),n}function bf(){var t=Bc!==0;return Bc=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Tf(t){if(Pc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pc=!1}Bi=0,At=Ze=Ae=null,Aa=!1,Ko=Bc=0,Na=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ae.memoizedState=At=t:At=At.next=t,At}function _t(){if(Ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=At===null?Ae.memoizedState:At.next;if(n!==null)At=n,Ze=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Ae.memoizedState=At=t:At=At.next=t}return At}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(t){var n=Ko;return Ko+=1,Na===null&&(Na=[]),t=Gp(Na,t,n),n=Ae,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Vg:kf),t}function Hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yo(t);if(t.$$typeof===ae)return Ft(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,r=Ae.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qc(),Ae.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=D;return n.index++,r}function qi(t,n){return typeof n=="function"?n(t):n}function Gc(t){var n=_t();return Sf(n,Ze,t)}function Sf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,I=null,U=n,Q=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Me&J)===J:(Bi&J)===J){var P=U.revertLane;if(P===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===Ea&&(Q=!0);else if((Bi&P)===P){U=U.next,P===Ea&&(Q=!0);continue}else J={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=J,y=f):I=I.next=J,Ae.lanes|=P,Rs|=P;J=U.action,Dr&&r(f,J),f=U.hasEagerState?U.eagerState:r(f,J)}else P={lane:J,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=P,y=f):I=I.next=P,Ae.lanes|=J,Rs|=J;U=U.next}while(U!==null&&U!==n);if(I===null?y=f:I.next=E,!yn(f,t.memoizedState)&&(Nt=!0,Q&&(r=Ta,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function wf(t){var n=_t(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);yn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function tg(t,n,r){var o=Ae,h=_t(),f=Le;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!yn((Ze||h).memoizedState,r);if(y&&(h.memoizedState=r,Nt=!0),h=h.queue,Rf(sg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},ig.bind(null,o,h,r,n),null),nt===null)throw Error(a(349));f||(Bi&127)!==0||ng(o,n,r)}return r}function ng(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ae.updateQueue,n===null?(n=qc(),Ae.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ig(t,n,r,o){n.value=r,n.getSnapshot=o,rg(n)&&ag(t)}function sg(t,n,r){return r(function(){rg(n)&&ag(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!yn(t,r)}catch{return!0}}function ag(t){var n=Tr(t,2);n!==null&&dn(n,t,2)}function Af(t){var n=rn();if(typeof t=="function"){var r=t;if(t=r(),Dr){wn(!0);try{r()}finally{wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},n}function og(t,n,r,o){return t.baseState=r,Sf(t,Ze,typeof o=="function"?o:qi)}function pE(t,n,r,o,h){if(Kc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,lg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=r(h,o),I=F.S;I!==null&&I(y,E),cg(t,n,E)}catch(U){Nf(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=r(h,o),cg(t,n,f)}catch(U){Nf(t,n,U)}}function cg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ug(t,n,o)},function(o){return Nf(t,n,o)}):ug(t,n,r)}function ug(t,n,r){n.status="fulfilled",n.value=r,hg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,lg(t,r)))}function Nf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,hg(n),n=n.next;while(n!==o)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function dg(t,n){if(Le){var r=nt.formState;if(r!==null){e:{var o=Ae;if(Le){if(it){t:{for(var h=it,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=zn(h.nextSibling),o=h.data==="F!";break e}}vs(o)}o=!1}o&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},r.queue=o,r=Mg.bind(null,Ae,o),o.dispatch=r,o=Af(!1),f=Of.bind(null,Ae,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=pE.bind(null,Ae,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function mg(t){var n=_t();return pg(n,Ze,t)}function pg(t,n,r){if(n=Sf(t,n,fg)[0],t=Gc(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(y){throw y===xa?kc:y}else o=n;n=_t();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ae.flags|=2048,Ra(9,{destroy:void 0},gE.bind(null,h,r),null)),[o,f,t]}function gE(t,n){t.action=n}function gg(t){var n=_t(),r=Ze;if(r!==null)return pg(n,r,t);_t(),n=n.memoizedState,r=_t();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ra(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=qc(),Ae.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function yg(){return _t().memoizedState}function Fc(t,n,r,o){var h=rn();Ae.flags|=t,h.memoizedState=Ra(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qc(t,n,r,o){var h=_t();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&_f(o,Ze.memoizedState.deps)?h.memoizedState=Ra(n,f,r,o):(Ae.flags|=t,h.memoizedState=Ra(1|n,f,r,o))}function _g(t,n){Fc(8390656,8,t,n)}function Rf(t,n){Qc(2048,8,t,n)}function yE(t){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=qc(),Ae.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function vg(t){var n=_t().memoizedState;return yE({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bg(t,n){return Qc(4,2,t,n)}function Eg(t,n){return Qc(4,4,t,n)}function Tg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,r){r=r!=null?r.concat([t]):null,Qc(4,4,Tg.bind(null,n,t),r)}function Cf(){}function Sg(t,n){var r=_t();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function wg(t,n){var r=_t();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=t(),Dr){wn(!0);try{t()}finally{wn(!1)}}return r.memoizedState=[o,n],o}function If(t,n,r){return r===void 0||(Bi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ay(),Ae.lanes|=t,Rs|=t,r)}function Ag(t,n,r,o){return yn(r,n)?r:wa.current!==null?(t=If(t,r,o),yn(t,n)||(Nt=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(Me&261930)===0?(Nt=!0,t.memoizedState=r):(t=Ay(),Ae.lanes|=t,Rs|=t,n)}function Ng(t,n,r,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Of(t,!1,n,r);try{var I=h(),U=F.S;if(U!==null&&U(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=fE(I,o);Xo(t,n,Q,xn(t))}else Xo(t,n,o,xn(t))}catch(J){Xo(t,n,{then:function(){},status:"rejected",reason:J},xn())}finally{re.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function _E(){}function Df(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Rg(t).queue;Ng(t,h,n,de,r===null?_E:function(){return Cg(t),r(o)})}function Rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Cg(t){var n=Rg(t);n.next===null&&(n=t.alternate.memoizedState),Xo(t,n.next.queue,{},xn())}function Mf(){return Ft(fl)}function Ig(){return _t().memoizedState}function Dg(){return _t().memoizedState}function vE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=xn();t=Ts(r);var o=xs(n,t,r);o!==null&&(dn(o,n,r),Go(o,n,r)),n={cache:of()},t.payload=n;return}n=n.return}}function bE(t,n,r){var o=xn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Kc(t)?Og(n,r):(r=Xh(t,n,r,o),r!==null&&(dn(r,t,o),kg(r,n,o)))}function Mg(t,n,r){var o=xn();Xo(t,n,r,o)}function Xo(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kc(t))Og(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(h.hasEagerState=!0,h.eagerState=E,yn(E,y))return Nc(t,n,h,0),nt===null&&Ac(),!1}catch{}if(r=Xh(t,n,h,o),r!==null)return dn(r,t,o),kg(r,n,o),!0}return!1}function Of(t,n,r,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Kc(t)){if(n)throw Error(a(479))}else n=Xh(t,r,o,2),n!==null&&dn(n,t,2)}function Kc(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function Og(t,n){Aa=Pc=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function kg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,yo(t,r)}}var $o={readContext:Ft,use:Hc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};$o.useEffectEvent=dt;var Vg={readContext:Ft,use:Hc,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:_g,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fc(4194308,4,Tg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fc(4194308,4,t,n)},useInsertionEffect:function(t,n){Fc(4,2,t,n)},useMemo:function(t,n){var r=rn();n=n===void 0?null:n;var o=t();if(Dr){wn(!0);try{t()}finally{wn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=rn();if(r!==void 0){var h=r(n);if(Dr){wn(!0);try{r(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=bE.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,r=Mg.bind(null,Ae,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=rn();return If(r,t,n)},useTransition:function(){var t=Af(!1);return t=Ng.bind(null,Ae,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ae,h=rn();if(Le){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),nt===null)throw Error(a(349));(Me&127)!==0||ng(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,_g(sg.bind(null,o,f,t),[t]),o.flags|=2048,Ra(9,{destroy:void 0},ig.bind(null,o,f,r,n),null),r},useId:function(){var t=rn(),n=nt.identifierPrefix;if(Le){var r=Ei,o=bi;r=(o&~(1<<32-pt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=dE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Ae,!0,r),r.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return rn().memoizedState=vE.bind(null,Ae)},useEffectEvent:function(t){var n=rn(),r={impl:t};return n.memoizedState=r,function(){if((Qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},kf={readContext:Ft,use:Hc,useCallback:Sg,useContext:Ft,useEffect:Rf,useImperativeHandle:xg,useInsertionEffect:bg,useLayoutEffect:Eg,useMemo:wg,useReducer:Gc,useRef:yg,useState:function(){return Gc(qi)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=_t();return Ag(r,Ze.memoizedState,t,n)},useTransition:function(){var t=Gc(qi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Yo(t),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Mf,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var r=_t();return og(r,Ze,t,n)},useMemoCache:xf,useCacheRefresh:Dg};kf.useEffectEvent=vg;var zg={readContext:Ft,use:Hc,useCallback:Sg,useContext:Ft,useEffect:Rf,useImperativeHandle:xg,useInsertionEffect:bg,useLayoutEffect:Eg,useMemo:wg,useReducer:wf,useRef:yg,useState:function(){return wf(qi)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=_t();return Ze===null?If(r,t,n):Ag(r,Ze.memoizedState,t,n)},useTransition:function(){var t=wf(qi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Yo(t),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Mf,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var r=_t();return Ze!==null?og(r,Ze,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Dg};zg.useEffectEvent=vg;function Vf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=xn(),h=Ts(o);h.payload=n,r!=null&&(h.callback=r),n=xs(t,h,o),n!==null&&(dn(n,t,o),Go(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=xn(),h=Ts(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=xs(t,h,o),n!==null&&(dn(n,t,o),Go(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=xn(),o=Ts(r);o.tag=2,n!=null&&(o.callback=n),n=xs(t,o,r),n!==null&&(dn(n,t,r),Go(n,t,r))}};function jg(t,n,r,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!zo(r,o)||!zo(h,f):!0}function Lg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&zf.enqueueReplaceState(n,n.state,null)}function Mr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Ug(t){wc(t)}function Pg(t){console.error(t)}function Bg(t){wc(t)}function Yc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qg(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,n,r){return r=Ts(r),r.tag=3,r.payload={element:null},r.callback=function(){Yc(t,n)},r}function Hg(t){return t=Ts(t),t.tag=3,t}function Gg(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){qg(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){qg(n,r,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function EE(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ba(n,r,h,!0),r=vn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?au():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Vc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ld(t,o,h)),!1;case 22:return r.flags|=65536,o===Vc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ld(t,o,h)),!1}throw Error(a(435,r.tag))}return ld(t,o,h),au(),!1}if(Le)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(t=Error(a(422),{cause:o}),Uo(Dn(t,r)))):(o!==tf&&(n=Error(a(423),{cause:o}),Uo(Dn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,r),h=jf(t.stateNode,o,h),df(t,h),mt!==4&&(mt=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,r),sl===null?sl=[f]:sl.push(f),mt!==4&&(mt=2),n===null)return!0;o=Dn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=jf(r.stateNode,o,t),df(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Hg(h),Gg(h,t,r,o),df(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),Nt=!1;function Qt(t,n,r,o){n.child=t===null?Yp(n,null,r,o):Ir(n,t.child,r,o)}function Fg(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ar(n),o=vf(t,n,r,y,f,h),E=bf(),t!==null&&!Nt?(Ef(t,n,h),Hi(t,n,h)):(Le&&E&&Wh(n),n.flags|=1,Qt(t,n,o,h),n.child)}function Qg(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kg(t,n,f,o,h)):(t=Cc(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(y,o)&&t.ref===n.ref)return Hi(t,n,h)}return n.flags|=1,t=ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(zo(f,o)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=o=f,Qf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,Hi(t,n,h)}return Uf(t,n,r,o,h)}function Yg(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xg(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oc(n,f!==null?f.cachePool:null),f!==null?Jp(n,f):pf(),Zp(n);else return o=n.lanes=536870912,Xg(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Oc(n,f.cachePool),Jp(n,f),ws(),n.memoizedState=null):(t!==null&&Oc(n,null),pf(),ws());return Qt(t,n,h,r),n.child}function Jo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(t,n,r,o,h){var f=cf();return f=f===null?null:{parent:wt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Oc(n,null),pf(),Zp(n),t!==null&&ba(t,n,o,!0),n.childLanes=h,null}function Xc(t,n){return n=Jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,r){return Ir(n,t.child,null,r),t=Xc(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function TE(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(o.mode==="hidden")return t=Xc(n,o),n.lanes=536870912,Jo(null,t);if(yf(n),(t=it)?(t=l0(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:bi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Op(t),r.return=n,n.child=r,Gt=n,it=null)):t=null,t===null)throw vs(n);return n.lanes=536870912,null}return Xc(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=$g(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Nt||ba(t,n,r,!1),h=(r&t.childLanes)!==0,Nt||h){if(o=nt,o!==null&&(y=_o(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,Tr(t,y),dn(o,t,y),Lf;au(),n=$g(t,n,r)}else t=f.treeContext,it=zn(y.nextSibling),Gt=n,Le=!0,_s=null,kn=!1,t!==null&&zp(n,t),n=Xc(n,o),n.flags|=4096;return n}return t=ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function $c(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Uf(t,n,r,o,h){return Ar(n),r=vf(t,n,r,o,void 0,h),o=bf(),t!==null&&!Nt?(Ef(t,n,h),Hi(t,n,h)):(Le&&o&&Wh(n),n.flags|=1,Qt(t,n,r,h),n.child)}function Jg(t,n,r,o,h,f){return Ar(n),n.updateQueue=null,r=eg(n,o,r,h),Wp(t),o=bf(),t!==null&&!Nt?(Ef(t,n,f),Hi(t,n,f)):(Le&&o&&Wh(n),n.flags|=1,Qt(t,n,r,f),n.child)}function Zg(t,n,r,o,h){if(Ar(n),n.stateNode===null){var f=ga,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ft(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ft(y):ga,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Vf(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&zf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Mr(r,E);f.props=I;var U=f.context,Q=r.contextType;y=ga,typeof Q=="object"&&Q!==null&&(y=Ft(Q));var J=r.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==y)&&Lg(n,f,o,y),Es=!1;var P=n.memoizedState;f.state=P,Qo(n,o,f,h),Fo(),U=n.memoizedState,E||P!==U||Es?(typeof J=="function"&&(Vf(n,r,J,o),U=n.memoizedState),(I=Es||jg(n,r,I,o,P,U,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=y,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(t,n),y=n.memoizedProps,Q=Mr(r,y),f.props=Q,J=n.pendingProps,P=f.context,U=r.contextType,I=ga,typeof U=="object"&&U!==null&&(I=Ft(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||P!==I)&&Lg(n,f,o,I),Es=!1,P=n.memoizedState,f.state=P,Qo(n,o,f,h),Fo();var q=n.memoizedState;y!==J||P!==q||Es||t!==null&&t.dependencies!==null&&Dc(t.dependencies)?(typeof E=="function"&&(Vf(n,r,E,o),q=n.memoizedState),(Q=Es||jg(n,r,Q,o,P,q,I)||t!==null&&t.dependencies!==null&&Dc(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,$c(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ir(n,t.child,null,h),n.child=Ir(n,null,r,h)):Qt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Hi(t,n,h),t}function Wg(t,n,r,o){return Sr(),n.flags|=256,Qt(t,n,r,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:qp()}}function qf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Tn),t}function ey(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?Ss(n):ws(),(t=it)?(t=l0(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:bi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Op(t),r.return=n,n.child=r,Gt=n,it=null)):t=null,t===null)throw vs(n);return Sd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ws(),h=n.mode,E=Jc({mode:"hidden",children:E},h),o=xr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(t,y,r),n.memoizedState=Pf,Jo(null,o)):(Ss(n),Hf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Gf(t,n,r)):n.memoizedState!==null?(ws(),n.child=t.child,n.flags|=128,n=null):(ws(),E=o.fallback,h=n.mode,o=Jc({mode:"visible",children:o.children},h),E=xr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ir(n,t.child,null,r),o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(t,y,r),n.memoizedState=Pf,n=Jo(null,o));else if(Ss(n),Sd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var U=y.dgst;y=U,o=Error(a(419)),o.stack="",o.digest=y,Uo({value:o,source:null,stack:null}),n=Gf(t,n,r)}else if(Nt||ba(t,n,r,!1),y=(r&t.childLanes)!==0,Nt||y){if(y=nt,y!==null&&(o=_o(y,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Tr(t,o),dn(y,t,o),Lf;xd(E)||au(),n=Gf(t,n,r)}else xd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,it=zn(E.nextSibling),Gt=n,Le=!0,_s=null,kn=!1,t!==null&&zp(n,t),n=Hf(n,o.children),n.flags|=4096);return n}return h?(ws(),E=o.fallback,h=n.mode,I=t.child,U=I.sibling,o=ji(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,U!==null?E=ji(U,E):(E=xr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Bf(r):(h=E.cachePool,h!==null?(I=wt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=qp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=qf(t,y,r),n.memoizedState=Pf,Jo(t.child,o)):(Ss(n),r=t.child,t=r.sibling,r=ji(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Hf(t,n){return n=Jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Jc(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function Gf(t,n,r){return Ir(n,t.child,null,r),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),rf(t.return,n,r)}function Ff(t,n,r,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function ny(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=yt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ne(yt,y),Qt(t,n,o,r),o=Le?Lo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,r,n);else if(t.tag===19)ty(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Uc(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ff(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Uc(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Ff(n,!0,r,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Rs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ba(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ji(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ji(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Dc(t)))}function xE(t,n,r){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),bs(n,wt,t.memoizedState.cache),Sr();break;case 27:case 5:sr(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ey(t,n,r):(Ss(n),t=Hi(t,n,r),t!==null?t.sibling:null);Ss(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ba(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ny(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(yt,yt.current),o)break;return null;case 22:return n.lanes=0,Yg(t,n,r,n.pendingProps);case 24:bs(n,wt,t.memoizedState.cache)}return Hi(t,n,r)}function iy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!Qf(t,r)&&(n.flags&128)===0)return Nt=!1,xE(t,n,r);Nt=(t.flags&131072)!==0}else Nt=!1,Le&&(n.flags&1048576)!==0&&Vp(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Rr(n.elementType),n.type=t,typeof t=="function")$h(t)?(o=Mr(t,o),n.tag=1,n=Zg(null,n,t,o,r)):(n.tag=0,n=Uf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===ge){n.tag=11,n=Fg(null,n,t,o,r);break e}else if(h===A){n.tag=14,n=Qg(null,n,t,o,r);break e}}throw n=tt(t)||t,Error(a(306,n,""))}}return n;case 0:return Uf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Mr(o,n.pendingProps),Zg(t,n,o,h,r);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),Qo(n,o,null,r);var y=n.memoizedState;if(o=y.cache,bs(n,wt,o),o!==f.cache&&af(n,[wt],r,!0),Fo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wg(t,n,o,r);break e}else if(o!==h){h=Dn(Error(a(424)),n),Uo(h),n=Wg(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=zn(t.firstChild),Gt=n,Le=!0,_s=null,kn=!0,r=Yp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sr(),o===h){n=Hi(t,n,r);break e}Qt(t,n,o,r)}n=n.child}return n;case 26:return $c(t,n),t===null?(r=m0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Le||(r=n.type,t=n.pendingProps,o=du(Se.current).createElement(r),o[Tt]=n,o[Lt]=t,Kt(o,r,t),xt(o),n.stateNode=o):n.memoizedState=m0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return sr(n),t===null&&Le&&(o=n.stateNode=h0(n.type,n.pendingProps,Se.current),Gt=n,kn=!0,h=it,Os(n.type)?(wd=h,it=zn(o.firstChild)):it=h),Qt(t,n,n.pendingProps.children,r),$c(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=o=it)&&(o=WE(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,Gt=n,it=zn(o.firstChild),kn=!1,h=!0):h=!1),h||vs(n)),sr(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,bd(h,f)?o=null:y!==null&&bd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,mE,null,null,r),fl._currentValue=h),$c(t,n),Qt(t,n,o,r),n.child;case 6:return t===null&&Le&&((t=r=it)&&(r=eT(r,n.pendingProps,kn),r!==null?(n.stateNode=r,Gt=n,it=null,t=!0):t=!1),t||vs(n)),null;case 13:return ey(t,n,r);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ir(n,null,o,r):Qt(t,n,o,r),n.child;case 11:return Fg(t,n,n.type,n.pendingProps,r);case 7:return Qt(t,n,n.pendingProps,r),n.child;case 8:return Qt(t,n,n.pendingProps.children,r),n.child;case 12:return Qt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,bs(n,n.type,o.value),Qt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ar(n),h=Ft(h),o=o(h),n.flags|=1,Qt(t,n,o,r),n.child;case 14:return Qg(t,n,n.type,n.pendingProps,r);case 15:return Kg(t,n,n.type,n.pendingProps,r);case 19:return ny(t,n,r);case 31:return TE(t,n,r);case 22:return Yg(t,n,r,n.pendingProps);case 24:return Ar(n),o=Ft(wt),t===null?(h=cf(),h===null&&(h=nt,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},hf(n),bs(n,wt,h)):((t.lanes&r)!==0&&(ff(t,n),Qo(n,null,null,r),Fo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,wt,o)):(o=f.cache,bs(n,wt,o),o!==h.cache&&af(n,[wt],r,!0))),Qt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(t){t.flags|=4}function Kf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Iy())t.flags|=8192;else throw Cr=Vc,uf}else t.flags&=-16777217}function sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v0(n))if(Iy())t.flags|=8192;else throw Cr=Vc,uf}function Zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?sc():536870912,t.lanes|=n,Ma|=n)}function Zo(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function SE(t,n,r){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(wt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(va(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),st(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Gi(n),f!==null?(st(n),sy(n,f)):(st(n),Kf(n,h,null,o,r))):f?f!==t.memoizedState?(Gi(n),st(n),sy(n,f)):(st(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Gi(n),st(n),Kf(n,h,t,o,r)),null;case 27:if(Jr(n),r=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return st(n),null}t=oe.current,va(n)?jp(n):(t=h0(h,o,r),n.stateNode=t,Gi(n))}return st(n),null;case 5:if(Jr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return st(n),null}if(f=oe.current,va(n))jp(n);else{var y=du(Se.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Tt]=n,f[Lt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Kt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Gi(n)}}return st(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,va(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||e0(t.nodeValue,r)),t||vs(n,!0)}else t=du(t).createTextNode(o),t[Tt]=n,n.stateNode=t}return st(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=va(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Tt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),t=!1}else r=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return st(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Zc(n,n.updateQueue),st(n),null);case 4:return ot(),t===null&&pd(n.stateNode.containerInfo),st(n),null;case 10:return Pi(n.type),st(n),null;case 19:if($(yt),o=n.memoizedState,o===null)return st(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Uc(t),f!==null){for(n.flags|=128,Zo(o,!1),t=f.updateQueue,n.updateQueue=t,Zc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Mp(r,t),r=r.sibling;return ne(yt,yt.current&1|2),Le&&Li(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&nn()>iu&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(t=Uc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zc(n,t),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Le)return st(n),null}else 2*nn()-o.renderingStartTime>iu&&r!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,r=yt.current,ne(yt,h?r&1|2:r&1),Le&&Li(n,o.treeForkCount),t):(st(n),null);case 22:case 23:return bn(n),gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),r=n.updateQueue,r!==null&&Zc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&$(Nr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(wt),st(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function wE(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(wt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(yt),null;case 4:return ot(),null;case 10:return Pi(n.type),null;case 22:case 23:return bn(n),gf(),t!==null&&$(Nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(wt),null;case 25:return null;default:return null}}function ry(t,n){switch(ef(n),n.tag){case 3:Pi(wt),ot();break;case 26:case 27:case 5:Jr(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:$(yt);break;case 10:Pi(n.type);break;case 22:case 23:bn(n),gf(),t!==null&&$(Nr);break;case 24:Pi(wt)}}function Wo(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==h)}}catch(E){$e(n,n.return,E)}}function As(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var I=r,U=E;try{U()}catch(Q){$e(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){$e(n,n.return,Q)}}function ay(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{$p(n,r)}catch(o){$e(t,t.return,o)}}}function oy(t,n,r){r.props=Mr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){$e(t,n,o)}}function el(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){$e(t,n,h)}}function Ti(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$e(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$e(t,n,h)}else r.current=null}function ly(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$e(t,t.return,h)}}function Yf(t,n,r){try{var o=t.stateNode;KE(o,t.type,r,n),o[Lt]=n}catch(h){$e(t,t.return,h)}}function cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&Os(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function Wc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Os(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wc(t,n,r),t=t.sibling;t!==null;)Wc(t,n,r),t=t.sibling}function uy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Kt(n,o,r),n[Tt]=t,n[Lt]=r}catch(f){$e(t,t.return,f)}}var Fi=!1,Rt=!1,Jf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function AE(t,n){if(t=t.containerInfo,_d=bu,t=xp(t),Hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,E=-1,I=-1,U=0,Q=0,J=t,P=null;t:for(;;){for(var q;J!==r||h!==0&&J.nodeType!==3||(E=y+h),J!==f||o!==0&&J.nodeType!==3||(I=y+o),J.nodeType===3&&(y+=J.nodeValue.length),(q=J.firstChild)!==null;)P=J,J=q;for(;;){if(J===t)break t;if(P===r&&++U===h&&(E=y),P===f&&++Q===o&&(I=y),(q=J.nextSibling)!==null)break;J=P,P=J.parentNode}J=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:t,selectionRange:r},bu=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ue=Mr(r.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Td(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function fy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(t,r),o&4&&Wo(5,r);break;case 1:if(Ki(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){$e(r,r.return,y)}else{var h=Mr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$e(r,r.return,y)}}o&64&&ay(r),o&512&&el(r,r.return);break;case 3:if(Ki(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{$p(t,n)}catch(y){$e(r,r.return,y)}}break;case 27:n===null&&o&4&&uy(r);case 26:case 5:Ki(t,r),n===null&&o&4&&ly(r),o&512&&el(r,r.return);break;case 12:Ki(t,r);break;case 31:Ki(t,r),o&4&&py(t,r);break;case 13:Ki(t,r),o&4&&gy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=VE.bind(null,r),tT(t,r))));break;case 22:if(o=r.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Rt,h=Fi;var f=Rt;Fi=o,(Rt=n)&&!f?Yi(t,r,(r.subtreeFlags&8772)!==0):Ki(t,r),Fi=h,Rt=f}break;case 30:break;default:Ki(t,r)}}function dy(t){var n=t.alternate;n!==null&&(t.alternate=null,dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,cn=!1;function Qi(t,n,r){for(r=r.child;r!==null;)my(t,n,r),r=r.sibling}function my(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:Rt||Ti(r,n),Qi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rt||Ti(r,n);var o=ct,h=cn;Os(r.type)&&(ct=r.stateNode,cn=!1),Qi(t,n,r),cl(r.stateNode),ct=o,cn=h;break;case 5:Rt||Ti(r,n);case 6:if(o=ct,h=cn,ct=null,Qi(t,n,r),ct=o,cn=h,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(r.stateNode)}catch(f){$e(r,n,f)}else try{ct.removeChild(r.stateNode)}catch(f){$e(r,n,f)}break;case 18:ct!==null&&(cn?(t=ct,a0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Pa(t)):a0(ct,r.stateNode));break;case 4:o=ct,h=cn,ct=r.stateNode.containerInfo,cn=!0,Qi(t,n,r),ct=o,cn=h;break;case 0:case 11:case 14:case 15:As(2,r,n),Rt||As(4,r,n),Qi(t,n,r);break;case 1:Rt||(Ti(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&oy(r,n,o)),Qi(t,n,r);break;case 21:Qi(t,n,r);break;case 22:Rt=(o=Rt)||r.memoizedState!==null,Qi(t,n,r),Rt=o;break;default:Qi(t,n,r)}}function py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pa(t)}catch(r){$e(n,n.return,r)}}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pa(t)}catch(r){$e(n,n.return,r)}}function NE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hy),n;default:throw Error(a(435,t.tag))}}function eu(t,n){var r=NE(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=zE.bind(null,t,o);o.then(h,h)}})}function un(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ct=E.stateNode,cn=!1;break e}break;case 5:ct=E.stateNode,cn=!1;break e;case 3:case 4:ct=E.stateNode.containerInfo,cn=!0;break e}E=E.return}if(ct===null)throw Error(a(160));my(f,y,h),ct=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,t),n=n.sibling}var $n=null;function yy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),hn(t),o&4&&(As(3,t,t.return),Wo(3,t),As(5,t,t.return));break;case 1:un(n,t),hn(t),o&512&&(Rt||r===null||Ti(r,r.return)),o&64&&Fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=$n;if(un(n,t),hn(t),o&512&&(Rt||r===null||Ti(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,o,r),f[Tt]=t,xt(f),o=f;break e;case"link":var y=y0("link","href",h).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,r),h.head.appendChild(f);break;case"meta":if(y=y0("meta","content",h).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Tt]=t,xt(f),o=f}t.stateNode=o}else _0(h,t.type,t.stateNode);else t.stateNode=g0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?_0(h,t.type,t.stateNode):g0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),hn(t),o&512&&(Rt||r===null||Ti(r,r.return)),r!==null&&o&4&&Yf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),hn(t),o&512&&(Rt||r===null||Ti(r,r.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(ue){$e(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(un(n,t),hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ue){$e(t,t.return,ue)}}break;case 3:if(gu=null,h=$n,$n=mu(n.containerInfo),un(n,t),$n=h,hn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(ue){$e(t,t.return,ue)}Jf&&(Jf=!1,_y(t));break;case 4:o=$n,$n=mu(t.stateNode.containerInfo),un(n,t),hn(t),$n=o;break;case 12:un(n,t),hn(t);break;case 31:un(n,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eu(t,o)));break;case 13:un(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nu=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eu(t,o)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,U=Fi,Q=Rt;if(Fi=U||h,Rt=Q||I,un(n,t),Rt=Q,Fi=U,hn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Fi||Rt||Or(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,P=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ue){$e(I,I.return,ue)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ue){$e(I,I.return,ue)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?o0(q,!0):o0(I.stateNode,!1)}catch(ue){$e(I,I.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,eu(t,r))));break;case 19:un(n,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eu(t,o)));break;case 30:break;case 21:break;default:un(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(cy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Xf(t);Wc(t,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(ln(y,""),r.flags&=-33);var E=Xf(t);Wc(t,E,y);break;case 3:case 4:var I=r.stateNode.containerInfo,U=Xf(t);$f(t,U,I);break;default:throw Error(a(161))}}catch(Q){$e(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(t,n.alternate,n),n=n.sibling}function Or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Or(n);break;case 1:Ti(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&oy(n,n.return,r),Or(n);break;case 27:cl(n.stateNode);case 26:case 5:Ti(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}t=t.sibling}}function Yi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,r),Wo(4,f);break;case 1:if(Yi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){$e(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xp(I[h],E)}catch(U){$e(o,o.return,U)}}r&&y&64&&ay(f),el(f,f.return);break;case 27:uy(f);case 26:case 5:Yi(h,f,r),r&&o===null&&y&4&&ly(f),el(f,f.return);break;case 12:Yi(h,f,r);break;case 31:Yi(h,f,r),r&&y&4&&py(h,f);break;case 13:Yi(h,f,r),r&&y&4&&gy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,r),el(f,f.return);break;case 30:break;default:Yi(h,f,r)}n=n.sibling}}function Zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Po(r))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Po(t))}function Jn(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(t,n,r,o),n=n.sibling}function vy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,o),h&2048&&Wo(9,n);break;case 1:Jn(t,n,r,o);break;case 3:Jn(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Po(t)));break;case 12:if(h&2048){Jn(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){$e(n,n.return,I)}}else Jn(t,n,r,o);break;case 31:Jn(t,n,r,o);break;case 13:Jn(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,o):tl(t,n):f._visibility&2?Jn(t,n,r,o):(f._visibility|=2,Ca(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(y,n);break;case 24:Jn(t,n,r,o),h&2048&&Wf(n.alternate,n);break;default:Jn(t,n,r,o)}}function Ca(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=r,I=o,U=y.flags;switch(y.tag){case 0:case 11:case 15:Ca(f,y,E,I,h),Wo(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ca(f,y,E,I,h):tl(f,y):(Q._visibility|=2,Ca(f,y,E,I,h)),h&&U&2048&&Zf(y.alternate,y);break;case 24:Ca(f,y,E,I,h),h&&U&2048&&Wf(y.alternate,y);break;default:Ca(f,y,E,I,h)}n=n.sibling}}function tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:tl(r,o),h&2048&&Zf(o.alternate,o);break;case 24:tl(r,o),h&2048&&Wf(o.alternate,o);break;default:tl(r,o)}n=n.sibling}}var nl=8192;function Ia(t,n,r){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)by(t,n,r),t=t.sibling}function by(t,n,r){switch(t.tag){case 26:Ia(t,n,r),t.flags&nl&&t.memoizedState!==null&&dT(r,$n,t.memoizedState,t.memoizedProps);break;case 5:Ia(t,n,r);break;case 3:case 4:var o=$n;$n=mu(t.stateNode.containerInfo),Ia(t,n,r),$n=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Ia(t,n,r),nl=o):Ia(t,n,r));break;default:Ia(t,n,r)}}function Ey(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Pt=o,xy(o,t)}Ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&As(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tu(t)):il(t);break;default:il(t)}}function tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Pt=o,xy(o,t)}Ey(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:As(8,n,n.return),tu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tu(n));break;default:tu(n)}t=t.sibling}}function xy(t,n){for(;Pt!==null;){var r=Pt;switch(r.tag){case 0:case 11:case 15:As(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Pt=o;else e:for(r=t;Pt!==null;){o=Pt;var h=o.sibling,f=o.return;if(dy(o),o===r){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var RE={getCacheForType:function(t){var n=Ft(wt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ft(wt).controller.signal}},CE=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Ie=null,Me=0,Xe=0,En=null,Ns=!1,Da=!1,ed=!1,Xi=0,mt=0,Rs=0,kr=0,td=0,Tn=0,Ma=0,sl=null,fn=null,nd=!1,nu=0,Sy=0,iu=1/0,su=null,Cs=null,Ot=0,Is=null,Oa=null,$i=0,id=0,sd=null,wy=null,rl=0,rd=null;function xn(){return(Qe&2)!==0&&Me!==0?Me&-Me:F.T!==null?hd():rc()}function Ay(){if(Tn===0)if((Me&536870912)===0||Le){var t=or;or<<=1,(or&3932160)===0&&(or=262144),Tn=t}else Tn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Tn}function dn(t,n,r){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(ka(t,0),Ds(t,Me,Tn,!1)),lr(t,r),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(kr|=r),mt===4&&Ds(t,Me,Tn,!1)),xi(t))}function Ny(t,n,r){if((Qe&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=o?ME(t,n):od(t,n,!0),f=o;do{if(h===0){Da&&!o&&Ds(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!IE(r)){h=od(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=sl;var I=E.current.memoizedState.isDehydrated;if(I&&(ka(E,y).flags|=256),y=od(E,y,!1),y!==2){if(ed&&!I){E.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){ka(t,0),Ds(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,Tn,!Ns);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nu+300-nn(),10<h)){if(Ds(o,n,Tn,!Ns),ri(o,0,!0)!==0)break e;$i=n,o.timeoutHandle=s0(Ry.bind(null,o,r,fn,su,nd,n,Tn,kr,Ma,Ns,f,"Throttled",-0,0),h);break e}Ry(o,r,fn,su,nd,n,Tn,kr,Ma,Ns,f,null,-0,0)}}break}while(!0);xi(t)}function Ry(t,n,r,o,h,f,y,E,I,U,Q,J,P,q){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},by(n,f,J);var ue=(f&62914560)===f?nu-nn():(f&4194048)===f?Sy-nn():0;if(ue=mT(J,ue),ue!==null){$i=f,t.cancelPendingCommit=ue(zy.bind(null,t,n,f,r,o,h,y,E,I,Q,J,null,P,q)),Ds(t,f,y,!U);return}}zy(t,n,f,r,o,h,y,E,I)}function IE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(t,n,r,o){n&=~td,n&=~kr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-pt(h),y=1<<f;o[f]=-1,h&=~y}r!==0&&cr(t,r,n)}function ru(){return(Qe&6)===0?(al(0),!1):!0}function ad(){if(Ie!==null){if(Xe===0)var t=Ie.return;else t=Ie,Ui=wr=null,Tf(t),Sa=null,qo=0,t=Ie;for(;t!==null;)ry(t.alternate,t),t=t.return;Ie=null}}function ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$E(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),$i=0,ad(),nt=t,Ie=r=ji(t.current,null),Me=n,Xe=0,En=null,Ns=!1,Da=Bn(t,n),ed=!1,Ma=Tn=td=kr=Rs=mt=0,fn=sl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-pt(o),f=1<<h;n|=t[h],o&=~f}return Xi=n,Ac(),r}function Cy(t,n){Ae=null,F.H=$o,n===xa||n===kc?(n=Fp(),Xe=3):n===uf?(n=Fp(),Xe=4):Xe=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ie===null&&(mt=1,Yc(t,Dn(n,t.current)))}function Iy(){var t=vn.current;return t===null?!0:(Me&4194048)===Me?Vn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Vn:!1}function Dy(){var t=F.H;return F.H=$o,t===null?$o:t}function My(){var t=F.A;return F.A=RE,t}function au(){mt=4,Ns||(Me&4194048)!==Me&&vn.current!==null||(Da=!0),(Rs&134217727)===0&&(kr&134217727)===0||nt===null||Ds(nt,Me,Tn,!1)}function od(t,n,r){var o=Qe;Qe|=2;var h=Dy(),f=My();(nt!==t||Me!==n)&&(su=null,ka(t,n)),n=!1;var y=mt;e:do try{if(Xe!==0&&Ie!==null){var E=Ie,I=En;switch(Xe){case 8:ad(),y=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var U=Xe;if(Xe=0,En=null,Va(t,E,I,U),r&&Da){y=0;break e}break;default:U=Xe,Xe=0,En=null,Va(t,E,I,U)}}DE(),y=mt;break}catch(Q){Cy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ui=wr=null,Qe=o,F.H=h,F.A=f,Ie===null&&(nt=null,Me=0,Ac()),y}function DE(){for(;Ie!==null;)Oy(Ie)}function ME(t,n){var r=Qe;Qe|=2;var o=Dy(),h=My();nt!==t||Me!==n?(su=null,iu=nn()+500,ka(t,n)):Da=Bn(t,n);e:do try{if(Xe!==0&&Ie!==null){n=Ie;var f=En;t:switch(Xe){case 1:Xe=0,En=null,Va(t,n,f,1);break;case 2:case 9:if(Hp(f)){Xe=0,En=null,ky(n);break}n=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),xi(t)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Hp(f)?(Xe=0,En=null,ky(n)):(Xe=0,En=null,Va(t,n,f,7));break;case 5:var y=null;switch(Ie.tag){case 26:y=Ie.memoizedState;case 5:case 27:var E=Ie;if(y?v0(y):E.stateNode.complete){Xe=0,En=null;var I=E.sibling;if(I!==null)Ie=I;else{var U=E.return;U!==null?(Ie=U,ou(U)):Ie=null}break t}}Xe=0,En=null,Va(t,n,f,5);break;case 6:Xe=0,En=null,Va(t,n,f,6);break;case 8:ad(),mt=6;break e;default:throw Error(a(462))}}OE();break}catch(Q){Cy(t,Q)}while(!0);return Ui=wr=null,F.H=o,F.A=h,Qe=r,Ie!==null?0:(nt=null,Me=0,Ac(),mt)}function OE(){for(;Ie!==null&&!zh();)Oy(Ie)}function Oy(t){var n=iy(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,n===null?ou(t):Ie=n}function ky(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Jg(r,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=Jg(r,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:Tf(n);default:ry(r,n),n=Ie=Mp(n,Xi),n=iy(r,n,Xi)}t.memoizedProps=t.pendingProps,n===null?ou(t):Ie=n}function Va(t,n,r,o){Ui=wr=null,Tf(n),Sa=null,qo=0;var h=n.return;try{if(EE(t,h,n,r,Me)){mt=1,Yc(t,Dn(r,t.current)),Ie=null;return}}catch(f){if(h!==null)throw Ie=h,f;mt=1,Yc(t,Dn(r,t.current)),Ie=null;return}n.flags&32768?(Le||o===1?t=!0:Da||(Me&536870912)!==0?t=!1:(Ns=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,t)):ou(n)}function ou(t){var n=t;do{if((n.flags&32768)!==0){Vy(n,Ns);return}t=n.return;var r=SE(n.alternate,n,Xi);if(r!==null){Ie=r;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=t}while(n!==null);mt===0&&(mt=5)}function Vy(t,n){do{var r=wE(t.alternate,t);if(r!==null){r.flags&=32767,Ie=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=r}while(t!==null);mt=6,Ie=null}function zy(t,n,r,o,h,f,y,E,I){t.cancelPendingCommit=null;do lu();while(Ot!==0);if((Qe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,Uh(t,r,f,y,E,I),t===nt&&(Ie=nt=null,Me=0),Oa=n,Is=t,$i=r,id=f,sd=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(os,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=re.p,re.p=2,y=Qe,Qe|=4;try{AE(t,n,r)}finally{Qe=y,re.p=h,F.T=o}}Ot=1,jy(),Ly(),Uy()}}function jy(){if(Ot===1){Ot=0;var t=Is,n=Oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=re.p;re.p=2;var h=Qe;Qe|=4;try{yy(n,t);var f=vd,y=xp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Tp(E.ownerDocument.documentElement,E)){if(I!==null&&Hh(E)){var U=I.start,Q=I.end;if(Q===void 0&&(Q=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,P=J&&J.defaultView||window;if(P.getSelection){var q=P.getSelection(),ue=E.textContent.length,_e=Math.min(I.start,ue),et=I.end===void 0?_e:Math.min(I.end,ue);!q.extend&&_e>et&&(y=et,et=_e,_e=y);var V=Ep(E,_e),O=Ep(E,et);if(V&&O&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=J.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),_e>et?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for(J=[],q=E;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Y=J[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bu=!!_d,vd=_d=null}finally{Qe=h,re.p=o,F.T=r}}t.current=n,Ot=2}}function Ly(){if(Ot===2){Ot=0;var t=Is,n=Oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=re.p;re.p=2;var h=Qe;Qe|=4;try{fy(t,n.alternate,n)}finally{Qe=h,re.p=o,F.T=r}}Ot=3}}function Uy(){if(Ot===4||Ot===3){Ot=0,Zl();var t=Is,n=Oa,r=$i,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ot=5:(Ot=0,Oa=Is=null,Py(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Cs=null),Oi(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,re.p=h}}($i&3)!==0&&lu(),xi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===rd?rl++:(rl=0,rd=t):rl=0,al(0)}}function Py(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Po(n)))}function lu(){return jy(),Ly(),Uy(),By()}function By(){if(Ot!==5)return!1;var t=Is,n=id;id=0;var r=Oi($i),o=F.T,h=re.p;try{re.p=32>r?32:r,F.T=null,r=sd,sd=null;var f=Is,y=$i;if(Ot=0,Oa=Is=null,$i=0,(Qe&6)!==0)throw Error(a(331));var E=Qe;if(Qe|=4,Ty(f.current),vy(f,f.current,y,r),Qe=E,al(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{re.p=h,F.T=o,Py(t,n)}}function qy(t,n,r){n=Dn(r,n),n=jf(t.stateNode,n,2),t=xs(t,n,2),t!==null&&(lr(t,2),xi(t))}function $e(t,n,r){if(t.tag===3)qy(t,t,r);else for(;n!==null;){if(n.tag===3){qy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){t=Dn(r,t),r=Hg(2),o=xs(n,r,2),o!==null&&(Gg(r,o,n,t),lr(o,2),xi(o));break}}n=n.return}}function ld(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new CE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(ed=!0,h.add(r),t=kE.bind(null,t,n,r),n.then(t,t))}function kE(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,nt===t&&(Me&r)===r&&(mt===4||mt===3&&(Me&62914560)===Me&&300>nn()-nu?(Qe&2)===0&&ka(t,0):td|=r,Ma===Me&&(Ma=0)),xi(t)}function Hy(t,n){n===0&&(n=sc()),t=Tr(t,n),t!==null&&(lr(t,n),xi(t))}function VE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Hy(t,r)}function zE(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(t,r)}function jE(t,n){return Mt(t,n)}var cu=null,za=null,cd=!1,uu=!1,ud=!1,Ms=0;function xi(t){t!==za&&t.next===null&&(za===null?cu=za=t:za=za.next=t),uu=!0,cd||(cd=!0,UE())}function al(t,n){if(!ud&&uu){ud=!0;do for(var r=!1,o=cu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ky(o,f))}else f=Me,f=ri(o,o===nt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(r=!0,Ky(o,f));o=o.next}while(r);ud=!1}}function LE(){Gy()}function Gy(){uu=cd=!1;var t=0;Ms!==0&&XE()&&(t=Ms);for(var n=nn(),r=null,o=cu;o!==null;){var h=o.next,f=Fy(o,n);f===0?(o.next=null,r===null?cu=h:r.next=h,h===null&&(za=r)):(r=o,(t!==0||(f&3)!==0)&&(uu=!0)),o=h}Ot!==0&&Ot!==5||al(t),Ms!==0&&(Ms=0)}function Fy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-pt(f),E=1<<y,I=h[y];I===-1?((E&r)===0||(E&o)!==0)&&(h[y]=Lh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=nt,r=Me,r=ri(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&as(o),Oi(r)){case 2:case 8:r=go;break;case 32:r=os;break;case 268435456:r=Wl;break;default:r=os}return o=Qy.bind(null,t),r=Mt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&as(o),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,n){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(lu()&&t.callbackNode!==r)return null;var o=Me;return o=ri(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ny(t,o,n),Fy(t,nn()),t.callbackNode!=null&&t.callbackNode===r?Qy.bind(null,t):null)}function Ky(t,n){if(lu())return null;Ny(t,n,!0)}function UE(){JE(function(){(Qe&6)!==0?Mt(po,LE):Gy()})}function hd(){if(Ms===0){var t=Ea;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ms=t}return Ms}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function Xy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function PE(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Yy((h[Lt]||null).action),y=o.submitter;y&&(n=(n=y[Lt]||null)?Yy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new gi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var I=y?Xy(h,y):new FormData(h);Df(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=y?Xy(h,y):new FormData(h),Df(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var fd=0;fd<Kh.length;fd++){var dd=Kh[fd],BE=dd.toLowerCase(),qE=dd[0].toUpperCase()+dd.slice(1);Xn(BE,"on"+qE)}Xn(Ap,"onAnimationEnd"),Xn(Np,"onAnimationIteration"),Xn(Rp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(sE,"onTransitionRun"),Xn(rE,"onTransitionStart"),Xn(aE,"onTransitionCancel"),Xn(Cp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function $y(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],I=E.instance,U=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){wc(Q)}h.currentTarget=null,f=I}else for(y=0;y<o.length;y++){if(E=o[y],I=E.instance,U=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){wc(Q)}h.currentTarget=null,f=I}}}}function De(t,n){var r=n[ta];r===void 0&&(r=n[ta]=new Set);var o=t+"__bubble";r.has(o)||(Jy(n,t,2,!1),r.add(o))}function md(t,n,r){var o=0;n&&(o|=4),Jy(r,t,o,n)}var hu="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[hu]){t[hu]=!0,vo.forEach(function(r){r!=="selectionchange"&&(HE.has(r)||md(r,!1,t),md(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hu]||(n[hu]=!0,md("selectionchange",!1,n))}}function Jy(t,n,r,o){switch(A0(n)){case 2:var h=yT;break;case 8:h=_T;break;default:h=Id}r=h.bind(null,n,r,t),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){o=f=y;continue e}E=E.parentNode}}o=o.return}ds(function(){var U=f,Q=Nn(r),J=[];e:{var P=Ip.get(t);if(P!==void 0){var q=gi,ue=t;switch(t){case"keypress":if(gr(r)===0)break e;case"keydown":case"keyup":q=Tc;break;case"focusin":ue="focus",q=_r;break;case"focusout":ue="blur",q=_r;break;case"beforeblur":case"afterblur":q=_r;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ap:case Np:case Rp:q=pc;break;case Cp:q=T;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=we}var _e=(n&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),V=_e?P!==null?P+"Capture":null:P;_e=[];for(var O=U,L;O!==null;){var Y=O;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||V===null||(Y=Fn(O,V),Y!=null&&_e.push(ll(O,Y,L))),et)break;O=O.return}0<_e.length&&(P=new q(P,ue,null,r,Q),J.push({event:P,listeners:_e}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==Ro&&(ue=r.relatedTarget||r.fromElement)&&(ci(ue)||ue[oi]))break e;if((q||P)&&(P=Q.window===Q?Q:(P=Q.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ue=r.relatedTarget||r.toElement,q=U,ue=ue?ci(ue):null,ue!==null&&(et=u(ue),_e=ue.tag,ue!==et||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(q=null,ue=U),q!==ue)){if(_e=Mo,Y="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=zi,Y="onPointerLeave",V="onPointerEnter",O="pointer"),et=q==null?P:pn(q),L=ue==null?P:pn(ue),P=new _e(Y,O+"leave",q,r,Q),P.target=et,P.relatedTarget=L,Y=null,ci(Q)===U&&(_e=new _e(V,O+"enter",ue,r,Q),_e.target=L,_e.relatedTarget=et,Y=_e),et=Y,q&&ue)t:{for(_e=GE,V=q,O=ue,L=0,Y=V;Y;Y=_e(Y))L++;Y=0;for(var me=O;me;me=_e(me))Y++;for(;0<L-Y;)V=_e(V),L--;for(;0<Y-L;)O=_e(O),Y--;for(;L--;){if(V===O||O!==null&&V===O.alternate){_e=V;break t}V=_e(V),O=_e(O)}_e=null}else _e=null;q!==null&&Zy(J,P,q,_e,!1),ue!==null&&et!==null&&Zy(J,et,ue,_e,!0)}}e:{if(P=U?pn(U):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var qe=pp;else if(dp(P))if(gp)qe=tE;else{qe=W1;var he=Z1}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&ra(U.elementType)&&(qe=pp):qe=eE;if(qe&&(qe=qe(t,U))){mp(J,qe,r,Q);break e}he&&he(t,P,U),t==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&wo(P,"number",P.value)}switch(he=U?pn(U):window,t){case"focusin":(dp(he)||he.contentEditable==="true")&&(da=he,Gh=U,jo=null);break;case"focusout":jo=Gh=da=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Sp(J,r,Q);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":Sp(J,r,Q)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else fa?vr(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(vi&&r.locale!=="ko"&&(fa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&fa&&(Ne=Io()):(pi=Q,Co="value"in pi?pi.value:pi.textContent,fa=!0)),he=fu(U,Oe),0<he.length&&(Oe=new _i(Oe,t,null,r,Q),J.push({event:Oe,listeners:he}),Ne?Oe.data=Ne:(Ne=ha(r),Ne!==null&&(Oe.data=Ne)))),(Ne=Cn?Y1(t,r):X1(t,r))&&(Oe=fu(U,"onBeforeInput"),0<Oe.length&&(he=new _i("onBeforeInput","beforeinput",null,r,Q),J.push({event:he,listeners:Oe}),he.data=Ne)),PE(J,t,U,r,Q)}$y(J,n)})}function ll(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fu(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(t,r),h!=null&&o.unshift(ll(t,h,f)),h=Fn(t,n),h!=null&&o.push(ll(t,h,f))),t.tag===3)return o;t=t.return}return[]}function GE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,n,r,o,h){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,I=E.alternate,U=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||U===null||(I=U,h?(U=Fn(r,f),U!=null&&y.unshift(ll(r,U,I))):h||(U=Fn(r,f),U!=null&&y.push(ll(r,U,I)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var FE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(FE,`
`).replace(QE,"")}function e0(t,n){return n=Wy(n),Wy(t)===n}function We(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,r,o);break;case"style":No(t,o,f);break;case"data":if(n!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=aa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=aa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":De("beforetoggle",t),De("toggle",t),ia(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fc.get(r)||r,ia(t,r,o))}}function yd(t,n,r,o,h,f){switch(r){case"style":No(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Lt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ia(t,r,o)}}}function Kt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,f,y,r,null)}}h&&We(t,n,"srcSet",r.srcSet,r,null),o&&We(t,n,"src",r.src,r,null);return;case"input":De("invalid",t);var E=f=y=h=null,I=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":I=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:We(t,n,o,Q,r,null)}}cc(t,f,E,I,U,y,h,!1);return;case"select":De("invalid",t),o=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:We(t,n,h,E,r,null)}n=f,r=y,t.multiple=!!o,n!=null?cs(t,!!o,n,!1):r!=null&&cs(t,!!o,r,!0);return;case"textarea":De("invalid",t),f=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:We(t,n,y,E,r,null)}us(t,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":We(t,n,I,o,r,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<ol.length;o++)De(ol[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,U,o,r,null)}return;default:if(ra(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&yd(t,n,Q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&We(t,n,E,o,r,null))}function KE(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,I=null,U=null,Q=null;for(q in r){var J=r[q];if(r.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(q)||We(t,n,q,null,o,J)}}for(var P in o){var q=o[P];if(J=r[P],o.hasOwnProperty(P)&&(q!=null||J!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":Q=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==J&&We(t,n,P,q,o,J)}}sa(t,y,E,I,U,Q,f,h);return;case"select":q=y=E=P=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||We(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==I&&We(t,n,h,f,o,I)}n=E,r=y,o=q,P!=null?cs(t,!!r,P,!1):!!o!=!!r&&(n!=null?cs(t,!!r,n,!0):cs(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=r[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(t,n,y,h,o,f)}uc(t,P,q);return;case"option":for(var ue in r)P=r[ue],r.hasOwnProperty(ue)&&P!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:We(t,n,ue,null,o,P));for(I in o)P=o[I],q=r[I],o.hasOwnProperty(I)&&P!==q&&(P!=null||q!=null)&&(I==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":We(t,n,I,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)P=r[_e],r.hasOwnProperty(_e)&&P!=null&&!o.hasOwnProperty(_e)&&We(t,n,_e,null,o,P);for(U in o)if(P=o[U],q=r[U],o.hasOwnProperty(U)&&P!==q&&(P!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:We(t,n,U,P,o,q)}return;default:if(ra(n)){for(var et in r)P=r[et],r.hasOwnProperty(et)&&P!==void 0&&!o.hasOwnProperty(et)&&yd(t,n,et,void 0,o,P);for(Q in o)P=o[Q],q=r[Q],!o.hasOwnProperty(Q)||P===q||P===void 0&&q===void 0||yd(t,n,Q,P,o,q);return}}for(var V in r)P=r[V],r.hasOwnProperty(V)&&P!=null&&!o.hasOwnProperty(V)&&We(t,n,V,null,o,P);for(J in o)P=o[J],q=r[J],!o.hasOwnProperty(J)||P===q||P==null&&q==null||We(t,n,J,P,o,q)}function t0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&t0(y)){for(y=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],U=I.startTime;if(U>E)break;var Q=I.transferSize,J=I.initiatorType;Q&&t0(J)&&(I=I.responseEnd,y+=Q*(I<E?1:(E-U)/(I-U)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function du(t){return t.nodeType===9?t:t.ownerDocument}function n0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function XE(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(t){return r0.resolve(null).then(t).catch(ZE)}:s0;function ZE(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function a0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Pa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")cl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,cl(r);for(var f=r.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&cl(t.ownerDocument.body);r=h}while(r);Pa(n)}function o0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function WE(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[li])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function eT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function l0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function c0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return zn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function u0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function h0(t,n,r){switch(n=du(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var jn=new Map,f0=new Set;function mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=re.d;re.d={f:nT,r:iT,D:sT,C:rT,L:aT,m:oT,X:cT,S:lT,M:uT};function nT(){var t=Ji.f(),n=ru();return t||n}function iT(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Ji.r(t)}var ja=typeof document>"u"?null:document;function d0(t,n,r){var o=ja;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),f0.has(h)||(f0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Kt(n,"link",t),xt(n),o.head.appendChild(n)))}}function sT(t){Ji.D(t),d0("dns-prefetch",t,null)}function rT(t,n){Ji.C(t,n),d0("preconnect",t,n)}function aT(t,n,r){Ji.L(t,n,r);var o=ja;if(o&&t&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+on(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+on(r.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var f=h;switch(n){case"style":f=La(t);break;case"script":f=Ua(t)}jn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),jn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Kt(n,"link",t),xt(n),o.head.appendChild(n)))}}function oT(t,n){Ji.m(t,n);var r=ja;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(t)}if(!jn.has(f)&&(t=w({rel:"modulepreload",href:t},n),jn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(f)))return}o=r.createElement("link"),Kt(o,"link",t),xt(o),r.head.appendChild(o)}}}function lT(t,n,r){Ji.S(t,n,r);var o=ja;if(o&&t){var h=ui(o).hoistableStyles,f=La(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(ul(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=jn.get(f))&&Ad(t,r);var I=y=o.createElement("link");xt(I),Kt(I,"link",t),I._p=new Promise(function(U,Q){I.onload=U,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function cT(t,n){Ji.X(t,n);var r=ja;if(r&&t){var o=ui(r).hoistableScripts,h=Ua(t),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(t=w({src:t,async:!0},n),(n=jn.get(h))&&Nd(t,n),f=r.createElement("script"),xt(f),Kt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uT(t,n){Ji.M(t,n);var r=ja;if(r&&t){var o=ui(r).hoistableScripts,h=Ua(t),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=jn.get(h))&&Nd(t,n),f=r.createElement("script"),xt(f),Kt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m0(t,n,r,o){var h=(h=Se.current)?mu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=ui(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=La(r.href);var f=ui(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ul(t)))&&!f._p&&(y.instance=f,y.state.loading=5),jn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},jn.set(t,r),f||hT(h,t,r,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=ui(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function La(t){return'href="'+on(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function hT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Kt(n,"link",r),xt(n),t.head.appendChild(n))}function Ua(t){return'[src="'+on(t)+'"]'}function hl(t){return"script[async]"+t}function g0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+on(r.href)+'"]');if(o)return n.instance=o,xt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),Kt(o,"style",h),pu(o,r.precedence,t),n.instance=o;case"stylesheet":h=La(r.href);var f=t.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,xt(f),f;o=p0(r),(h=jn.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var y=f;return y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Kt(f,"link",o),n.state.loading|=4,pu(f,r.precedence,t),n.instance=f;case"script":return f=Ua(r.src),(h=t.querySelector(hl(f)))?(n.instance=h,xt(h),h):(o=r,(h=jn.get(f))&&(o=w({},r),Nd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Kt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pu(o,r.precedence,t));return n.instance}function pu(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gu=null;function y0(t,n,r){if(gu===null){var o=new Map,h=gu=new Map;h.set(r,o)}else h=gu,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[li]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function _0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function fT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yu.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,xt(f);return}f=n.ownerDocument||n,o=p0(o),(h=jn.get(h))&&Ad(o,h),f=f.createElement("link"),xt(f);var y=f;y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Kt(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=yu.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function mT(t,n){return t.stylesheets&&t.count===0&&vu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&vu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rd===0&&(Rd=62500*YE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _u=null;function vu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_u=new Map,n.forEach(pT,t),_u=null,yu.call(t))}function pT(t,n){if(!(n.state.loading&4)){var r=_u.get(t);if(r)var o=r.get(null);else{r=new Map,_u.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,h),r.set(y,h),this.count++,o=yu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function gT(t,n,r,o,h,f,y,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function b0(t,n,r,o,h,f,y,E,I,U,Q,J){return t=new gT(t,n,r,y,I,U,Q,J,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),t.current=f,f.stateNode=t,n=of(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},hf(f),t}function E0(t){return t?(t=ga,t):ga}function T0(t,n,r,o,h,f){h=E0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ts(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=xs(t,o,n),r!==null&&(dn(r,t,n),Go(r,t,n))}function x0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){x0(t,n),(t=t.alternate)&&x0(t,n)}function S0(t){if(t.tag===13||t.tag===31){var n=Tr(t,67108864);n!==null&&dn(n,t,67108864),Cd(t,67108864)}}function w0(t){if(t.tag===13||t.tag===31){var n=xn();n=ur(n);var r=Tr(t,n);r!==null&&dn(r,t,n),Cd(t,n)}}var bu=!0;function yT(t,n,r,o){var h=F.T;F.T=null;var f=re.p;try{re.p=2,Id(t,n,r,o)}finally{re.p=f,F.T=h}}function _T(t,n,r,o){var h=F.T;F.T=null;var f=re.p;try{re.p=8,Id(t,n,r,o)}finally{re.p=f,F.T=h}}function Id(t,n,r,o){if(bu){var h=Dd(o);if(h===null)gd(t,n,o,Eu,r),N0(t,o);else if(bT(h,t,n,r,o))o.stopPropagation();else if(N0(t,o),n&4&&-1<vT.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=si(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var I=1<<31-pt(y);E.entanglements[1]|=I,y&=~I}xi(f),(Qe&6)===0&&(iu=nn()+500,al(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&dn(E,f,2),ru(),Cd(f,2)}if(f=Dd(o),f===null&&gd(t,n,o,Eu,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(t,n,o,null,r)}}function Dd(t){return t=Nn(t),Md(t)}var Eu=null;function Md(t){if(Eu=null,t=ci(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Eu=t,null}function A0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case po:return 2;case go:return 8;case os:case jh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Od=!1,ks=null,Vs=null,zs=null,dl=new Map,ml=new Map,js=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N0(t,n){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function pl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&S0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function bT(t,n,r,o,h){switch(n){case"focusin":return ks=pl(ks,t,n,r,o,h),!0;case"dragenter":return Vs=pl(Vs,t,n,r,o,h),!0;case"mouseover":return zs=pl(zs,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,pl(dl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,pl(ml.get(f)||null,t,n,r,o,h)),!0}return!1}function R0(t){var n=ci(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,qn(t.priority,function(){w0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,qn(t.priority,function(){w0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Dd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ro=o,r.target.dispatchEvent(o),Ro=null}else return n=An(r),n!==null&&S0(n),t.blockedOn=r,!1;n.shift()}return!0}function C0(t,n,r){Tu(t)&&r.delete(n)}function ET(){Od=!1,ks!==null&&Tu(ks)&&(ks=null),Vs!==null&&Tu(Vs)&&(Vs=null),zs!==null&&Tu(zs)&&(zs=null),dl.forEach(C0),ml.forEach(C0)}function xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ET)))}var Su=null;function I0(t){Su!==t&&(Su=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Su===t&&(Su=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Md(o||r)===null)continue;break}var f=An(r);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Pa(t){function n(I){return xu(I,t)}ks!==null&&xu(ks,t),Vs!==null&&xu(Vs,t),zs!==null&&xu(zs,t),dl.forEach(n),ml.forEach(n);for(var r=0;r<js.length;r++){var o=js[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<js.length&&(r=js[0],r.blockedOn===null);)R0(r),r.blockedOn===null&&js.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],y=h[Lt]||null;if(typeof f=="function")y||I0(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Lt]||null)E=y.formAction;else if(Md(h)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),I0(r)}}}function D0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}wu.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=xn();T0(r,o,t,n,null,null)},wu.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;T0(t.current,2,null,t,null,null),ru(),n[oi]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var n=rc();t={blockedOn:null,target:t,priority:n};for(var r=0;r<js.length&&n!==0&&n<js[r].priority;r++);js.splice(r,0,t),r===0&&R0(t)}};var M0=e.version;if(M0!=="19.2.4")throw Error(a(527,M0,"19.2.4"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var TT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Pn=Au.inject(TT),qt=Au}catch{}}return yl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Ug,f=Pg,y=Bg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=b0(t,1,!1,null,null,r,o,null,h,f,y,D0),t[oi]=n.current,pd(t),new kd(n)},yl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Ug,y=Pg,E=Bg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=b0(t,1,!0,n,r??null,o,h,I,f,y,E,D0),n.context=E0(null),r=n.current,o=xn(),o=ur(o),h=Ts(o),h.callback=null,xs(r,h,o),r=o,n.current.lanes=r,lr(n,r),xi(n),t[oi]=n.current,pd(t),new wu(n)},yl.version="19.2.4",yl}var q0;function MT(){if(q0)return jd.exports;q0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=DT(),jd.exports}var OT=MT();const yv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const kT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const VT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const H0=s=>{const e=VT(s);return e.charAt(0).toUpperCase()+e.slice(1)};var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const LT=le.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...p},v)=>le.createElement("svg",{ref:v,...zT,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:yv("lucide",l),...!u&&!jT(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,x])=>le.createElement(_,x)),...Array.isArray(u)?u:[u]]));const Be=(s,e)=>{const i=le.forwardRef(({className:a,...l},u)=>le.createElement(LT,{ref:u,iconNode:e,className:yv(`lucide-${kT(H0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=H0(s),i};const UT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],PT=Be("activity",UT);const BT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],em=Be("arrow-left",BT);const qT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],G0=Be("calendar",qT);const HT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],GT=Be("camera",HT);const FT=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],QT=Be("chart-no-axes-column",FT);const KT=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],ph=Be("chef-hat",KT);const YT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XT=Be("circle-check-big",YT);const $T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JT=Be("circle",$T);const ZT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],WT=Be("clipboard-list",ZT);const ex=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],_v=Be("clock",ex);const tx=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Gu=Be("droplets",tx);const nx=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Am=Be("dumbbell",nx);const ix=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Nm=Be("flame",ix);const sx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rx=Be("house",sx);const ax=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ox=Be("log-out",ax);const lx=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],cx=Be("medal",lx);const ux=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vv=Be("message-square",ux);const hx=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Fu=Be("moon",hx);const fx=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],dx=Be("pause",fx);const mx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qu=Be("pen",mx);const px=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],bv=Be("person-standing",px);const gx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yx=Be("play",gx);const _x=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ev=Be("plus",_x);const vx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bx=Be("rotate-ccw",vx);const Ex=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gh=Be("sparkles",Ex);const Tx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xx=Be("target",Tx);const Sx=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],Tv=Be("thumbs-down",Sx);const wx=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],xv=Be("thumbs-up",wx);const Ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sv=Be("trash-2",Ax);const Nx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Rx=Be("trending-up",Nx);const Cx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bl=Be("user",Cx);const Ix=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],wv=Be("utensils",Ix);const Dx=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Mx=Be("video",Dx),Ox=()=>{};var F0={};const Av=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},kx=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const u=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,x=u>>2,w=(u&3)<<4|p>>4;let R=(p&15)<<2|_>>6,H=_&63;v||(H=64,d||(R=64)),a.push(i[x],i[w],i[R],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Av(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||_==null||w==null)throw new Vx;const R=u<<2|p>>4;if(a.push(R),_!==64){const H=p<<4&240|_>>2;if(a.push(H),w!==64){const X=_<<6&192|w;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zx=function(s){const e=Av(s);return Nv.encodeByteArray(e,!0)},Ku=function(s){return zx(s).replace(/\./g,"")},Rv=function(s){try{return Nv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lx=()=>jx().__FIREBASE_DEFAULTS__,Ux=()=>{if(typeof process>"u"||typeof F0>"u")return;const s=F0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Px=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Rv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return Ox()||Lx()||Ux()||Px()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Cv=s=>yh()?.emulatorHosts?.[s],Bx=s=>{const e=Cv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Iv=()=>yh()?.config,Dv=s=>yh()?.[`_${s}`];class qx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function so(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mv(s){return(await fetch(s,{credentials:"include"})).ok}function Hx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ku(JSON.stringify(i)),Ku(JSON.stringify(d)),""].join(".")}const Al={};function Gx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Al))Al[e]?s.emulator.push(e):s.prod.push(e);return s}function Fx(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Q0=!1;function Ov(s,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Al[s]===e||Al[s]||Q0)return;Al[s]=e;function i(R){return`__firebase__banner__${R}`}const a="__firebase__banner",u=Gx().prod.length>0;function d(){const R=document.getElementById(a);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,H){R.setAttribute("width","24"),R.setAttribute("id",H),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function _(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Q0=!0,d()},R}function x(R,H){R.setAttribute("id",H),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=Fx(a),H=i("text"),X=document.getElementById(H)||document.createElement("span"),te=i("learnmore"),G=document.getElementById(te)||document.createElement("a"),K=i("preprendIcon"),Z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ae=R.element;p(ae),x(G,te);const ge=_();v(Z,K),ae.append(Z,X,G,ge),document.body.appendChild(ae)}u?(X.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Kx(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jx(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Zx(){return!Kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wx(){try{return typeof indexedDB=="object"}catch{return!1}}function e2(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const t2="FirebaseError";class rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=t2,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?n2(u,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new rs(l,p,a)}}function n2(s,e){return s.replace(i2,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const i2=/\{\$([^}]+)}/g;function s2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Br(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const u=s[l],d=e[l];if(K0(u)&&K0(d)){if(!Br(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function K0(s){return s!==null&&typeof s=="object"}function Hl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function r2(s,e){const i=new a2(s,e);return i.subscribe.bind(i)}class a2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");o2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function Sn(s){return s&&s._delegate?s._delegate:s}class qr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vr="[DEFAULT]";class l2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new qx;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u2(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:c2(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c2(s){return s===Vr?void 0:s}function u2(s){return s.instantiationMode==="EAGER"}class h2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new l2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const f2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},d2=ke.INFO,m2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},p2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=m2[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=d2,this._logHandler=p2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const g2=(s,e)=>e.some(i=>s instanceof i);let Y0,X0;function y2(){return Y0||(Y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _2(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,tm=new WeakMap,Vv=new WeakMap,qd=new WeakMap,Cm=new WeakMap;function v2(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Fs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&kv.set(i,s)}).catch(()=>{}),Cm.set(e,s),e}function b2(s){if(tm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,e)}let nm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Vv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function E2(s){nm=s(nm)}function T2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return Vv.set(a,e.sort?e.sort():[e]),Fs(a)}:_2().includes(s)?function(...e){return s.apply(Hd(this),e),Fs(kv.get(this))}:function(...e){return Fs(s.apply(Hd(this),e))}}function x2(s){return typeof s=="function"?T2(s):(s instanceof IDBTransaction&&b2(s),g2(s,y2())?new Proxy(s,nm):s)}function Fs(s){if(s instanceof IDBRequest)return v2(s);if(qd.has(s))return qd.get(s);const e=x2(s);return e!==s&&(qd.set(s,e),Cm.set(e,s)),e}const Hd=s=>Cm.get(s);function S2(s,e,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=Fs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Fs(d.result),v.oldVersion,v.newVersion,Fs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{u&&v.addEventListener("close",()=>u()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const w2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],Gd=new Map;function $0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=A2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||w2.includes(i)))return;const u=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Gd.set(e,u),u}E2(s=>({...s,get:(e,i,a)=>$0(e,i)||s.get(e,i,a),has:(e,i)=>!!$0(e,i)||s.has(e,i)}));class N2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(R2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function R2(s){return s.getComponent()?.type==="VERSION"}const im="@firebase/app",J0="0.14.8";const es=new Rm("@firebase/app"),C2="@firebase/app-compat",I2="@firebase/analytics-compat",D2="@firebase/analytics",M2="@firebase/app-check-compat",O2="@firebase/app-check",k2="@firebase/auth",V2="@firebase/auth-compat",z2="@firebase/database",j2="@firebase/data-connect",L2="@firebase/database-compat",U2="@firebase/functions",P2="@firebase/functions-compat",B2="@firebase/installations",q2="@firebase/installations-compat",H2="@firebase/messaging",G2="@firebase/messaging-compat",F2="@firebase/performance",Q2="@firebase/performance-compat",K2="@firebase/remote-config",Y2="@firebase/remote-config-compat",X2="@firebase/storage",$2="@firebase/storage-compat",J2="@firebase/firestore",Z2="@firebase/ai",W2="@firebase/firestore-compat",eS="firebase",tS="12.9.0";const sm="[DEFAULT]",nS={[im]:"fire-core",[C2]:"fire-core-compat",[D2]:"fire-analytics",[I2]:"fire-analytics-compat",[O2]:"fire-app-check",[M2]:"fire-app-check-compat",[k2]:"fire-auth",[V2]:"fire-auth-compat",[z2]:"fire-rtdb",[j2]:"fire-data-connect",[L2]:"fire-rtdb-compat",[U2]:"fire-fn",[P2]:"fire-fn-compat",[B2]:"fire-iid",[q2]:"fire-iid-compat",[H2]:"fire-fcm",[G2]:"fire-fcm-compat",[F2]:"fire-perf",[Q2]:"fire-perf-compat",[K2]:"fire-rc",[Y2]:"fire-rc-compat",[X2]:"fire-gcs",[$2]:"fire-gcs-compat",[J2]:"fire-fst",[W2]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[eS]:"fire-js-all"};const Yu=new Map,iS=new Map,rm=new Map;function Z0(s,e){try{s.container.addComponent(e)}catch(i){es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Za(s){const e=s.name;if(rm.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,s);for(const i of Yu.values())Z0(i,s);for(const i of iS.values())Z0(i,s);return!0}function Im(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const sS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new ql("app","Firebase",sS);class rS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const ro=tS;function zv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:sm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(i||(i=Iv()),!i)throw Qs.create("no-options");const u=Yu.get(l);if(u){if(Br(i,u.options)&&Br(a,u.config))return u;throw Qs.create("duplicate-app",{appName:l})}const d=new h2(l);for(const v of rm.values())d.addComponent(v);const p=new rS(i,a,d);return Yu.set(l,p),p}function jv(s=sm){const e=Yu.get(s);if(!e&&s===sm&&Iv())return zv();if(!e)throw Qs.create("no-app",{appName:s});return e}function Ks(s,e,i){let a=nS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Za(new qr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const aS="firebase-heartbeat-database",oS=1,Ml="firebase-heartbeat-store";let Fd=null;function Lv(){return Fd||(Fd=S2(aS,oS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),Fd}async function lS(s){try{const i=(await Lv()).transaction(Ml),a=await i.objectStore(Ml).get(Uv(s));return await i.done,a}catch(e){if(e instanceof rs)es.warn(e.message);else{const i=Qs.create("idb-get",{originalErrorMessage:e?.message});es.warn(i.message)}}}async function W0(s,e){try{const a=(await Lv()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(e,Uv(s)),await a.done}catch(i){if(i instanceof rs)es.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});es.warn(a.message)}}}function Uv(s){return`${s.name}!${s.options.appId}`}const cS=1024,uS=30;class hS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=e_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uS){const l=mS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=e_(),{heartbeatsToSend:i,unsentEntries:a}=fS(this._heartbeatsCache.heartbeats),l=Ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return es.warn(e),""}}}function e_(){return new Date().toISOString().substring(0,10)}function fS(s,e=cS){const i=[];let a=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),t_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),t_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class dS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wx()?e2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function t_(s){return Ku(JSON.stringify({version:2,heartbeats:s})).length}function mS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function pS(s){Za(new qr("platform-logger",e=>new N2(e),"PRIVATE")),Za(new qr("heartbeat",e=>new hS(e),"PRIVATE")),Ks(im,J0,s),Ks(im,J0,"esm2020"),Ks("fire-js","")}pS("");var gS="firebase",yS="12.9.0";Ks(gS,yS,"app");function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _S=Pv,Bv=new ql("auth","Firebase",Pv());const Xu=new Rm("@firebase/auth");function vS(s,...e){Xu.logLevel<=ke.WARN&&Xu.warn(`Auth (${ro}): ${s}`,...e)}function Ou(s,...e){Xu.logLevel<=ke.ERROR&&Xu.error(`Auth (${ro}): ${s}`,...e)}function ts(s,...e){throw Dm(s,...e)}function wi(s,...e){return Dm(s,...e)}function qv(s,e,i){const a={..._S(),[e]:i};return new ql("auth","Firebase",a).create(e,{appName:s.name})}function Ys(s){return qv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Bv.create(s,...e)}function be(s,e,...i){if(!s)throw Dm(e,...i)}function Zi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ou(e),new Error(e)}function ns(s,e){s||Zi(e)}function am(){return typeof self<"u"&&self.location?.href||""}function bS(){return n_()==="http:"||n_()==="https:"}function n_(){return typeof self<"u"&&self.location?.protocol||null}function ES(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bS()||Xx()||"connection"in navigator)?navigator.onLine:!0}function TS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Gl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ns(i>e,"Short delay should be less than long delay!"),this.isMobile=Qx()||$x()}get(){return ES()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(s,e){ns(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Hv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wS=new Gl(3e4,6e4);function _h(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ao(s,e,i,a,l={}){return Gv(s,l,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const p=Hl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...u};return Yx()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&so(s.emulatorConfig.host)&&(_.credentials="include"),Hv.fetch()(await Qv(s,s.config.apiHost,i,p),_)})}async function Gv(s,e,i){s._canInitEmulator=!1;const a={...xS,...e};try{const l=new AS(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Nu(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Nu(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Nu(s,"user-disabled",d);const x=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw qv(s,x,_);ts(s,x)}}catch(l){if(l instanceof rs)throw l;ts(s,"network-request-failed",{message:String(l)})}}async function Fv(s,e,i,a,l={}){const u=await ao(s,e,i,a,l);return"mfaPendingCredential"in u&&ts(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Qv(s,e,i,a){const l=`${e}${i}?${a}`,u=s,d=u.config.emulator?Mm(s.config,l):`${s.config.apiScheme}://${l}`;return SS.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class AS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),wS.get())})}}function Nu(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=wi(s,e,a);return l.customData._tokenResponse=i,l}async function NS(s,e){return ao(s,"POST","/v1/accounts:delete",e)}async function $u(s,e){return ao(s,"POST","/v1/accounts:lookup",e)}function Nl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RS(s,e=!1){const i=Sn(s),a=await i.getIdToken(e),l=Om(a);be(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Qd(l.auth_time)),issuedAtTime:Nl(Qd(l.iat)),expirationTime:Nl(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function Om(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rv(i);return l?JSON.parse(l):(Ou("Failed to decode base64 JWT payload"),null)}catch(l){return Ou("Caught error parsing JWT payload as JSON",l?.toString()),null}}function i_(s){const e=Om(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ol(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof rs&&CS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function CS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class IS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ju(s){const e=s.auth,i=await s.getIdToken(),a=await Ol(s,$u(e,{idToken:i}));be(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?Kv(l.providerUserInfo):[],d=MS(s.providerData,u),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,x)}async function DS(s){const e=Sn(s);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Kv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OS(s,e){const i=await Gv(s,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await Qv(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&so(s.emulatorConfig.host)&&(v.credentials="include"),Hv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kS(s,e){return ao(s,"POST","/v2/accounts:revokeToken",_h(s,e))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=i_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await OS(e,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,d=new Qa;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(be(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Us(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new IS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return RS(this,e)}reload(){return DS(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Ju(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Ol(this,NS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:w,emailVerified:R,isAnonymous:H,providerData:X,stsTokenManager:te}=i;be(w&&te,e,"internal-error");const G=Qa.fromJSON(this.name,te);be(typeof w=="string",e,"internal-error"),Us(a,e.name),Us(l,e.name),be(typeof R=="boolean",e,"internal-error"),be(typeof H=="boolean",e,"internal-error"),Us(u,e.name),Us(d,e.name),Us(p,e.name),Us(v,e.name),Us(_,e.name),Us(x,e.name);const K=new Wn({uid:w,auth:e,email:l,emailVerified:R,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:G,createdAt:_,lastLoginAt:x});return X&&Array.isArray(X)&&(K.providerData=X.map(Z=>({...Z}))),v&&(K._redirectEventId=v),K}static async _fromIdTokenResponse(e,i,a=!1){const l=new Qa;l.updateFromServerResponse(i);const u=new Wn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Ju(u),u}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];be(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Kv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new Qa;p.updateFromIdToken(a);const v=new Wn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(v,_),v}}const s_=new Map;function Wi(s){ns(s instanceof Function,"Expected a class definition");let e=s_.get(s);return e?(ns(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,s_.set(s,e),e)}class Yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Yv.type="NONE";const r_=Yv;function ku(s,e,i){return`firebase:${s}:${e}:${i}`}class Ka{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=ku(this.userKey,l.apiKey,u),this.fullPersistenceKey=ku("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $u(this.auth,{idToken:e}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ka(Wi(r_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||Wi(r_);const d=ku(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const x=await _._get(d);if(x){let w;if(typeof x=="string"){const R=await $u(e,{idToken:x}).catch(()=>{});if(!R)break;w=await Wn._fromGetAccountInfoResponse(e,R,x)}else w=Wn._fromJSON(e,x);_!==u&&(p=w),u=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Ka(u,e,a):(u=v[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Ka(u,e,a))}}function a_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eb(e))return"Blackberry";if(tb(e))return"Webos";if($v(e))return"Safari";if((e.includes("chrome/")||Jv(e))&&!e.includes("edge/"))return"Chrome";if(Wv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Xv(s=tn()){return/firefox\//i.test(s)}function $v(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jv(s=tn()){return/crios\//i.test(s)}function Zv(s=tn()){return/iemobile/i.test(s)}function Wv(s=tn()){return/android/i.test(s)}function eb(s=tn()){return/blackberry/i.test(s)}function tb(s=tn()){return/webos/i.test(s)}function km(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function VS(s=tn()){return km(s)&&!!window.navigator?.standalone}function zS(){return Jx()&&document.documentMode===10}function nb(s=tn()){return km(s)||Wv(s)||tb(s)||eb(s)||/windows phone/i.test(s)||Zv(s)}function ib(s,e=[]){let i;switch(s){case"Browser":i=a_(tn());break;case"Worker":i=`${a_(tn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${a}`}class jS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((d,p)=>{try{const v=e(u);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LS(s,e={}){return ao(s,"GET","/v2/passwordPolicy",_h(s,e))}const US=6;class PS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??US,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class BS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new jS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $u(this,{idToken:e}),a=await Wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Ys(this));const i=e?Sn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LS(this),i=new PS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Wi(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vh(s){return Sn(s)}class o_{constructor(e){this.auth=e,this.observer=null,this.addObserver=r2(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qS(s){Vm=s}function HS(s){return Vm.loadJS(s)}function GS(){return Vm.gapiScript}function FS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function QS(s,e){const i=Im(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Br(u,e??{}))return l;ts(l,"already-initialized")}return i.initialize({options:e})}function KS(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Wi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function YS(s,e,i){const a=vh(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=sb(e),{host:d,port:p}=XS(e),v=p===null?"":`:${p}`,_={url:`${u}//${d}${v}/`},x=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Br(_,a.config.emulator)&&Br(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,so(d)?(Mv(`${u}//${d}${v}`),Ov("Auth",!0)):$S()}function sb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function XS(s){const e=sb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:l_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:l_(d)}}}function l_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function $S(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,i){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function Ya(s,e){return Fv(s,"POST","/v1/accounts:signInWithIdp",_h(s,e))}const JS="http://localhost";class Hr extends rb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=i;if(!a||!l)return null;const d=new Hr(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ya(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ya(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ya(e,i)}buildRequest(){const e={requestUri:JS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Hl(i)}return e}}class ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fl extends ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends Fl{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Bs extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Fl{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Fl{constructor(){super("twitter.com")}static credential(e,i){return Hr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function ZS(s,e){return Fv(s,"POST","/v1/accounts:signUp",_h(s,e))}class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const u=await Wn._fromIdTokenResponse(e,a,l),d=c_(a);return new Js({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=c_(a);return new Js({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function c_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function WS(s){if(Zn(s.app))return Promise.reject(Ys(s));const e=vh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Js({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await ZS(e,{returnSecureToken:!0}),a=await Js._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Zu extends rs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Zu(e,i,a,l)}}function ob(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(s,u,e,a):u})}async function ew(s,e,i=!1){const a=await Ol(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Js._forOperation(s,"link",a)}async function tw(s,e,i=!1){const{auth:a}=s;if(Zn(a.app))return Promise.reject(Ys(a));const l="reauthenticate";try{const u=await Ol(s,ob(a,l,e,s),i);be(u.idToken,a,"internal-error");const d=Om(u.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(s.uid===p,a,"user-mismatch"),Js._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ts(a,"user-mismatch"),u}}async function nw(s,e,i=!1){if(Zn(s.app))return Promise.reject(Ys(s));const a="signIn",l=await ob(s,a,e),u=await Js._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(u.user),u}function iw(s,e,i,a){return Sn(s).onIdTokenChanged(e,i,a)}function sw(s,e,i){return Sn(s).beforeAuthStateChanged(e,i)}function rw(s,e,i,a){return Sn(s).onAuthStateChanged(e,i,a)}const Wu="__sak";class lb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aw=1e3,ow=10;class cb extends lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);zS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ow):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}cb.type="LOCAL";const lw=cb;class ub extends lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ub.type="SESSION";const hb=ub;function cw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new bh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,u)),v=await cw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function zm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class uw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,v)=>{const _=zm("",20);l.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const R=w;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(x),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function hw(s){Ai().location.href=s}function fb(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function fw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dw(){return navigator?.serviceWorker?.controller||null}function mw(){return fb()?self:null}const db="firebaseLocalStorageDb",pw=1,eh="firebaseLocalStorage",mb="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,e){return s.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function gw(){const s=indexedDB.deleteDatabase(db);return new Ql(s).toPromise()}function lm(){const s=indexedDB.open(db,pw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:mb})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?e(a):(a.close(),await gw(),e(await lm()))})})}async function u_(s,e,i){const a=Eh(s,!0).put({[mb]:e,value:i});return new Ql(a).toPromise()}async function yw(s,e){const i=Eh(s,!1).get(e),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function h_(s,e){const i=Eh(s,!0).delete(e);return new Ql(i).toPromise()}const _w=800,vw=3;class pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(mw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fw(),!this.activeServiceWorker)return;this.sender=new uw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await u_(e,Wu,"1"),await h_(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>yw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>h_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Eh(l,!1).getAll();return new Ql(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pb.type="LOCAL";const bw=pb;new Gl(3e4,6e4);function Ew(s,e){return e?Wi(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jm extends rb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ya(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Tw(s){return nw(s.auth,new jm(s),s.bypassAuthState)}function xw(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),tw(i,new jm(s),s.bypassAuthState)}async function Sw(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),ew(i,new jm(s),s.bypassAuthState)}class gb{constructor(e,i,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tw;case"linkViaPopup":case"linkViaRedirect":return Sw;case"reauthViaPopup":case"reauthViaRedirect":return xw;default:ts(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ww=new Gl(2e3,1e4);class Fa extends gb{constructor(e,i,a,l,u){super(e,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ww.get())};e()}}Fa.currentPopupAction=null;const Aw="pendingRedirect",Vu=new Map;class Nw extends gb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Vu.get(this.auth._key());if(!e){try{const a=await Rw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Vu.set(this.auth._key(),e)}return this.bypassAuthState||Vu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(s,e){const i=Dw(e),a=Iw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Cw(s,e){Vu.set(s._key(),e)}function Iw(s){return Wi(s._redirectPersistence)}function Dw(s){return ku(Aw,s.config.apiKey,s.name)}async function Mw(s,e,i=!1){if(Zn(s.app))return Promise.reject(Ys(s));const a=vh(s),l=Ew(a,e),d=await new Nw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Ow=600*1e3;class kw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!yb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ow&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(e))}saveEventToCache(e){this.cachedEventUids.add(f_(e)),this.lastProcessedEventTime=Date.now()}}function f_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function yb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Vw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yb(s);default:return!1}}async function zw(s,e={}){return ao(s,"GET","/v1/projects",e)}const jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function Uw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await zw(s);for(const i of e)try{if(Pw(i))return}catch{}ts(s,"unauthorized-domain")}function Pw(s){const e=am(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Lw.test(i))return!1;if(jw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Bw=new Gl(3e4,6e4);function d_(){const s=Ai().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function qw(s){return new Promise((e,i)=>{function a(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),i(wi(s,"network-request-failed"))},timeout:Bw.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=FS("iframefcb");return Ai()[l]=()=>{gapi.load?a():i(wi(s,"network-request-failed"))},HS(`${GS()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw zu=null,e})}let zu=null;function Hw(s){return zu=zu||qw(s),zu}const Gw=new Gl(5e3,15e3),Fw="__/auth/iframe",Qw="emulator/auth/iframe",Kw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xw(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Mm(e,Qw):`https://${s.config.authDomain}/${Fw}`,a={apiKey:e.apiKey,appName:s.name,v:ro},l=Yw.get(s.config.apiHost);l&&(a.eid=l);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Hl(a).slice(1)}`}async function $w(s){const e=await Hw(s),i=Ai().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:Xw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kw,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=wi(s,"network-request-failed"),p=Ai().setTimeout(()=>{u(d)},Gw.get());function v(){Ai().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{u(d)})}))}const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,Ww=600,eA="_blank",tA="http://localhost";class m_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nA(s,e,i,a=Zw,l=Ww){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Jw,width:a.toString(),height:l.toString(),top:u,left:d},_=tn().toLowerCase();i&&(p=Jv(_)?eA:i),Xv(_)&&(e=e||tA,v.scrollbars="yes");const x=Object.entries(v).reduce((R,[H,X])=>`${R}${H}=${X},`,"");if(VS(_)&&p!=="_self")return iA(e||"",p),new m_(null);const w=window.open(e||"",p,x);be(w,s,"popup-blocked");try{w.focus()}catch{}return new m_(w)}function iA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const sA="__/auth/handler",rA="emulator/auth/handler",aA=encodeURIComponent("fac");async function p_(s,e,i,a,l,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ro,eventId:l};if(e instanceof ab){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",s2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))d[x]=w}if(e instanceof Fl){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const v=await s._getAppCheckToken(),_=v?`#${aA}=${encodeURIComponent(v)}`:"";return`${oA(s)}?${Hl(p).slice(1)}${_}`}function oA({config:s}){return s.emulator?Mm(s,rA):`https://${s.authDomain}/${sA}`}const Kd="webStorageSupport";class lA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hb,this._completeRedirectFn=Mw,this._overrideRedirectResult=Cw}async _openPopup(e,i,a,l){ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await p_(e,i,a,am(),l);return nA(e,u,zm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const u=await p_(e,i,a,am(),l);return hw(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ns(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await $w(e),a=new kw(e);return i.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},l=>{const u=l?.[0]?.[Kd];u!==void 0&&i(!!u),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Uw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return nb()||$v()||km()}}const cA=lA;var g_="@firebase/auth",y_="1.12.0";class uA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fA(s){Za(new qr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ib(s)},_=new BS(a,l,u,v);return KS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Za(new qr("auth-internal",e=>{const i=vh(e.getProvider("auth").getImmediate());return(a=>new uA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(g_,y_,hA(s)),Ks(g_,y_,"esm2020")}const dA=300,mA=Dv("authIdTokenMaxAge")||dA;let __=null;const pA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>mA)return;const l=i?.token;__!==l&&(__=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gA(s=jv()){const e=Im(s,"auth");if(e.isInitialized())return e.getImmediate();const i=QS(s,{popupRedirectResolver:cA,persistence:[bw,lw,hb]}),a=Dv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=pA(u.toString());sw(i,d,()=>d(i.currentUser)),iw(i,p=>d(p))}}const l=Cv("auth");return l&&YS(i,`http://${l}`),i}function yA(){return document.getElementsByTagName("head")?.[0]??document}qS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const u=wi("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",yA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fA("Browser");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,_b;(function(){var s;function e(A,S){function N(){}N.prototype=S.prototype,A.F=S.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(D,M,z){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return S.prototype[M].apply(D,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,S,N){N||(N=0);const D=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)D[M]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(M=0;M<16;++M)D[M]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=A.g[0],N=A.g[1],M=A.g[2];let z=A.g[3],C;C=S+(z^N&(M^z))+D[0]+3614090360&4294967295,S=N+(C<<7&4294967295|C>>>25),C=z+(M^S&(N^M))+D[1]+3905402710&4294967295,z=S+(C<<12&4294967295|C>>>20),C=M+(N^z&(S^N))+D[2]+606105819&4294967295,M=z+(C<<17&4294967295|C>>>15),C=N+(S^M&(z^S))+D[3]+3250441966&4294967295,N=M+(C<<22&4294967295|C>>>10),C=S+(z^N&(M^z))+D[4]+4118548399&4294967295,S=N+(C<<7&4294967295|C>>>25),C=z+(M^S&(N^M))+D[5]+1200080426&4294967295,z=S+(C<<12&4294967295|C>>>20),C=M+(N^z&(S^N))+D[6]+2821735955&4294967295,M=z+(C<<17&4294967295|C>>>15),C=N+(S^M&(z^S))+D[7]+4249261313&4294967295,N=M+(C<<22&4294967295|C>>>10),C=S+(z^N&(M^z))+D[8]+1770035416&4294967295,S=N+(C<<7&4294967295|C>>>25),C=z+(M^S&(N^M))+D[9]+2336552879&4294967295,z=S+(C<<12&4294967295|C>>>20),C=M+(N^z&(S^N))+D[10]+4294925233&4294967295,M=z+(C<<17&4294967295|C>>>15),C=N+(S^M&(z^S))+D[11]+2304563134&4294967295,N=M+(C<<22&4294967295|C>>>10),C=S+(z^N&(M^z))+D[12]+1804603682&4294967295,S=N+(C<<7&4294967295|C>>>25),C=z+(M^S&(N^M))+D[13]+4254626195&4294967295,z=S+(C<<12&4294967295|C>>>20),C=M+(N^z&(S^N))+D[14]+2792965006&4294967295,M=z+(C<<17&4294967295|C>>>15),C=N+(S^M&(z^S))+D[15]+1236535329&4294967295,N=M+(C<<22&4294967295|C>>>10),C=S+(M^z&(N^M))+D[1]+4129170786&4294967295,S=N+(C<<5&4294967295|C>>>27),C=z+(N^M&(S^N))+D[6]+3225465664&4294967295,z=S+(C<<9&4294967295|C>>>23),C=M+(S^N&(z^S))+D[11]+643717713&4294967295,M=z+(C<<14&4294967295|C>>>18),C=N+(z^S&(M^z))+D[0]+3921069994&4294967295,N=M+(C<<20&4294967295|C>>>12),C=S+(M^z&(N^M))+D[5]+3593408605&4294967295,S=N+(C<<5&4294967295|C>>>27),C=z+(N^M&(S^N))+D[10]+38016083&4294967295,z=S+(C<<9&4294967295|C>>>23),C=M+(S^N&(z^S))+D[15]+3634488961&4294967295,M=z+(C<<14&4294967295|C>>>18),C=N+(z^S&(M^z))+D[4]+3889429448&4294967295,N=M+(C<<20&4294967295|C>>>12),C=S+(M^z&(N^M))+D[9]+568446438&4294967295,S=N+(C<<5&4294967295|C>>>27),C=z+(N^M&(S^N))+D[14]+3275163606&4294967295,z=S+(C<<9&4294967295|C>>>23),C=M+(S^N&(z^S))+D[3]+4107603335&4294967295,M=z+(C<<14&4294967295|C>>>18),C=N+(z^S&(M^z))+D[8]+1163531501&4294967295,N=M+(C<<20&4294967295|C>>>12),C=S+(M^z&(N^M))+D[13]+2850285829&4294967295,S=N+(C<<5&4294967295|C>>>27),C=z+(N^M&(S^N))+D[2]+4243563512&4294967295,z=S+(C<<9&4294967295|C>>>23),C=M+(S^N&(z^S))+D[7]+1735328473&4294967295,M=z+(C<<14&4294967295|C>>>18),C=N+(z^S&(M^z))+D[12]+2368359562&4294967295,N=M+(C<<20&4294967295|C>>>12),C=S+(N^M^z)+D[5]+4294588738&4294967295,S=N+(C<<4&4294967295|C>>>28),C=z+(S^N^M)+D[8]+2272392833&4294967295,z=S+(C<<11&4294967295|C>>>21),C=M+(z^S^N)+D[11]+1839030562&4294967295,M=z+(C<<16&4294967295|C>>>16),C=N+(M^z^S)+D[14]+4259657740&4294967295,N=M+(C<<23&4294967295|C>>>9),C=S+(N^M^z)+D[1]+2763975236&4294967295,S=N+(C<<4&4294967295|C>>>28),C=z+(S^N^M)+D[4]+1272893353&4294967295,z=S+(C<<11&4294967295|C>>>21),C=M+(z^S^N)+D[7]+4139469664&4294967295,M=z+(C<<16&4294967295|C>>>16),C=N+(M^z^S)+D[10]+3200236656&4294967295,N=M+(C<<23&4294967295|C>>>9),C=S+(N^M^z)+D[13]+681279174&4294967295,S=N+(C<<4&4294967295|C>>>28),C=z+(S^N^M)+D[0]+3936430074&4294967295,z=S+(C<<11&4294967295|C>>>21),C=M+(z^S^N)+D[3]+3572445317&4294967295,M=z+(C<<16&4294967295|C>>>16),C=N+(M^z^S)+D[6]+76029189&4294967295,N=M+(C<<23&4294967295|C>>>9),C=S+(N^M^z)+D[9]+3654602809&4294967295,S=N+(C<<4&4294967295|C>>>28),C=z+(S^N^M)+D[12]+3873151461&4294967295,z=S+(C<<11&4294967295|C>>>21),C=M+(z^S^N)+D[15]+530742520&4294967295,M=z+(C<<16&4294967295|C>>>16),C=N+(M^z^S)+D[2]+3299628645&4294967295,N=M+(C<<23&4294967295|C>>>9),C=S+(M^(N|~z))+D[0]+4096336452&4294967295,S=N+(C<<6&4294967295|C>>>26),C=z+(N^(S|~M))+D[7]+1126891415&4294967295,z=S+(C<<10&4294967295|C>>>22),C=M+(S^(z|~N))+D[14]+2878612391&4294967295,M=z+(C<<15&4294967295|C>>>17),C=N+(z^(M|~S))+D[5]+4237533241&4294967295,N=M+(C<<21&4294967295|C>>>11),C=S+(M^(N|~z))+D[12]+1700485571&4294967295,S=N+(C<<6&4294967295|C>>>26),C=z+(N^(S|~M))+D[3]+2399980690&4294967295,z=S+(C<<10&4294967295|C>>>22),C=M+(S^(z|~N))+D[10]+4293915773&4294967295,M=z+(C<<15&4294967295|C>>>17),C=N+(z^(M|~S))+D[1]+2240044497&4294967295,N=M+(C<<21&4294967295|C>>>11),C=S+(M^(N|~z))+D[8]+1873313359&4294967295,S=N+(C<<6&4294967295|C>>>26),C=z+(N^(S|~M))+D[15]+4264355552&4294967295,z=S+(C<<10&4294967295|C>>>22),C=M+(S^(z|~N))+D[6]+2734768916&4294967295,M=z+(C<<15&4294967295|C>>>17),C=N+(z^(M|~S))+D[13]+1309151649&4294967295,N=M+(C<<21&4294967295|C>>>11),C=S+(M^(N|~z))+D[4]+4149444226&4294967295,S=N+(C<<6&4294967295|C>>>26),C=z+(N^(S|~M))+D[11]+3174756917&4294967295,z=S+(C<<10&4294967295|C>>>22),C=M+(S^(z|~N))+D[2]+718787259&4294967295,M=z+(C<<15&4294967295|C>>>17),C=N+(z^(M|~S))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+z&4294967295}a.prototype.v=function(A,S){S===void 0&&(S=A.length);const N=S-this.blockSize,D=this.C;let M=this.h,z=0;for(;z<S;){if(M==0)for(;z<=N;)l(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<S;)if(D[M++]=A.charCodeAt(z++),M==this.blockSize){l(this,D),M=0;break}}else for(;z<S;)if(D[M++]=A[z++],M==this.blockSize){l(this,D),M=0;break}}this.h=M,this.o+=S},a.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,N=0;N<4;++N)for(let D=0;D<32;D+=8)A[S++]=this.g[N]>>>D&255;return A};function u(A,S){var N=p;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=S(A)}function d(A,S){this.h=S;const N=[];let D=!0;for(let M=A.length-1;M>=0;M--){const z=A[M]|0;D&&z==S||(N[M]=z,D=!1)}this.g=N}var p={};function v(A){return-128<=A&&A<128?u(A,function(S){return new d([S|0],S<0?-1:0)}):new d([A|0],A<0?-1:0)}function _(A){if(isNaN(A)||!isFinite(A))return w;if(A<0)return G(_(-A));const S=[];let N=1;for(let D=0;A>=N;D++)S[D]=A/N|0,N*=4294967296;return new d(S,0)}function x(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return G(x(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(S,8));let D=w;for(let z=0;z<A.length;z+=8){var M=Math.min(8,A.length-z);const C=parseInt(A.substring(z,z+M),S);M<8?(M=_(Math.pow(S,M)),D=D.j(M).add(_(C))):(D=D.j(N),D=D.add(_(C)))}return D}var w=v(0),R=v(1),H=v(16777216);s=d.prototype,s.m=function(){if(te(this))return-G(this).m();let A=0,S=1;for(let N=0;N<this.g.length;N++){const D=this.i(N);A+=(D>=0?D:4294967296+D)*S,S*=4294967296}return A},s.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(X(this))return"0";if(te(this))return"-"+G(this).toString(A);const S=_(Math.pow(A,6));var N=this;let D="";for(;;){const M=ge(N,S).g;N=K(N,M.j(S));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=M,X(N))return z+D;for(;z.length<6;)z="0"+z;D=z+D}},s.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function X(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function te(A){return A.h==-1}s.l=function(A){return A=K(this,A),te(A)?-1:X(A)?0:1};function G(A){const S=A.g.length,N=[];for(let D=0;D<S;D++)N[D]=~A.g[D];return new d(N,~A.h).add(R)}s.abs=function(){return te(this)?G(this):this},s.add=function(A){const S=Math.max(this.g.length,A.g.length),N=[];let D=0;for(let M=0;M<=S;M++){let z=D+(this.i(M)&65535)+(A.i(M)&65535),C=(z>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);D=C>>>16,z&=65535,C&=65535,N[M]=C<<16|z}return new d(N,N[N.length-1]&-2147483648?-1:0)};function K(A,S){return A.add(G(S))}s.j=function(A){if(X(this)||X(A))return w;if(te(this))return te(A)?G(this).j(G(A)):G(G(this).j(A));if(te(A))return G(this.j(G(A)));if(this.l(H)<0&&A.l(H)<0)return _(this.m()*A.m());const S=this.g.length+A.g.length,N=[];for(var D=0;D<2*S;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<A.g.length;M++){const z=this.i(D)>>>16,C=this.i(D)&65535,tt=A.i(M)>>>16,ft=A.i(M)&65535;N[2*D+2*M]+=C*ft,Z(N,2*D+2*M),N[2*D+2*M+1]+=z*ft,Z(N,2*D+2*M+1),N[2*D+2*M+1]+=C*tt,Z(N,2*D+2*M+1),N[2*D+2*M+2]+=z*tt,Z(N,2*D+2*M+2)}for(A=0;A<S;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=S;A<2*S;A++)N[A]=0;return new d(N,0)};function Z(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function ae(A,S){this.g=A,this.h=S}function ge(A,S){if(X(S))throw Error("division by zero");if(X(A))return new ae(w,w);if(te(A))return S=ge(G(A),S),new ae(G(S.g),G(S.h));if(te(S))return S=ge(A,G(S)),new ae(G(S.g),S.h);if(A.g.length>30){if(te(A)||te(S))throw Error("slowDivide_ only works with positive integers.");for(var N=R,D=S;D.l(A)<=0;)N=Re(N),D=Re(D);var M=se(N,1),z=se(D,1);for(D=se(D,2),N=se(N,2);!X(D);){var C=z.add(D);C.l(A)<=0&&(M=M.add(N),z=C),D=se(D,1),N=se(N,1)}return S=K(A,M.j(S)),new ae(M,S)}for(M=w;A.l(S)>=0;){for(N=Math.max(1,Math.floor(A.m()/S.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),z=_(N),C=z.j(S);te(C)||C.l(A)>0;)N-=D,z=_(N),C=z.j(S);X(z)&&(z=R),M=M.add(z),A=K(A,C)}return new ae(M,A)}s.B=function(A){return ge(this,A).h},s.and=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let D=0;D<S;D++)N[D]=this.i(D)&A.i(D);return new d(N,this.h&A.h)},s.or=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let D=0;D<S;D++)N[D]=this.i(D)|A.i(D);return new d(N,this.h|A.h)},s.xor=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let D=0;D<S;D++)N[D]=this.i(D)^A.i(D);return new d(N,this.h^A.h)};function Re(A){const S=A.g.length+1,N=[];for(let D=0;D<S;D++)N[D]=A.i(D)<<1|A.i(D-1)>>>31;return new d(N,A.h)}function se(A,S){const N=S>>5;S%=32;const D=A.g.length-N,M=[];for(let z=0;z<D;z++)M[z]=S>0?A.i(z+N)>>>S|A.i(z+N+1)<<32-S:A.i(z+N);return new d(M,A.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,_b=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=x,Xs=d}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vb,El,bb,ju,cm,Eb,Tb,xb;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var m=0;m<c.length;++m){var b=c[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function l(c,m){if(m)e:{var b=a;c=c.split(".");for(var T=0;T<c.length-1;T++){var j=c[T];if(!(j in b))break e;b=b[j]}c=c[c.length-1],T=b[c],m=m(T),m!=T&&m!=null&&e(b,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function v(c,m,b){return c.call.apply(c.bind,arguments)}function _(c,m,b){return _=v,_.apply(null,arguments)}function x(c,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function w(c,m){function b(){}b.prototype=m.prototype,c.Z=m.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,j,B){for(var ie=Array(arguments.length-2),we=2;we<arguments.length;we++)ie[we-2]=arguments[we];return m.prototype[j].apply(T,ie)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=c[T];return b}return[]}function X(c,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var b=typeof j;if(b=b!="object"?b:j?Array.isArray(j)?"array":b:"null",b=="array"||b=="object"&&typeof j.length=="number"){b=c.length||0;const B=j.length||0;c.length=b+B;for(let ie=0;ie<B;ie++)c[b+ie]=j[ie]}else c.push(j)}}class te{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(c){d.setTimeout(()=>{throw c},0)}function K(){var c=A;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Z{constructor(){this.h=this.g=null}add(m,b){const T=ae.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new te(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,se=!1,A=new Z,S=()=>{const c=Promise.resolve(void 0);Re=()=>{c.then(N)}};function N(){for(var c;c=K();){try{c.h.call(c.g)}catch(b){G(b)}var m=ae;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}se=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function tt(c,m){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(tt,M),tt.prototype.init=function(c,m){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(b=="mouseover"?m=c.fromElement:b=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(c,m,b,T,j){this.listener=c,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=j,this.key=++F,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,m,b){for(const T in c)m.call(b,c[T],T,c)}function Ge(c,m){for(const b in c)m.call(void 0,c[b],b,c)}function k(c){const m={};for(const b in c)m[b]=c[b];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,m){let b,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(b in T)c[b]=T[b];for(let B=0;B<$.length;B++)b=$[B],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,m,b,T,j){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const ie=Se(c,m,T,j);return ie>-1?(m=c[ie],b||(m.fa=!1)):(m=new re(m,this.src,B,!!T,j),m.fa=b,c.push(m)),m};function ye(c,m){const b=m.type;if(b in c.g){var T=c.g[b],j=Array.prototype.indexOf.call(T,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(T,j,1),B&&(de(m),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Se(c,m,b,T){for(let j=0;j<c.length;++j){const B=c[j];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function ot(c,m,b,T,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(c,m[B],b,T,j);return null}return b=mo(b),c&&c[ft]?c.J(m,b,p(T)?!!T.capture:!1,j):sr(c,m,b,!1,T,j)}function sr(c,m,b,T,j,B){if(!m)throw Error("Invalid event type");const ie=p(j)?!!j.capture:!!j;let we=rr(c);if(we||(c[Ue]=we=new oe(c)),b=we.add(m,b,T,ie,B),b.proxy)return b;if(T=Jr(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)z||(j=ie),j===void 0&&(j=!1),c.addEventListener(m.toString(),T,j);else if(c.attachEvent)c.attachEvent(ni(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Jr(){function c(b){return m.call(c.src,c.listener,b)}const m=ho;return c}function Zr(c,m,b,T,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zr(c,m[B],b,T,j);else T=p(T)?!!T.capture:!!T,b=mo(b),c&&c[ft]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],b=Se(m,b,T,j),b>-1&&(de(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=rr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Se(m,b,T,j)),(b=c>-1?m[c]:null)&&Wr(b))}function Wr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ft])ye(m.i,c);else{var b=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(b,T,c.capture):m.detachEvent?m.detachEvent(ni(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=rr(m))?(ye(b,c),b.h==0&&(b.src=null,m[Ue]=null)):de(c)}}}function ni(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function ho(c,m){if(c.da)c=!0;else{m=new tt(m,this);const b=c.listener,T=c.ha||c.src;c.fa&&Wr(c),c=b.call(T,m)}return c}function rr(c){return c=c[Ue],c instanceof oe?c:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(c){return typeof c=="function"?c:(c[fo]||(c[fo]=function(m){return c.handleEvent(m)}),c[fo])}function bt(){D.call(this),this.i=new oe(this),this.M=this,this.G=null}w(bt,D),bt.prototype[ft]=!0,bt.prototype.removeEventListener=function(c,m,b,T){Zr(this,c,m,b,T)};function Mt(c,m){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new M(m,c);else if(m instanceof M)m.target=m.target||c;else{var j=m;m=new M(T,c),ne(m,j)}j=!0;let B,ie;if(b)for(ie=b.length-1;ie>=0;ie--)B=m.g=b[ie],j=as(B,T,!0,m)&&j;if(B=m.g=c,j=as(B,T,!0,m)&&j,j=as(B,T,!1,m)&&j,b)for(ie=0;ie<b.length;ie++)B=m.g=b[ie],j=as(B,T,!1,m)&&j}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const b=c.g[m];for(let T=0;T<b.length;T++)de(b[T]);delete c.g[m],c.h--}}this.G=null},bt.prototype.J=function(c,m,b,T){return this.i.add(String(c),m,!1,b,T)},bt.prototype.K=function(c,m,b,T){return this.i.add(String(c),m,!0,b,T)};function as(c,m,b,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==b){const we=ie.listener,gt=ie.ha||ie.src;ie.fa&&ye(c.i,ie),j=we.call(gt,T)!==!1&&j}}return j&&!T.defaultPrevented}function zh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Zl(c){c.g=zh(()=>{c.g=null,c.i&&(c.i=!1,Zl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends D{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(c){D.call(this),this.h=c,this.g={}}w(ar,D);var po=[];function go(c){je(c.g,function(m,b){this.g.hasOwnProperty(b)&&Wr(m)},c),c.g={}}ar.prototype.N=function(){ar.Z.N.call(this),go(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,jh=d.JSON.parse,Wl=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ec(){}function tc(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){M.call(this,"d")}w(qt,M);function wn(){M.call(this,"c")}w(wn,M);var pt={},nc=null;function ea(){return nc=nc||new bt}pt.Ia="serverreachability";function ic(c){M.call(this,pt.Ia,c)}w(ic,M);function ii(c){const m=ea();Mt(m,new ic(m))}pt.STAT_EVENT="statevent";function or(c,m){M.call(this,pt.STAT_EVENT,c),this.stat=m}w(or,M);function Et(c){const m=ea();Mt(m,new or(m,c))}pt.Ja="timingevent";function si(c,m){M.call(this,pt.Ja,c),this.size=m}w(si,M);function ri(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Lh(c,m,b,T,j,B){c.info(function(){if(c.g)if(B){var ie="",we=B.split("&");for(let Fe=0;Fe<we.length;Fe++){var gt=we[Fe].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Cn=lt.split("_");ie=Cn.length>=2&&Cn[1]=="type"?ie+(lt+"="+gt+"&"):ie+(lt+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+b+`
`+ie})}function sc(c,m,b,T,j,B,ie){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+b+`
`+B+" "+ie})}function ai(c,m,b,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(c,b)+(T?" "+T:"")})}function lr(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Uh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var b=B[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return os(B)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function ur(){}w(ur,ec),ur.prototype.g=function(){return new XMLHttpRequest},_o=new ur;function Oi(c){return encodeURIComponent(String(c))}function rc(c){var m=1;c=c.split(":");const b=[];for(;m>0&&c.length;)b.push(c.shift()),m--;return c.length&&b.push(c.join(":")),b}function qn(c,m,b,T){this.j=c,this.i=m,this.l=b,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function oi(c,m,b){c.M=1,c.A=hr(St(m)),c.u=b,c.R=!0,ta(c,null)}function ta(c,m){c.F=Date.now(),li(c),c.B=St(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),ra(b.i,"t",T),c.C=0,b=c.j.L,c.h=new Hn,c.g=bc(c.j,b?m:null,!c.u),c.P>0&&(c.O=new nn(_(c.Y,c,c.g),c.P)),m=c.V,b=c.g,T=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(po[0]=j.toString()),j=po);for(let B=0;B<j.length;B++){const ie=ot(b,j[B],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),Lh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Qn(this.g),gt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||gt==7||(gt==8||Fe<=0?ii(3):ii(2)),ci(this);var m=this.g.ca();this.X=m;var b=Ph(this);if(this.o=m==200,sc(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break t}}B=null}if(c=B)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,c);else{this.o=!1,this.m=3,Et(12),pn(this),An(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=oc(this,b),lt==Lt){we==4&&(this.m=4,Et(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),ai(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,lt,null),ui(this,lt);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||b.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,b,"[Invalid Chunked Response]"),pn(this),An(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Oo(ie),ie.P=!0,Et(11))}}else ai(this.i,this.l,b,null),ui(this,b);we==4&&pn(this),this.o&&!this.K&&(we==4?gc(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),An(this)}}}catch{}};function Ph(c){if(!ac(c))return c.g.la();const m=Ht(c.g);if(m==="")return"";let b="";const T=m.length,j=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),An(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<T;B++)c.h.h=!0,b+=c.h.i.decode(m[B],{stream:!(j&&B==T-1)});return m.length=0,c.h.g+=b,c.C=0,c.h.g}function ac(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function oc(c,m){var b=c.C,T=m.indexOf(`
`,b);return T==-1?Lt:(b=Number(m.substring(b,T)),isNaN(b)?Tt:(T+=1,T+b>m.length?Lt:(m=m.slice(T,T+b),c.C=T+b,m)))}qn.prototype.cancel=function(){this.K=!0,pn(this)};function li(c){c.T=Date.now()+c.H,na(c,c.H)}function na(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(_(c.aa,c),m)}function ci(c){c.D&&(d.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ii(),Et(17)),pn(this),this.m=2,An(this)):na(this,this.T-c)};function An(c){c.j.I==0||c.K||gc(c.j,c)}function pn(c){ci(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,go(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ui(c,m){try{var b=c.j;if(b.I!=0&&(b.g==c||fi(b.h,c))){if(!c.L&&fi(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)ua(b),ps(b);else break e;_r(b),Et(18)}}else b.xa=j[1],0<b.xa-b.K&&j[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ri(_(b.Va,b),6e3));hi(b.h)<=1&&b.ta&&(b.ta=void 0)}else _i(b,11)}else if((c.L||b.g==c)&&ua(b),!C(m))for(j=b.Ba.g.parse(m),m=0;m<j.length;m++){let Fe=j[m];const lt=Fe[0];if(!(lt<=b.K))if(b.K=lt,Fe=Fe[1],b.I==2)if(Fe[0]=="c"){b.M=Fe[1],b.ba=Fe[2];const Cn=Fe[3];Cn!=null&&(b.ka=Cn,b.j.info("VER="+b.ka));const vi=Fe[4];vi!=null&&(b.za=vi,b.j.info("SVER="+b.za));const Kn=Fe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Yn=c.g;if(Yn){const vr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var B=T.h;B.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const ha=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(T.wa=ha,Ye(T.J,T.G,ha))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ie=c;if(T.na=vc(T,T.L?T.ba:null,T.W),ie.L){To(T.h,ie);var we=ie,gt=T.O;gt&&(we.H=gt),we.D&&(ci(we),li(we)),T.g=ie}else mc(T);b.i.length>0&&yi(b)}else Fe[0]!="stop"&&Fe[0]!="close"||_i(b,7);else b.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?_i(b,7):Do(b):Fe[0]!="noop"&&b.l&&b.l.qa(Fe),b.A=0)}}ii(4)}catch{}}var xt=class{constructor(c,m){this.g=c,this.map=m}};function vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Eo(c,m){c.g?c.g.add(m):c.h=m}function To(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}vo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const b of c.g.values())m=m.concat(b.G);return m}return H(c.i)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(c,m){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let j,B=null;T>=0?(j=c[b].substring(0,T),B=c[b].substring(T+1)):j=c[b],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,So(this,fc(c.i)),this.m=c.m):c&&(m=String(c).match(lc))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),ls(this,m[4]),this.h=di(m[5]||"",!0),So(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(fr(m,sa,!0),":");var b=this.g;return(b||m=="file")&&(c.push("//"),(m=this.o)&&c.push(fr(m,sa,!0),"@"),c.push(Oi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(fr(b,b.charAt(0)=="/"?wo:cc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",fr(b,uc)),c.join("")},gn.prototype.resolve=function(c){const m=St(this);let b=!!c.j;b?Ut(m,c.j):b=!!c.o,b?m.o=c.o:b=!!c.g,b?m.g=c.g:b=c.u!=null;var T=c.h;if(b)ls(m,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ie=0;ie<j.length;){const we=j[ie++];we=="."?T&&ie==j.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ie==j.length&&B.push("")):(B.push(we),T=!0)}T=B.join("/")}else T=j}return b?m.h=T:b=c.i.toString()!=="",b?So(m,fc(c.i)):b=!!c.m,b&&(m.m=c.m),m};function St(c){return new gn(c)}function Ut(c,m,b){c.j=b?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function So(c,m,b){m instanceof us?(c.i=m,aa(c.i,c.l)):(b||(m=fr(m,cs)),c.i=new us(m,c.l))}function Ye(c,m,b){c.i.set(m,b)}function hr(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fr(c,m,b){return typeof c=="string"?(c=encodeURI(c).replace(m,on),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sa=/[#\/\?@]/g,cc=/[#\?:]/g,wo=/[#\?]/g,cs=/[#\?@]/g,uc=/#/g;function us(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ia(c.i,function(m,b){c.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=us.prototype,s.add=function(c,m){ln(this),this.i=null,c=hs(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(m),this.h+=1,this};function hc(c,m){ln(c),m=hs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ao(c,m){return ln(c),m=hs(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(b,T){b.forEach(function(j){c.call(m,j,T,this)},this)},this)};function No(c,m){ln(c);let b=[];if(typeof m=="string")Ao(c,m)&&(b=b.concat(c.g.get(hs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)b=b.concat(c[m]);return b}s.set=function(c,m){return ln(this),this.i=null,c=hs(this,c),Ao(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=No(this,c),c.length>0?String(c[0]):m):m};function ra(c,m,b){hc(c,m),b.length>0&&(c.i=null,c.g.set(hs(c,m),H(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const j=Oi(b);b=No(this,b);for(let B=0;B<b.length;B++){let ie=j;b[B]!==""&&(ie+="="+Oi(b[B])),c.push(ie)}}return this.i=c.join("&")};function fc(c){const m=new us;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function hs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function aa(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(b,T){const j=T.toLowerCase();T!=j&&(hc(this,T),ra(this,j,b))},c)),c.j=m}function Gn(c,m){const b=new Bn;if(d.Image){const T=new Image;T.onload=x(Nn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=x(Nn,b,"TestLoadImage: error",!1,m,T),T.onabort=x(Nn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(Nn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Ro(c,m){const b=new Bn,T=new AbortController,j=setTimeout(()=>{T.abort(),Nn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(B=>{clearTimeout(j),B.ok?Nn(b,"TestPingServer: ok",!0,m):Nn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Nn(b,"TestPingServer: error",!1,m)})}function Nn(c,m,b,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(b)}catch{}}function fs(){this.g=new Wl}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(mi,ec),mi.prototype.g=function(){return new dr(this.i,this.h)};function dr(c,m){bt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(dr,bt),s=dr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ds(this):Fn(this),this.readyState==3&&oa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ds(this))},s.Na=function(c){this.g&&(this.response=c,ds(this))},s.ga=function(){this.g&&ds(this)};function ds(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let m="";return je(c,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function mr(c,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Rn(b),typeof c=="string"?b!=null&&Oi(b):Ye(c,m,b))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,bt);var pi=/^https?$/i,Co=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=R(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){pr(this,B);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)b.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of b)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){pr(this,B)}};function pr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Io(c),ki(c)}function Io(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},s.Xa=function(){gr(this)};function gr(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let ie=String(c.D).match(lc)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),T=!pi.test(ie?ie.toLowerCase():"")}b=T}if(b)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var j=Qn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Io(c)}}finally{ki(c)}}}}function ki(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,m||Mt(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),jh(m)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(C(c[T]))continue;var b=rc(c[T]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[j]||[];m[j]=B,B.push(b)}Ge(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||m}function ms(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(c&&c.concurrentRequestLimit),this.Ba=new fs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ms.prototype,s.ka=8,s.I=1,s.connect=function(c,m,b,T){Et(0),this.W=c,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=vc(this,null,this.W),yi(this)};function Do(c){if(la(c),c.I==3){var m=c.V++,b=St(c.J);if(Ye(b,"SID",c.M),Ye(b,"RID",m),Ye(b,"TYPE","terminate"),yr(c,b),m=new qn(c,c.j,m),m.M=2,m.A=hr(St(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=bc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}_c(c)}function ps(c){c.g&&(Oo(c),c.g.cancel(),c.g=null)}function la(c){ps(c),c.v&&(d.clearTimeout(c.v),c.v=null),ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function yi(c){if(!bo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Re||S(),se||(Re(),se=!0),A.add(m,c),c.D=0}}function ca(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(_(c.Ea,c,m),yc(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new qn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=k(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=dc(this,j,m),b=St(this.J),Ye(b,"RID",c),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),yr(this,b),B&&(this.R?m="headers="+Oi(Rn(B))+"&"+m:this.u&&mr(b,this.u,B)),Eo(this.h,j),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",m),Ye(b,"SID","null"),j.U=!0,oi(j,b,null)):oi(j,b,m),this.I=2}}else this.I==3&&(c?Mo(this,c):this.i.length==0||bo(this.h)||Mo(this))};function Mo(c,m){var b;m?b=m.l:b=c.V++;const T=St(c.J);Ye(T,"SID",c.M),Ye(T,"RID",b),Ye(T,"AID",c.K),yr(c,T),c.u&&c.o&&mr(T,c.u,c.o),b=new qn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),m&&(c.i=m.G.concat(c.i)),m=dc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Eo(c.h,b),oi(b,T,m)}function yr(c,m){c.H&&je(c.H,function(b,T){Ye(m,T,b)}),c.l&&je({},function(b,T){Ye(m,T,b)})}function dc(c,m,b){b=Math.min(c.i.length,b);const T=c.l?_(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const gt=["count="+b];we==-1?b>0?(we=j[0].g,gt.push("ofs="+we)):we=0:gt.push("ofs="+we);let Fe=!0;for(let lt=0;lt<b;lt++){var B=j[lt].g;const Cn=j[lt].map;if(B-=we,B<0)we=Math.max(0,j[lt].g-100),Fe=!1;else try{B="req"+B+"_"||"";try{var ie=Cn instanceof Map?Cn:Object.entries(Cn);for(const[vi,Kn]of ie){let Yn=Kn;p(Kn)&&(Yn=os(Kn)),gt.push(B+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw gt.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(Cn)}}if(Fe){ie=gt.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),m.G=c,ie}function mc(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Re||S(),se||(Re(),se=!0),A.add(m,c),c.A=0}}function _r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(_(c.Da,c),yc(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,pc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ps(this),pc(this))};function Oo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function pc(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=St(c.na);Ye(m,"RID","rpc"),Ye(m,"SID",c.M),Ye(m,"AID",c.K),Ye(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(m,"TO",c.ia),Ye(m,"TYPE","xmlhttp"),yr(c,m),c.u&&c.o&&mr(m,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=hr(St(m)),b.u=null,b.R=!0,ta(b,c)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),_r(this),Et(19))};function ua(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function gc(c,m){var b=null;if(c.g==m){ua(c),Oo(c),c.g=null;var T=2}else if(fi(c.h,m))b=m.G,To(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;T=ea(),Mt(T,new si(T,b)),yi(c)}else mc(c);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&ca(c,m)||T==2&&_r(c)))switch(b&&b.length>0&&(m=c.h,m.i=m.i.concat(b)),j){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function yc(c,m){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var b=_(c.bb,c),T=c.Ua;const j=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(T,"https"),hr(T),j?Gn(T.toString(),b):Ro(T.toString(),b)}else Et(2);c.I=0,c.l&&c.l.pa(m),_c(c),la(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function _c(c){if(c.I=0,c.ja=[],c.l){const m=xo(c.h);(m.length!=0||c.i.length!=0)&&(X(c.ja,m),X(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function vc(c,m,b){var T=b instanceof gn?St(b):new gn(b);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new gn(null);T&&Ut(B,T),m&&(B.g=m),j&&ls(B,j),b&&(B.h=b),T=B}return b=c.G,m=c.wa,b&&m&&Ye(T,b,m),Ye(T,"VER",c.ka),yr(c,T),T}function bc(c,m,b){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new mi({ab:b})):new Je(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}s=Ec.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){bt.call(this),this.g=new ms(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}w(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Do(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=os(c),c=b);m.i.push(new xt(m.Ya++,c)),m.I==3&&yi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,sn.Z.N.call(this)};function Tc(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const b in m){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Tc,qt);function xc(){wn.call(this),this.status=1}w(xc,wn);function zi(c){this.g=c}w(zi,Ec),zi.prototype.ra=function(){Mt(this.g,"a")},zi.prototype.qa=function(c){Mt(this.g,new Tc(c))},zi.prototype.pa=function(c){Mt(this.g,new xc)},zi.prototype.oa=function(){Mt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,xb=function(){return new gs},Tb=function(){return ea()},Eb=pt,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,ju=cr,yo.COMPLETE="complete",bb=yo,tc.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,El=tc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,vb=Je}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let oo="12.9.0";function _A(s){oo=s}const Gr=new Rm("@firebase/firestore");function Ba(){return Gr.logLevel}function ce(s,...e){if(Gr.logLevel<=ke.DEBUG){const i=e.map(Lm);Gr.debug(`Firestore (${oo}): ${s}`,...i)}}function is(s,...e){if(Gr.logLevel<=ke.ERROR){const i=e.map(Lm);Gr.error(`Firestore (${oo}): ${s}`,...i)}}function Fr(s,...e){if(Gr.logLevel<=ke.WARN){const i=e.map(Lm);Gr.warn(`Firestore (${oo}): ${s}`,...i)}}function Lm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Sb(s,a,i)}function Sb(s,e,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw is(a),new Error(a)}function Ke(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Sb(e,l,a)}function xe(s,e){return s}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class wb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Wt.UNAUTHENTICATED)))}shutdown(){}}class bA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class EA{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ke(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new wb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class TA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new TA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ke(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ke(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new b_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=wA(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=e.charAt(l[u]%62))}return a}}function Ve(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),u=e.charAt(a);if(l!==u)return Yd(l)===Yd(u)?Ve(l,u):Yd(l)?1:-1}return Ve(s.length,e.length)}const AA=55296,NA=57343;function Yd(s){const e=s.charCodeAt(0);return e>=AA&&e<=NA}function Wa(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const E_="__name__";class Si{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const u=Si.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ve(e.length,i.length)}static compareSegments(e,i){const a=Si.isNumericId(e),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(e).compare(Si.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class rt extends Si{construct(e,i,a){return new rt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new rt(i)}static emptyPath(){return new rt([])}}const RA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Si{construct(e,i,a){return new Xt(e,i,a)}static isValidIdentifier(e){return RA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new Xt([E_])}static fromServerFormat(e){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(u(),l++)}if(u(),d)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(i)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}function Ab(s,e,i){if(!i)throw new fe(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function CA(s,e,i,a){if(e===!0&&a===!0)throw new fe(ee.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function T_(s){if(!pe.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function x_(s){if(pe.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Nb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Pm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function Ur(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(s);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function It(s,e){const i={typeString:s};return e&&(i.value=e),i}function Kl(s,e){if(!Nb(s))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new fe(ee.INVALID_ARGUMENT,i);return!0}const S_=-62135596800,w_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*w_);return new at(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<S_)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:It("string",at._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function IA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(a===1e9?new at(i+1,0):new at(i,a));return new Zs(l,pe.empty(),e)}function DA(s){return new Zs(s.readTime,s.key,kl)}class Zs{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Zs(Ee.min(),pe.empty(),kl)}static max(){return new Zs(Ee.max(),pe.empty(),kl)}}function MA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:Ve(s.largestBatchId,e.largestBatchId))}const OA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lo(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==OA)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,a)=>{i(e)}))}static reject(e){return new W(((i,a)=>{a(e)}))}static waitFor(e){return new W(((i,a)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(v=>a(v)))})),d=!0,u===l&&i()}))}static or(e){let i=W.resolve(!1);for(const a of e)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(e,i){return new W(((a,l)=>{const u=e.length,d=new Array(u);let p=0;for(let v=0;v<u;v++){const _=v;i(e[_]).next((x=>{d[_]=x,++p,p===u&&a(d)}),(x=>l(x)))}}))}static doWhile(e,i){return new W(((a,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):a()};u()}))}}function VA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const Bm=-1;function xh(s){return s==null}function th(s){return s===0&&1/s==-1/0}function zA(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Rb="";function jA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=A_(e)),e=LA(s.get(i),e);return A_(e)}function LA(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case Rb:i+="";break;default:i+=u}}return i}function A_(s){return s+Rb+""}function N_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Kr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Cb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||Yt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?a(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,i,a,l,u){this.key=e,this.value=i,this.color=a??Yt.RED,this.left=l??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,u){return new Yt(e??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,u){return this}insert(e,i,a){return new Yt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(e){return new R_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class R_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new ei([])}unionWith(e){let i=new jt(Xt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ei(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ib("Invalid base64 string: "+u):u}})(e);return new $t(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new $t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const UA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const i=UA.exec(s);if(Ke(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function er(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}const Db="server_timestamp",Mb="__type__",Ob="__previous_value__",kb="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[Mb]?.stringValue===Db}function Sh(s){const e=s.mapValue.fields[Ob];return qm(e)?Sh(e):e}function Vl(s){const e=Ws(s.mapValue.fields[kb].timestampValue);return new at(e.seconds,e.nanos)}class PA{constructor(e,i,a,l,u,d,p,v,_,x,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=x,this.apiKey=w}}const nh="(default)";class zl{constructor(e,i){this.projectId=e,this.database=i||nh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function BA(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(s.options.projectId,e)}const Vb="__type__",qA="__max__",Iu={mapValue:{}},zb="__vector__",ih="value";function tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:GA(s)?9007199254740991:HA(s)?10:11:ve(28295,{value:s})}function Di(s,e){if(s===e)return!0;const i=tr(s);if(i!==tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Vl(s).isEqual(Vl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Ws(l.timestampValue),p=Ws(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return er(l.bytesValue).isEqual(er(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return vt(l.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(l.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return vt(l.integerValue)===vt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=vt(l.doubleValue),p=vt(u.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Wa(s.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(N_(d)!==N_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Di(d[v],p[v])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function jl(s,e){return(s.values||[]).find((i=>Di(i,e)))!==void 0}function eo(s,e){if(s===e)return 0;const i=tr(s),a=tr(e);if(i!==a)return Ve(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=vt(u.integerValue||u.doubleValue),v=vt(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return C_(s.timestampValue,e.timestampValue);case 4:return C_(Vl(s),Vl(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=er(u),v=er(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const x=Ve(p[_],v[_]);if(x!==0)return x}return Ve(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ve(vt(u.latitude),vt(d.latitude));return p!==0?p:Ve(vt(u.longitude),vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return I_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},v=d.fields||{},_=p[ih]?.arrayValue,x=v[ih]?.arrayValue,w=Ve(_?.values?.length||0,x?.values?.length||0);return w!==0?w:I_(_,x)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Iu.mapValue&&d===Iu.mapValue)return 0;if(u===Iu.mapValue)return 1;if(d===Iu.mapValue)return-1;const p=u.fields||{},v=Object.keys(p),_=d.fields||{},x=Object.keys(_);v.sort(),x.sort();for(let w=0;w<v.length&&w<x.length;++w){const R=um(v[w],x[w]);if(R!==0)return R;const H=eo(p[v[w]],_[x[w]]);if(H!==0)return H}return Ve(v.length,x.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function C_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const i=Ws(s),a=Ws(e),l=Ve(i.seconds,a.seconds);return l!==0?l:Ve(i.nanos,a.nanos)}function I_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=eo(i[l],a[l]);if(u)return u}return Ve(i.length,a.length)}function to(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ws(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=hm(u);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Lu(s){switch(tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(s);return e?16+Lu(e):16;case 5:return 2*s.stringValue.length;case 6:return er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Lu(u)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Kr(a.fields,((u,d)=>{l+=u.length+Lu(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function D_(s){return!!s&&"nullValue"in s}function M_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uu(s){return!!s&&"mapValue"in s}function HA(s){return(s?.mapValue?.fields||{})[Vb]?.stringValue===zb}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Kr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Rl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return e}return{...s}}function GA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===qA}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(i)}setAll(e){let i=Xt.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(e){const i=this.field(e.popLast());Uu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Uu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Kr(i,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new Ln(Rl(this.value))}}function jb(s){const e=[];return Kr(s.fields,((i,a)=>{const l=new Xt([i]);if(Uu(a)){const u=jb(a.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new ei(e)}class en{constructor(e,i,a,l,u,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Ee.min(),Ee.min(),Ee.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,l){return new en(e,1,i,Ee.min(),a,l,0)}static newNoDocument(e,i){return new en(e,2,i,Ee.min(),Ee.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new en(e,3,i,Ee.min(),Ee.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function O_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=eo(d,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function k_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],e.position[i]))return!1;return!0}class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function FA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Lb{}class kt extends Lb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new KA(e,i,a):i==="array-contains"?new $A(e,a):i==="in"?new JA(e,a):i==="not-in"?new ZA(e,a):i==="array-contains-any"?new WA(e,a):new kt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new YA(e,a):new XA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&tr(this.value)===tr(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends Lb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return Ub(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ub(s){return s.op==="and"}function Pb(s){return QA(s)&&Ub(s)}function QA(s){for(const e of s.filters)if(e instanceof Mi)return!1;return!0}function dm(s){if(s instanceof kt)return s.field.canonicalString()+s.op.toString()+to(s.value);if(Pb(s))return s.filters.map((e=>dm(e))).join(",");{const e=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${e})`}}function Bb(s,e){return s instanceof kt?(function(a,l){return l instanceof kt&&a.op===l.op&&a.field.isEqual(l.field)&&Di(a.value,l.value)})(s,e):s instanceof Mi?(function(a,l){return l instanceof Mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,p)=>u&&Bb(d,l.filters[p])),!0):!1})(s,e):void ve(19439)}function qb(s){return s instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(s):s instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(qb).join(" ,")+"}"})(s):"Filter"}class KA extends kt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class YA extends kt{constructor(e,i){super(e,"in",i),this.keys=Hb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class XA extends kt{constructor(e,i){super(e,"not-in",i),this.keys=Hb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Hb(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class $A extends kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hm(i)&&jl(i.arrayValue,this.value)}}class JA extends kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class ZA extends kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class WA extends kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class eN{constructor(e,i=null,a=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function V_(s,e=null,i=[],a=[],l=null,u=null,d=null){return new eN(s,e,i,a,l,u,d)}function Gm(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>dm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>to(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>to(a))).join(",")),e.Te=i}return e.Te}function Fm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!FA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Bb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!k_(s.startAt,e.startAt)&&k_(s.endAt,e.endAt)}function mm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wh{constructor(e,i=null,a=[],l=[],u=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tN(s,e,i,a,l,u,d,p){return new wh(s,e,i,a,l,u,d,p)}function Qm(s){return new wh(s)}function z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function nN(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function iN(s){return s.collectionGroup!==null}function Cl(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new jt(Xt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new rh(u,a))})),i.has(Xt.keyField().canonicalString())||e.Ie.push(new rh(Xt.keyField(),a))}return e.Ie}function Ni(s){const e=xe(s);return e.Ee||(e.Ee=sN(e,Cl(s))),e.Ee}function sN(s,e){if(s.limitType==="F")return V_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new rh(l.field,u)}));const i=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return V_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function pm(s,e,i){return new wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ah(s,e){return Fm(Ni(s),Ni(e))&&s.limitType===e.limitType}function Gb(s){return`${Gm(Ni(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>qb(l))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${a})`})(Ni(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):pe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(s,e)&&(function(a,l){for(const u of Cl(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=O_(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,p,v){const _=O_(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Cl(a),l))})(s,e)}function rN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Fb(s){return(e,i)=>{let a=!1;for(const l of Cl(s)){const u=aN(l,e,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function aN(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(u,d,p){const v=d.data.field(u),_=p.data.field(u);return v!==null&&_!==null?eo(v,_):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class Yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,((i,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return Cb(this.inner)}size(){return this.innerSize}}const oN=new ht(pe.comparator);function ss(){return oN}const Qb=new ht(pe.comparator);function Tl(...s){let e=Qb;for(const i of s)e=e.insert(i.key,i);return e}function Kb(s){let e=Qb;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function zr(){return Il()}function Yb(){return Il()}function Il(){return new Yr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const lN=new ht(pe.comparator),cN=new jt(pe.comparator);function ze(...s){let e=cN;for(const i of s)e=e.add(i);return e}const uN=new jt(Ve);function hN(){return uN}function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function Xb(s){return{integerValue:""+s}}function fN(s,e){return zA(e)?Xb(e):Km(s,e)}class Rh{constructor(){this._=void 0}}function dN(s,e,i){return s instanceof ah?(function(l,u){const d={fields:{[Mb]:{stringValue:Db},[kb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&qm(u)&&(u=Sh(u)),u&&(d.fields[Ob]=u),{mapValue:d}})(i,e):s instanceof Ll?Jb(s,e):s instanceof Ul?Zb(s,e):(function(l,u){const d=$b(l,u),p=j_(d)+j_(l.Ae);return fm(d)&&fm(l.Ae)?Xb(p):Km(l.serializer,p)})(s,e)}function mN(s,e,i){return s instanceof Ll?Jb(s,e):s instanceof Ul?Zb(s,e):i}function $b(s,e){return s instanceof oh?(function(a){return fm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class ah extends Rh{}class Ll extends Rh{constructor(e){super(),this.elements=e}}function Jb(s,e){const i=Wb(e);for(const a of s.elements)i.some((l=>Di(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends Rh{constructor(e){super(),this.elements=e}}function Zb(s,e){let i=Wb(e);for(const a of s.elements)i=i.filter((l=>!Di(l,a)));return{arrayValue:{values:i}}}class oh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function j_(s){return vt(s.integerValue||s.doubleValue)}function Wb(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function pN(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Ll&&l instanceof Ll||a instanceof Ul&&l instanceof Ul?Wa(a.elements,l.elements,Di):a instanceof oh&&l instanceof oh?Di(a.Ae,l.Ae):a instanceof ah&&l instanceof ah})(s.transform,e.transform)}class gN{constructor(e,i){this.version=e,this.transformResults=i}}class Ri{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function e1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,Ri.none()):new Yl(s.key,s.data,Ri.none());{const i=s.data,a=Ln.empty();let l=new jt(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new Xr(s.key,a,new ei(l.toArray()),Ri.none())}}function yN(s,e,i){s instanceof Yl?(function(l,u,d){const p=l.value.clone(),v=U_(l.fieldTransforms,u,d.transformResults);p.setAll(v),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Xr?(function(l,u,d){if(!Pu(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=U_(l.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(t1(l)),v.setAll(p),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Dl(s,e,i,a){return s instanceof Yl?(function(u,d,p,v){if(!Pu(u.precondition,d))return p;const _=u.value.clone(),x=P_(u.fieldTransforms,v,d);return _.setAll(x),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Xr?(function(u,d,p,v){if(!Pu(u.precondition,d))return p;const _=P_(u.fieldTransforms,v,d),x=d.data;return x.setAll(t1(u)),x.setAll(_),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(u,d,p){return Pu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function _N(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),u=$b(a.transform,l||null);u!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,u))}return i||null}function L_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((u,d)=>pN(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yl extends Ch{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xr extends Ch{constructor(e,i,a,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function t1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function U_(s,e,i){const a=new Map;Ke(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);a.set(u.field,mN(d,p,i[l]))}return a}function P_(s,e,i){const a=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);a.set(l.field,dN(u,d,e))}return a}class Ym extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vN extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bN{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&yN(u,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Dl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Dl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Yb();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const v=e1(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((i,a)=>L_(i,a)))&&Wa(this.baseMutations,e.baseMutations,((i,a)=>L_(i,a)))}}class Xm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return lN})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Xm(e,i,a,l)}}class EN{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TN{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,Pe;function xN(s){switch(s){case ee.OK:return ve(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function n1(s){if(s===void 0)return is("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return ve(39323,{code:s})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function SN(){return new TextEncoder}const wN=new Xs([4294967295,4294967295],0);function B_(s){const e=SN().encode(s),i=new _b;return i.update(e),new Uint8Array(i.digest())}function q_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xs([i,a],0),new Xs([l,u],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Xs.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Xs.fromNumber(a)));return l.compare(wN)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=B_(e),[a,l]=q_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new $m(u,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=B_(e),[a,l]=q_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,i,a,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ih(Ee.min(),l,new ht(Ve),ss(),ze())}}class Xl{constructor(e,i,a,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,ze(),ze(),ze())}}class Bu{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class i1{constructor(e,i){this.targetId=e,this.Ce=i}}class s1{constructor(e,i,a=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class H_{constructor(){this.ve=0,this.Fe=G_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:u})}})),new Xl(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=G_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class AN{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.He=Du(),this.Je=Du(),this.Ze=new ht(Ve)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(mm(u))if(a===0){const d=new pe(u.path);this.et(i,d,en.newNoDocument(d,Ee.min()))}else Ke(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=er(a).toUint8Array()}catch(v){if(v instanceof Ib)return Fr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new $m(d,l,u)}catch(v){return Fr(v instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&mm(p.target)){const v=new pe(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,en.newNoDocument(v,e))}u.Be&&(i.set(d,u.ke()),u.Ke())}}));let a=ze();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Ih(e,i,this.Ze,this.je,a);return this.je=ss(),this.He=Du(),this.Je=Du(),this.Ze=new ht(Ve),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new H_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new jt(Ve),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new jt(Ve),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new H_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Du(){return new ht(pe.comparator)}function G_(){return new ht(pe.comparator)}const NN={asc:"ASCENDING",desc:"DESCENDING"},RN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CN={and:"AND",or:"OR"};class IN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function lh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function DN(s,e){return lh(s,e.toTimestamp())}function Ci(s){return Ke(!!s,49232),Ee.fromTimestamp((function(i){const a=Ws(i);return new at(a.seconds,a.nanos)})(s))}function Jm(s,e){return ym(s,e).canonicalString()}function ym(s,e){const i=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function a1(s){const e=rt.fromString(s);return Ke(h1(e),10190,{key:e.toString()}),e}function _m(s,e){return Jm(s.databaseId,e.path)}function Xd(s,e){const i=a1(e);if(i.get(1)!==s.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(l1(i))}function o1(s,e){return Jm(s.databaseId,e)}function MN(s){const e=a1(s);return e.length===4?rt.emptyPath():l1(e)}function vm(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function l1(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function F_(s,e,i){return{name:_m(s,e),fields:i.value.mapValue.fields}}function ON(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,x){return _.useProto3Json?(Ke(x===void 0||typeof x=="string",58123),$t.fromBase64String(x||"")):(Ke(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),$t.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const x=_.code===void 0?ee.UNKNOWN:n1(_.code);return new fe(x,_.message||"")})(d);i=new s1(a,l,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(s,a.document.name),u=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):Ee.min(),p=new Ln({mapValue:{fields:a.document.fields}}),v=en.newFoundDocument(l,u,d,p),_=a.targetIds||[],x=a.removedTargetIds||[];i=new Bu(_,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Xd(s,a.document),u=a.readTime?Ci(a.readTime):Ee.min(),d=en.newNoDocument(l,u),p=a.removedTargetIds||[];i=new Bu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Xd(s,a.document),u=a.removedTargetIds||[];i=new Bu([],u,l,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new TN(l,u),p=a.targetId;i=new i1(p,d)}}return i}function kN(s,e){let i;if(e instanceof Yl)i={update:F_(s,e.key,e.value)};else if(e instanceof Ym)i={delete:_m(s,e.key)};else if(e instanceof Xr)i={update:F_(s,e.key,e.data),updateMask:HN(e.fieldMask)};else{if(!(e instanceof vN))return ve(16599,{dt:e.type});i={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:DN(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(s,e.precondition)),i}function VN(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Ci(l.updateTime):Ci(u);return d.isEqual(Ee.min())&&(d=Ci(u)),new gN(d,l.transformResults||[])})(i,e)))):[]}function zN(s,e){return{documents:[o1(s,e.path)]}}function jN(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=o1(s,l);const u=(function(_){if(_.length!==0)return u1(Mi.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((x=>(function(R){return{field:Ha(R.field),direction:PN(R.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=gm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function LN(s){let e=MN(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ke(a===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let u=[];i.where&&(u=(function(w){const R=c1(w);return R instanceof Mi&&Pb(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((R=>(function(X){return new rh(Ga(X.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let R;return R=typeof w=="object"?w.value:w,xh(R)?null:R})(i.limit));let v=null;i.startAt&&(v=(function(w){const R=!!w.before,H=w.values||[];return new sh(H,R)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const R=!w.before,H=w.values||[];return new sh(H,R)})(i.endAt)),tN(e,l,d,u,p,"F",v,_)}function UN(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function c1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(i.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return kt.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>c1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function PN(s){return NN[s]}function BN(s){return RN[s]}function qN(s){return CN[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Xt.fromServerFormat(s.fieldPath)}function u1(s){return s instanceof kt?(function(i){if(i.op==="=="){if(M_(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(D_(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(M_(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(D_(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:BN(i.op),value:i.value}}})(s):s instanceof Mi?(function(i){const a=i.getFilters().map((l=>u1(l)));return a.length===1?a[0]:{compositeFilter:{op:qN(i.op),filters:a}}})(s):ve(54877,{filter:s})}function HN(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function h1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function f1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Gs{constructor(e,i,a,l,u=Ee.min(),d=Ee.min(),p=$t.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GN{constructor(e){this.yt=e}}function FN(s){const e=LN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(e,e.limit,"L"):e}class QN{constructor(){this.Sn=new KN}addToCollectionParentIndex(e,i){return this.Sn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Zs.min())}updateCollectionGroup(e,i,a){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class KN{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new jt(rt.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new jt(rt.comparator)).toArray()}}const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d1=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(d1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class no{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new no(0)}static ar(){return new no(-1)}}const K_="LruGarbageCollector",YN=1048576;function Y_([s,e],[i,a]){const l=Ve(s,i);return l===0?Ve(e,a):l}class XN{constructor(e){this.Pr=e,this.buffer=new jt(Y_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $N{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(K_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?ce(K_,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Ar(3e5)}))}}class JN{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Th.ce);const a=new XN(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Q_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,u,d,p,v,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(u=w,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),Ba()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-x}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function ZN(s,e){return new JN(s,e)}class WN{constructor(){this.changes=new Yr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class tR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Dl(a.mutation,l,ei.empty(),at.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const l=zr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((u=>{let d=Tl();return u.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=zr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let u=ss();const d=Il(),p=(function(){return Il()})();return i.forEach(((v,_)=>{const x=a.get(_.key);l.has(_.key)&&(x===void 0||x.mutation instanceof Xr)?u=u.insert(_.key,_):x!==void 0?(d.set(_.key,x.mutation.getFieldMask()),Dl(x.mutation,_,x.mutation.getFieldMask(),at.now())):d.set(_.key,ei.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((_,x)=>d.set(_,x))),i.forEach(((_,x)=>p.set(_,new eR(x,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Il();let l=new ht(((d,p)=>d-p)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let x=a.get(v)||ei.empty();x=p.applyToLocalView(_,x),a.set(v,x);const w=(l.get(p.batchId)||ze()).add(v);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,x=v.value,w=Yb();x.forEach((R=>{if(!u.has(R)){const H=e1(i.get(R),a.get(R));H!==null&&w.set(R,H),u=u.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return nN(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):iN(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-u.size):W.resolve(zr());let p=kl,v=u;return d.next((_=>W.forEach(_,((x,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(x)?W.resolve():this.remoteDocumentCache.getEntry(e,x).next((R=>{v=v.insert(x,R)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,v,_,ze()))).next((x=>({batchId:p,changes:Kb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const u=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(e,u).next((p=>W.forEach(p,(v=>{const _=(function(w,R){return new wh(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((x=>{x.forEach(((w,R)=>{d=d.insert(w,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,u,l)))).next((d=>{u.forEach(((v,_)=>{const x=_.getKey();d.get(x)===null&&(d=d.insert(x,en.newInvalidDocument(x)))}));let p=Tl();return d.forEach(((v,_)=>{const x=u.get(v);x!==void 0&&Dl(x.mutation,_,ei.empty(),at.now()),Nh(i,_)&&(p=p.insert(v,_))})),p}))}}class nR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return W.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:FN(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),W.resolve()}}class iR{constructor(){this.overlays=new ht(pe.comparator),this.Lr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const a=zr();return W.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,u)=>{this.bt(e,i,u)})),W.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),W.resolve()}getOverlaysForCollection(e,i,a){const l=zr(),u=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&v.largestBatchId>a&&l.set(v.getKey(),v)}return W.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let u=new ht(((_,x)=>_-x));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let x=u.get(_.largestBatchId);x===null&&(x=zr(),u=u.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const p=zr(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,x)=>p.set(_,x))),!(p.size()>=l)););return W.resolve(p)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new EN(i,a));let u=this.Lr.get(i);u===void 0&&(u=ze(),this.Lr.set(i,u)),this.Lr.set(i,u.add(a.key))}}class sR{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class Zm{constructor(){this.kr=new jt(Bt.Kr),this.qr=new jt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Bt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Bt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new rt([])),a=new Bt(i,e),l=new Bt(i,e+1),u=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new rt([])),a=new Bt(i,e),l=new Bt(i,e+1);let u=ze();return this.qr.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Bt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Bt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||Ve(e.Hr,i.Hr)}static Ur(e,i){return Ve(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class rR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(Bt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bN(u,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Bt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Bm:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new jt(Ve);return i.forEach((l=>{const u=new Bt(l,0),d=new Bt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{a=a.add(p.Hr)}))})),W.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let u=a;pe.isDocumentKey(u)||(u=u.child(""));const d=new Bt(new pe(u),0);let p=new jt(Ve);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),W.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ke(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return W.forEach(i.mutations,(l=>{const u=new Bt(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Bt(i,0),l=this.Jr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class aR{constructor(e){this.ti=e,this.docs=(function(){return new ht(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():en.newInvalidDocument(i))}getEntries(e,i){let a=ss();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let u=ss();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:x}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||MA(DA(x),a)<=0||(l.has(x.key)||Nh(i,x))&&(u=u.insert(x.key,x.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ni(e,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new oR(this)}getSize(e){return W.resolve(this.size)}}class oR extends WN{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),W.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class lR{constructor(e){this.persistence=e,this.ri=new Yr((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new Zm,this.targetCount=0,this.oi=no._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),W.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new no(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.lr(i),W.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,a){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return W.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),W.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return W.resolve(a)}containsKey(e,i){return W.resolve(this.si.containsKey(i))}}class m1{constructor(e,i){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new sR,this.referenceDelegate=e(this),this.li=new lR(this),this.indexManager=new QN,this.remoteDocumentCache=(function(l){return new aR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new GN(i),this.Pi=new nR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new iR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new rR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const l=new cR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,i){return W.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class cR extends kA{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Ai=null}static Vi(e){return new Wm(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),W.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(a=>{const l=pe.fromPath(a);return this.mi(e,l).next((u=>{u||i.removeEntry(l,Ee.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.fi=new Yr((a=>jA(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=ZN(this,i)}static Vi(e,i){return new ch(e,i)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return W.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((u=>u?W.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),W.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lu(e.data.value)),i}wr(e,i,a){return W.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=ze(),l=ze();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ep(e,i.fromCache,a,l)}}class uR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Zx()?8:VA(tn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const u={result:null};return this.gs(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,i,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new uR;return this.ys(e,i,d).next((p=>{if(u.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>u.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Ba()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Ba()<=ke.DEBUG&&ce("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ba()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(i))):W.resolve())}gs(e,i){if(z_(i))return W.resolve(null);let a=Ni(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=pm(i,null,"F"),a=Ni(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=ze(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(e,pm(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,a,l){return z_(i)||l.isEqual(Ee.min())?W.resolve(null):this.fs.getDocuments(e,a).next((u=>{const d=this.bs(i,u);return this.Ss(i,d,a,l)?W.resolve(null):(Ba()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(e,d,i,IA(l,kl)).next((p=>p)))}))}bs(e,i){let a=new jt(Fb(e));return i.forEach(((l,u)=>{Nh(e,u)&&(a=a.add(u))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,i,a){return Ba()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(e,i,Zs.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const tp="LocalStore",fR=3e8;class dR{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new ht(Ve),this.Fs=new Yr((u=>Gm(u)),Fm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function mR(s,e,i,a){return new dR(s,e,i,a)}async function p1(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],p=[];let v=ze();for(const _ of l){d.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}for(const _ of u){p.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function pR(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,x){const w=_.batch,R=w.keys();let H=W.resolve();return R.forEach((X=>{H=H.next((()=>x.getEntry(v,X))).next((te=>{const G=_.docVersions.get(X);Ke(G!==null,48541),te.version.compareTo(G)<0&&(w.applyToRemoteDocument(te,_),te.isValidDocument()&&(te.setReadTime(_.commitVersion),x.addEntry(te)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,a,e,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=ze();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function g1(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function gR(s,e){const i=xe(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((x,w)=>{const R=l.get(w);if(!R)return;p.push(i.li.removeMatchingKeys(u,x.removedDocuments,w).next((()=>i.li.addMatchingKeys(u,x.addedDocuments,w))));let H=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken($t.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(x.resumeToken,a)),l=l.insert(w,H),(function(te,G,K){return te.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=fR?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(R,H,x)&&p.push(i.li.updateTargetData(u,H))}));let v=ss(),_=ze();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(yR(u,d,e.documentUpdates).next((x=>{v=x.Bs,_=x.Ls}))),!a.isEqual(Ee.min())){const x=i.li.getLastRemoteSnapshotVersion(u).next((w=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(x)}return W.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,v,_))).next((()=>v))})).then((u=>(i.vs=l,u)))}function yR(s,e,i){let a=ze(),l=ze();return i.forEach((u=>a=a.add(u))),e.getEntries(s,a).next((u=>{let d=ss();return i.forEach(((p,v)=>{const _=u.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(Ee.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ce(tp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function _R(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function vR(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((u=>u?(l=u,W.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Gs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function bm(s,e,i){const a=xe(s),l=a.vs.get(e),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;ce(tp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function X_(s,e,i){const a=xe(s);let l=Ee.min(),u=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,x){const w=xe(v),R=w.Fs.get(x);return R!==void 0?W.resolve(w.vs.get(R)):w.li.getTargetData(_,x)})(a,d,Ni(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{u=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Ee.min(),i?u:ze()))).next((p=>(bR(a,rN(e),p),{documents:p,ks:u})))))}function bR(s,e,i){let a=s.Ms.get(e)||Ee.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),s.Ms.set(e,a)}class $_{constructor(){this.activeTargetIds=hN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ER{constructor(){this.vo=new $_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new $_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TR{Mo(e){}shutdown(){}}const J_="ConnectivityMonitor";class Z_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(J_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(J_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mu=null;function Em(){return Mu===null?Mu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mu++,"0x"+Mu.toString(16)}const $d="RestConnection",xR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,u){const d=Em(),p=this.Qo(e,i.toUriEncodedString());ce($d,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,u);const{host:_}=new URL(p),x=so(_);return this.zo(e,p,v,a,x).then((w=>(ce($d,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Fr($d,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(e,i,a,l,u,d){return this.Wo(e,i,a,l,u)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}Qo(e,i){const a=xR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class wR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",_l=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Xa extends SR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xa.c_){const e=Tb();_l(e,Eb.STAT_EVENT,(i=>{i.stat===cm.PROXY?ce(Zt,"STAT_EVENT: detected buffering proxy"):i.stat===cm.NOPROXY&&ce(Zt,"STAT_EVENT: detected no buffering proxy")})),Xa.c_=!0}}zo(e,i,a,l,u){const d=Em();return new Promise(((p,v)=>{const _=new vb;_.setWithCredentials(!0),_.listenOnce(bb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case ju.NO_ERROR:const w=_.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case ju.TIMEOUT:ce(Zt,`RPC '${e}' ${d} timed out`),v(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const R=_.getStatus();if(ce(Zt,`RPC '${e}' ${d} failed with status:`,R,"response text:",_.getResponseText()),R>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const X=H?.error;if(X&&X.status&&X.message){const te=(function(K){const Z=K.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Z)>=0?Z:ee.UNKNOWN})(X.status);v(new fe(te,X.message))}else v(new fe(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(l);ce(Zt,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",x,a,15)}))}T_(e,i,a){const l=Em(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=u.join("");ce(Zt,`Creating RPC '${e}' stream ${l}: ${_}`,p);const x=d.createWebChannel(_,p);this.I_(x);let w=!1,R=!1;const H=new wR({Ho:X=>{R?ce(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,X):(w||(ce(Zt,`Opening RPC '${e}' stream ${l} transport.`),x.open(),w=!0),ce(Zt,`RPC '${e}' stream ${l} sending:`,X),x.send(X))},Jo:()=>x.close()});return _l(x,El.EventType.OPEN,(()=>{R||(ce(Zt,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),_l(x,El.EventType.CLOSE,(()=>{R||(R=!0,ce(Zt,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(x))})),_l(x,El.EventType.ERROR,(X=>{R||(R=!0,Fr(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),H.o_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))})),_l(x,El.EventType.MESSAGE,(X=>{if(!R){const te=X.data[0];Ke(!!te,16349);const G=te,K=G?.error||G[0]?.error;if(K){ce(Zt,`RPC '${e}' stream ${l} received error:`,K);const Z=K.status;let ae=(function(se){const A=Ct[se];if(A!==void 0)return n1(A)})(Z),ge=K.message;Z==="NOT_FOUND"&&ge.includes("database")&&ge.includes("does not exist")&&ge.includes(this.databaseId.database)&&Fr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=ee.INTERNAL,ge="Unknown error status: "+Z+" with message "+K.message),R=!0,H.o_(new fe(ae,ge)),x.close()}else ce(Zt,`RPC '${e}' stream ${l} received:`,te),H.__(te)}})),Xa.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xb()}}function AR(s){return new Xa(s)}function Jd(){return typeof document<"u"?document:null}function Dh(s){return new IN(s,!0)}Xa.c_=!1;class y1{constructor(e,i,a=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const W_="PersistentStream";class _1{constructor(e,i,a,l,u,d,p,v){this.Ci=e,this.b_=a,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new fe(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(W_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ce(W_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NR extends _1{constructor(e,i,a,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ON(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ee.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Ci(d.readTime):Ee.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(u,d){let p;const v=d.target;if(p=mm(v)?{documents:zN(u,v)}:{query:jN(u,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=r1(u,d.resumeToken);const _=gm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=lh(u,d.snapshotVersion.toTimestamp());const _=gm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=UN(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.K_(i)}}class RR extends _1{constructor(e,i,a,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=VN(e.writeResults,e.commitTime),a=Ci(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=vm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>kN(this.serializer,a)))};this.K_(i)}}class CR{}class IR extends CR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,ym(i,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())}))}jo(e,i,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,ym(i,a),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DR(s,e,i,a){return new IR(s,e,i,a)}class MR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class OR{constructor(e,i,a,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(ce(Qr,"Restarting streams for network reachability change."),await(async function(v){const _=xe(v);_.Ea.add(4),await $l(_),_.Va.set("Unknown"),_.Ea.delete(4),await Mh(_)})(this))}))})),this.Va=new MR(a,l)}}async function Mh(s){if($r(s))for(const e of s.Ra)await e(!0)}async function $l(s){for(const e of s.Ra)await e(!1)}function v1(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rp(i)?sp(i):uo(i).O_()&&ip(i,e))}function np(s,e){const i=xe(s),a=uo(i);i.Ia.delete(e),a.O_()&&b1(i,e),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Va.set("Unknown"))}function ip(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}uo(s).Z_(e)}function b1(s,e){s.da.$e(e),uo(s).X_(e)}function sp(s){s.da=new AN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),uo(s).start(),s.Va.ua()}function rp(s){return $r(s)&&!uo(s).x_()&&s.Ia.size>0}function $r(s){return xe(s).Ea.size===0}function E1(s){s.da=void 0}async function kR(s){s.Va.set("Online")}async function VR(s){s.Ia.forEach(((e,i)=>{ip(s,e)}))}async function zR(s,e){E1(s),rp(s)?(s.Va.ha(e),sp(s)):s.Va.set("Unknown")}async function jR(s,e,i){if(s.Va.set("Online"),e instanceof s1&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(a){ce(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uh(s,a)}else if(e instanceof Bu?s.da.Xe(e):e instanceof i1?s.da.st(e):s.da.tt(e),!i.isEqual(Ee.min()))try{const a=await g1(s.localStore);i.compareTo(a)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const x=u.Ia.get(_);x&&u.Ia.set(_,x.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const x=u.Ia.get(v);if(!x)return;u.Ia.set(v,x.withResumeToken($t.EMPTY_BYTE_STRING,x.snapshotVersion)),b1(u,v);const w=new Gs(x.target,v,_,x.sequenceNumber);ip(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ce(Qr,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,e,i){if(!co(e))throw e;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>g1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mh(s)}))}function T1(s,e){return e().catch((i=>uh(s,i,e)))}async function Oh(s){const e=xe(s),i=nr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;LR(e);)try{const l=await _R(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,UR(e,l)}catch(l){await uh(e,l)}x1(e)&&S1(e)}function LR(s){return $r(s)&&s.Ta.length<10}function UR(s,e){s.Ta.push(e);const i=nr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function x1(s){return $r(s)&&!nr(s).x_()&&s.Ta.length>0}function S1(s){nr(s).start()}async function PR(s){nr(s).ra()}async function BR(s){const e=nr(s);for(const i of s.Ta)e.ea(i.mutations)}async function qR(s,e,i){const a=s.Ta.shift(),l=Xm.from(a,e,i);await T1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Oh(s)}async function HR(s,e){e&&nr(s).Y_&&await(async function(a,l){if((function(d){return xN(d)&&d!==ee.ABORTED})(l.code)){const u=a.Ta.shift();nr(a).B_(),await T1(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Oh(a)}})(s,e),x1(s)&&S1(s)}async function ev(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),ce(Qr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function GR(s,e){const i=xe(s);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function uo(s){return s.ma||(s.ma=(function(i,a,l){const u=xe(i);return u.sa(),new NR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:kR.bind(null,s),Yo:VR.bind(null,s),t_:zR.bind(null,s),J_:jR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),rp(s)?sp(s):s.Va.set("Unknown")):(await s.ma.stop(),E1(s))}))),s.ma}function nr(s){return s.fa||(s.fa=(function(i,a,l){const u=xe(i);return u.sa(),new RR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:PR.bind(null,s),t_:HR.bind(null,s),ta:BR.bind(null,s),na:qR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ap{constructor(e,i,a,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,u){const d=Date.now()+a,p=new ap(e,i,d,l,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(s,e){if(is("AsyncQueue",`${e}: ${s}`),co(s))return new fe(ee.UNAVAILABLE,`${e}: ${s}`);throw s}class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new $a;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class tv{constructor(){this.ga=new ht(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class io{constructor(e,i,a,l,u,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(e,i,$a.emptySet(i),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class FR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class QR{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xe(i),u=l.queries;l.queries=nv(),u.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function nv(){return new Yr((s=>Gb(s)),Ah)}async function KR(s,e){const i=xe(s);let a=3;const l=e.query;let u=i.queries.get(l);u?!u.Sa()&&e.Da()&&(a=2):(u=new FR,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=op(d,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.ba.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&lp(i)}async function YR(s,e){const i=xe(s),a=e.query;let l=3;const u=i.queries.get(a);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function XR(s,e){const i=xe(s);let a=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&lp(i)}function $R(s,e,i){const a=xe(s),l=a.queries.get(e);if(l)for(const u of l.ba)u.onError(i);a.queries.delete(e)}function lp(s){s.Ca.forEach((e=>{e.next()}))}var Tm,iv;(iv=Tm||(Tm={})).Ma="default",iv.Cache="cache";class JR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new io(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tm.Cache}}class w1{constructor(e){this.key=e}}class A1{constructor(e){this.key=e}}class ZR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=Fb(e),this.tu=new $a(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new tv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,w)=>{const R=l.get(x),H=Nh(this.query,w)?w:null,X=!!R&&this.mutatedKeys.has(R.key),te=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let G=!1;R&&H?R.data.isEqual(H.data)?X!==te&&(a.track({type:3,doc:H}),G=!0):this.su(R,H)||(a.track({type:2,doc:H}),G=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(p=!0)):!R&&H?(a.track({type:0,doc:H}),G=!0):R&&!H&&(a.track({type:1,doc:R}),G=!0,(v||_)&&(p=!0)),G&&(H?(d=d.add(H),u=te?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),a.track({type:1,doc:x})}return{tu:d,iu:a,Ss:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,w)=>(function(H,X){const te=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:G})}};return te(H)-te(X)})(x.type,w.type)||this.eu(x.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new io(this.query,e.tu,u,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new A1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new w1(a))})),i}cu(e){this.Za=e.ks,this.Ya=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cp="SyncEngine";class WR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class eC{constructor(e){this.key=e,this.hu=!1}}class tC{constructor(e,i,a,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>Gb(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(pe.comparator),this.Au=new Map,this.Vu=new Zm,this.du={},this.mu=new Map,this.fu=no.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nC(s,e,i=!0){const a=M1(s);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await N1(a,e,i,!0),l}async function iC(s,e){const i=M1(s);await N1(i,e,!0,!1)}async function N1(s,e,i,a){const l=await vR(s.localStore,Ni(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return a&&(p=await sC(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&v1(s.remoteStore,l),p}async function sC(s,e,i,a,l){s.pu=(w,R,H)=>(async function(te,G,K,Z){let ae=G.view.ru(K);ae.Ss&&(ae=await X_(te.localStore,G.query,!1).then((({documents:A})=>G.view.ru(A,ae))));const ge=Z&&Z.targetChanges.get(G.targetId),Re=Z&&Z.targetMismatches.get(G.targetId)!=null,se=G.view.applyChanges(ae,te.isPrimaryClient,ge,Re);return rv(te,G.targetId,se.au),se.snapshot})(s,w,R,H);const u=await X_(s.localStore,e,!0),d=new ZR(e,u.ks),p=d.ru(u.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);rv(s,i,_.au);const x=new WR(e,i,d);return s.Tu.set(e,x),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function rC(s,e,i){const a=xe(s),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((d=>!Ah(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&np(a.remoteStore,l.targetId),xm(a,l.targetId)})).catch(lo)):(xm(a,l.targetId),await bm(a.localStore,l.targetId,!0))}async function aC(s,e){const i=xe(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),np(i.remoteStore,a.targetId))}async function oC(s,e,i){const a=mC(s);try{const l=await(function(d,p){const v=xe(d),_=at.now(),x=p.reduce(((H,X)=>H.add(X.key)),ze());let w,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let X=ss(),te=ze();return v.xs.getEntries(H,x).next((G=>{X=G,X.forEach(((K,Z)=>{Z.isValidDocument()||(te=te.add(K))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,X))).next((G=>{w=G;const K=[];for(const Z of p){const ae=_N(Z,w.get(Z.key).overlayedDocument);ae!=null&&K.push(new Xr(Z.key,ae,jb(ae.value.mapValue),Ri.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,K,p)})).next((G=>{R=G;const K=G.applyToLocalDocumentSet(w,te);return v.documentOverlayCache.saveOverlays(H,G.batchId,K)}))})).then((()=>({batchId:R.batchId,changes:Kb(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new ht(Ve)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Jl(a,l.changes),await Oh(a.remoteStore)}catch(l){const u=op(l,"Failed to persist write");i.reject(u)}}async function R1(s,e){const i=xe(s);try{const a=await gR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ke(d.hu,14607):l.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await Jl(i,a,e)}catch(a){await lo(a)}}function sv(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=xe(d);v.onlineState=p;let _=!1;v.queries.forEach(((x,w)=>{for(const R of w.ba)R.va(p)&&(_=!0)})),_&&lp(v)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function lC(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),u=l&&l.key;if(u){let d=new ht(pe.comparator);d=d.insert(u,en.newNoDocument(u,Ee.min()));const p=ze().add(u),v=new Ih(Ee.min(),new Map,new ht(Ve),d,p);await R1(a,v),a.Ru=a.Ru.remove(u),a.Au.delete(e),up(a)}else await bm(a.localStore,e,!1).then((()=>xm(a,e,i))).catch(lo)}async function cC(s,e){const i=xe(s),a=e.batch.batchId;try{const l=await pR(i.localStore,e);I1(i,a,null),C1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await lo(l)}}async function uC(s,e,i){const a=xe(s);try{const l=await(function(d,p){const v=xe(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return v.mutationQueue.lookupMutationBatch(_,p).next((w=>(Ke(w!==null,37113),x=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,x,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>v.localDocuments.getDocuments(_,x)))}))})(a.localStore,e);I1(a,e,i),C1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,l)}catch(l){await lo(l)}}function C1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function I1(s,e,i){const a=xe(s);let l=a.du[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function xm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||D1(s,a)}))}function D1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(np(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),up(s))}function rv(s,e,i){for(const a of i)a instanceof w1?(s.Vu.addReference(a.key,e),hC(s,a)):a instanceof A1?(ce(cp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||D1(s,a.key)):ve(19791,{wu:a})}function hC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ce(cp,"New document in limbo: "+i),s.Eu.add(a),up(s))}function up(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(rt.fromString(e)),a=s.fu.next();s.Au.set(a,new eC(i)),s.Ru=s.Ru.insert(i,a),v1(s.remoteStore,new Gs(Ni(Qm(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function Jl(s,e,i){const a=xe(s),l=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const x=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){l.push(_);const x=ep.Es(v.targetId,_);u.push(x)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const x=xe(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>W.forEach(_,(R=>W.forEach(R.Ts,(H=>x.persistence.referenceDelegate.addReference(w,R.targetId,H))).next((()=>W.forEach(R.Is,(H=>x.persistence.referenceDelegate.removeReference(w,R.targetId,H)))))))))}catch(w){if(!co(w))throw w;ce(tp,"Failed to update sequence numbers: "+w)}for(const w of _){const R=w.targetId;if(!w.fromCache){const H=x.vs.get(R),X=H.snapshotVersion,te=H.withLastLimboFreeSnapshotVersion(X);x.vs=x.vs.insert(R,te)}}})(a.localStore,u))}async function fC(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){ce(cp,"User change. New user:",e.toKey());const a=await p1(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((v=>{v.reject(new fe(ee.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ns)}}function dC(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let l=ze();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function M1(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lC.bind(null,e),e.Pu.J_=XR.bind(null,e.eventManager),e.Pu.yu=$R.bind(null,e.eventManager),e}function mC(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uC.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return mR(this.persistence,new hR,e.initialUser,this.serializer)}Cu(e){return new m1(Wm.Vi,this.serializer)}Du(e){return new ER}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class pC extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ke(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $N(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new m1((a=>ch.Vi(a,i)),this.serializer)}}class Sm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,this.syncEngine),await GR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QR})()}createDatastore(e){const i=Dh(e.databaseInfo.databaseId),a=AR(e.databaseInfo);return DR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,u,d,p){return new OR(a,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return Z_.v()?new Z_:new TR})())}createSyncEngine(e,i){return(function(l,u,d,p,v,_,x){const w=new tC(l,u,d,p,v,_);return x&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);ce(Qr,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class gC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ir="FirestoreClient";class yC{constructor(e,i,a,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ce(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=op(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),ce(ir,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await p1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function av(s,e){s.asyncQueue.verifyOperationInProgress();const i=await _C(s);ce(ir,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>ev(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>ev(e.remoteStore,l))),s._onlineComponents=e}async function _C(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(ir,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fr("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new hh)}}else ce(ir,"Using default OfflineComponentProvider"),await Zd(s,new pC(void 0));return s._offlineComponents}async function O1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(ir,"Using user provided OnlineComponentProvider"),await av(s,s._uninitializedComponentsProvider._online)):(ce(ir,"Using default OnlineComponentProvider"),await av(s,new Sm))),s._onlineComponents}function vC(s){return O1(s).then((e=>e.syncEngine))}async function ov(s){const e=await O1(s),i=e.eventManager;return i.onListen=nC.bind(null,e.syncEngine),i.onUnlisten=rC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=iC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=aC.bind(null,e.syncEngine),i}function bC(s,e,i,a){const l=new gC(a),u=new JR(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>KR(await ov(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>YR(await ov(s),u)))}}function EC(s,e){const i=new Lr;return s.asyncQueue.enqueueAndForget((async()=>oC(await vC(s),e,i))),i.promise}function k1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const TC="ComponentProvider",lv=new Map;function xC(s,e,i,a,l){return new PA(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,k1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const V1="firestore.googleapis.com",cv=!0;class uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V1,this.ssl=cv}else this.host=e.host,this.ssl=e.ssl??cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YN)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new vA;switch(a.type){case"firstParty":return new xA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=lv.get(i);a&&(ce(TC,"Removing Datastore"),lv.delete(i),a.terminate())})(this),Promise.resolve()}}function SC(s,e,i,a={}){s=Ur(s,kh);const l=so(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Mv(`https://${p}`),Ov("Firestore",!0)),u.host!==V1&&u.host!==p&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:p,ssl:l,emulatorOptions:a};if(!Br(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,x;if(typeof a.mockUserToken=="string")_=a.mockUserToken,x=Wt.MOCK_USER;else{_=Hx(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Wt(w)}s._authCredentials=new bA(new wb(_,x))}}class Vh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class Vt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Kl(i,Vt._jsonSchema))return new Vt(e,a||null,new pe(rt.fromString(i.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:It("string",Vt._jsonSchemaVersion),referencePath:It("string")};class $s extends Vh{constructor(e,i,a){super(e,i,Qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new pe(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function vl(s,e,...i){if(s=Sn(s),Ab("collection","path",e),s instanceof kh){const a=rt.fromString(e,...i);return x_(a),new $s(s,null,a)}{if(!(s instanceof Vt||s instanceof $s))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(rt.fromString(e,...i));return x_(a),new $s(s.firestore,null,a)}}function zt(s,e,...i){if(s=Sn(s),arguments.length===1&&(e=Um.newId()),Ab("doc","path",e),s instanceof kh){const a=rt.fromString(e,...i);return T_(a),new Vt(s,null,new pe(a))}{if(!(s instanceof Vt||s instanceof $s))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(rt.fromString(e,...i));return T_(a),new Vt(s.firestore,s instanceof $s?s.converter:null,new pe(a))}}const hv="AsyncQueue";class fv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y1(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&ce(hv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;ce(hv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",dv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ap.createAndSchedule(this,e,i,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function dv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Pl extends kh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new fv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fv(e),this._firestoreClient=void 0,await e}}}function wC(s,e){const i=typeof s=="object"?s:jv(),a=typeof s=="string"?s:nh,l=Im(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=Bx("firestore");u&&SC(l,...u)}return l}function z1(s){if(s._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AC(s),s._firestoreClient}function AC(s){const e=s._freezeSettings(),i=xC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new yC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un($t.fromBase64String(e))}catch(i){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:It("string",Un._jsonSchemaVersion),bytes:It("string")};class j1{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class L1{constructor(e){this._methodName=e}}class Ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:It("string",Ii._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class ti{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ti(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:It("string",ti._jsonSchemaVersion),vectorValues:It("object")};const NC=/^__.*__$/;class RC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}function U1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class hp{constructor(e,i,a,l,u,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new hp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(U1(this.dataSource)&&NC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class CC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(e)}createContext(e,i,a,l=!1){return new hp({dataSource:e,methodName:i,targetDoc:a,path:Xt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IC(s){const e=s._freezeSettings(),i=Dh(s._databaseId);return new CC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function DC(s,e,i,a,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,i,l);H1("Data must be an object, but it was:",d,a);const p=B1(a,d);let v,_;if(u.merge)v=new ei(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const w of u.mergeFields){const R=fp(e,w,i);if(!d.contains(R))throw new fe(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);kC(x,R)||x.push(R)}v=new ei(x),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new RC(new Ln(p),v,_)}function P1(s,e){if(q1(s=Sn(s)))return H1("Unsupported field value:",e,s),B1(s,e);if(s instanceof L1)return(function(a,l){if(!U1(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const p of a){let v=P1(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}})(s,e)}return(function(a,l){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return fN(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=at.fromDate(a);return{timestampValue:lh(l.serializer,u)}}if(a instanceof at){const u=new at(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(l.serializer,u)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:r1(l.serializer,a._byteString)};if(a instanceof Vt){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ti)return(function(d,p){const v=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[Vb]:{stringValue:zb},[ih]:{arrayValue:{values:v.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return Km(p.serializer,x)}))}}}}}})(a,l);if(f1(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Pm(a)}`)})(s,e)}function B1(s,e){const i={};return Cb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(s,((a,l)=>{const u=P1(l,e.childContextForField(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function q1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Ii||s instanceof Un||s instanceof Vt||s instanceof L1||s instanceof ti||f1(s))}function H1(s,e,i){if(!q1(i)||!Nb(i)){const a=Pm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function fp(s,e,i){if((e=Sn(e))instanceof j1)return e._internalPath;if(typeof e=="string")return OC(s,e);throw fh("Field path arguments must be of type string or ",s,!1,void 0,i)}const MC=new RegExp("[~\\*/\\[\\]]");function OC(s,e,i){if(e.search(MC)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new j1(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fh(s,e,i,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new fe(ee.INVALID_ARGUMENT,p+s+v)}function kC(s,e){return s.some((i=>i.isEqual(e)))}class VC{convertValue(e,i="none"){switch(tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Kr(e,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(e){const i=e.fields?.[ih].arrayValue?.values?.map((a=>vt(a.doubleValue)));return new ti(i)}convertGeoPoint(e){return new Ii(vt(e.latitude),vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Sh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const i=Ws(e);return new at(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=rt.fromString(e);Ke(h1(a),9688,{name:e});const l=new zl(a.get(1),a.get(3)),u=new pe(a.popFirst(5));return l.isEqual(i)||is(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class G1 extends VC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,i)}}const mv="@firebase/firestore",pv="4.11.0";function gv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class F1{constructor(e,i,a,l,u){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(fp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zC extends F1{data(){return super.data()}}function jC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function LC(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Sl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pr extends F1{constructor(e,i,a,l,u,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(fp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:It("string",Pr._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class qu extends Pr{data(e={}){return super.data(e)}}class Ja{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new qu(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new qu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const v=new qu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,x=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:UC(p.type),doc:v,oldIndex:_,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:It("string",Ja._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};function an(s,e,i){s=Ur(s,Vt);const a=Ur(s.firestore,Pl),l=LC(s.converter,e,i),u=IC(a);return Q1(a,[DC(u,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ri.none())])}function dh(s){return Q1(Ur(s.firestore,Pl),[new Ym(s._key,Ri.none())])}function bl(s,...e){s=Sn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||gv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(gv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let u,d,p;if(s instanceof Vt)d=Ur(s.firestore,Pl),p=Qm(s._key.path),u={next:_=>{e[a]&&e[a](PC(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ur(s,Vh);d=Ur(_.firestore,Pl),p=_._query;const x=new G1(d);u={next:w=>{e[a]&&e[a](new Ja(d,x,_,w))},error:e[a+1],complete:e[a+2]},jC(s._query)}const v=z1(d);return bC(v,p,l,u)}function Q1(s,e){const i=z1(s);return EC(i,e)}function PC(s,e,i){const a=i.docs.get(e._key),l=new G1(s);return new Pr(s,l,e._key,a,new Sl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){_A(ro),Za(new qr("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),p=new Pl(new EA(a.getProvider("auth-internal")),new SA(d,a.getProvider("app-check-internal")),BA(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ks(mv,pv,e),Ks(mv,pv,"esm2020")})();const BC="AIzaSyBwsnLQTWqG7YArJE4hkT8Jp27QQwUz2e4";async function K1(s,e){try{const a=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${BC}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:s}]}],systemInstruction:{parts:[{text:e}]}})})).json();return a.error&&console.error("API Error:",a.error.message),a.candidates?.[0]?.content?.parts?.[0]?.text||"No insights could be generated right now."}catch(i){return console.error(i),"Error connecting to the AI Coach."}}const jr=[{name:"Tae bo",img:"https://images.unsplash.com/photo-1555597673-b21d5c935865?auto=format&fit=crop&w=600&q=80"},{name:"Crossfit",img:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&w=600&q=80"},{name:"Body combat",img:"https://images.unsplash.com/photo-1599058917212-d750089bc07e?auto=format&fit=crop&w=600&q=80"},{name:"Stick mobility",img:"https://images.unsplash.com/photo-1518611012118-696072aa579a?auto=format&fit=crop&w=600&q=80"},{name:"Functional flow",img:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?auto=format&fit=crop&w=600&q=80"},{name:"Fitness",img:"https://images.unsplash.com/photo-1534258936925-c58bed479fcb?auto=format&fit=crop&w=600&q=80"},{name:"Stretching",img:"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&w=600&q=80"}],wl=[{name:"Keto",img:"https://images.unsplash.com/photo-1473093295043-cdd812d0e601?auto=format&fit=crop&w=600&q=80"},{name:"Vegan",img:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?auto=format&fit=crop&w=600&q=80"},{name:"Carnivore",img:"https://images.unsplash.com/photo-1600891964092-4316c288032e?auto=format&fit=crop&w=600&q=80"},{name:"Mediterranean",img:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&w=600&q=80"},{name:"Pescatarian",img:"https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?auto=format&fit=crop&w=600&q=80"},{name:"Lenten Fasting",img:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&w=600&q=80"}],mh=["Weight Loss","Muscle Gain","Endurance & Stamina","Flexibility & Mobility","General Health"];let Wd,Hu,Ce,ut;try{const s={apiKey:"AIzaSyD3er01roP71kOET0ebyQyzJxfNcvHUWE8",authDomain:"sam-fit-73b88.firebaseapp.com",projectId:"sam-fit-73b88",storageBucket:"sam-fit-73b88.firebasestorage.app",messagingSenderId:"805503830384",appId:"1:805503830384:web:d8eb1271e8f3f3425367b5"};ut="samfit-live",Wd=zv(s),Hu=gA(Wd),Ce=wC(Wd)}catch(s){console.error("Firebase init error:",s)}function qC(){const[s,e]=le.useState(null),[i,a]=le.useState(!0),[l,u]=le.useState([]),[d,p]=le.useState([]),[v,_]=le.useState([]),[x,w]=le.useState([]),[R,H]=le.useState([]),[X,te]=le.useState(null),[G,K]=le.useState(""),[Z,ae]=le.useState(null);le.useEffect(()=>{const A=document.createElement("style");A.innerHTML=`
      input[type=number]::-webkit-inner-spin-button, 
      input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
      input[type=number] { -moz-appearance: textfield; }
    `,document.head.appendChild(A),window.alert=S=>{const N=document.createElement("div");N.className="fixed top-4 right-4 bg-zinc-900 border border-emerald-900/50 text-emerald-400 px-6 py-4 rounded-xl shadow-2xl z-[9999] font-sans text-sm tracking-wide transition-opacity duration-500",N.innerText=S,document.body.appendChild(N),setTimeout(()=>{N.classList.add("opacity-0"),setTimeout(()=>N.remove(),500)},5e3)}},[]),le.useEffect(()=>{if(!Hu){a(!1);return}(async()=>{try{await WS(Hu)}catch(N){console.error("Auth Error:",N),a(!1)}})();const S=rw(Hu,N=>{e(N)});return()=>S()},[]),le.useEffect(()=>{if(!s||!Ce)return;const A=vl(Ce,"artifacts",ut,"public","data","samfit_users"),S=vl(Ce,"artifacts",ut,"public","data","samfit_exercises"),N=vl(Ce,"artifacts",ut,"public","data","samfit_meals"),D=vl(Ce,"artifacts",ut,"public","data","samfit_logs"),M=vl(Ce,"artifacts",ut,"public","data","samfit_feedbacks");let z=!1,C=!1,tt=!1,ft=!1,F=!1;const re=()=>{z&&C&&tt&&ft&&F&&a(!1)},de=bl(A,ne=>{const oe=ne.docs.map(ye=>ye.data());if(u(oe),!X&&s){const ye=oe.find(Se=>Se.firebaseUid===s.uid);ye&&ye.active&&ge(ye)}z=!0,re()}),je=bl(S,ne=>{p(ne.docs.map(oe=>oe.data())),C=!0,re()}),Ge=bl(N,ne=>{_(ne.docs.map(oe=>oe.data())),tt=!0,re()}),k=bl(D,ne=>{w(ne.docs.map(oe=>oe.data())),ft=!0,re()}),$=bl(M,ne=>{H(ne.docs.map(oe=>oe.data())),F=!0,re()});return()=>{de(),je(),Ge(),k(),$()}},[s]);const ge=async A=>{if(te(A),A.role!=="admin"&&Ce)try{await an(zt(Ce,"artifacts",ut,"public","data","samfit_users",A.id),{...A,lastLogin:Date.now()},{merge:!0})}catch(S){console.error(S)}},Re=async(A,S,N)=>{if(K(""),A.toLowerCase()==="samfit"&&S==="Sammassam"){te({id:"admin_master",username:"Samfit",role:"admin",active:!0});return}const D=l.find(M=>M.username===A&&M.password===S);if(D){if(!D.active&&D.role!=="admin"){K("Your access has been revoked.");return}if(N&&s&&Ce)try{await an(zt(Ce,"artifacts",ut,"public","data","samfit_users",D.id),{...D,firebaseUid:s.uid},{merge:!0})}catch(M){console.error("Failed to save remember me state",M)}ge(D),ae(Date.now())}else K("Invalid credentials.")},se=async()=>{X&&X.firebaseUid&&Ce&&X.role!=="admin"&&await an(zt(Ce,"artifacts",ut,"public","data","samfit_users",X.id),{...X,firebaseUid:null},{merge:!0}),te(null),ae(null)};return i?g.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center text-white",children:[g.jsx("img",{src:"https://samfit.co/logo.png",alt:"Sam Fit",className:"h-20 w-20 animate-pulse rounded-full border border-zinc-700 mb-6 object-cover",onError:A=>{A.target.style.display="none"}}),g.jsx("p",{className:"text-zinc-500 uppercase tracking-widest text-sm animate-pulse",children:"Loading Workspace..."})]}):X?X.role==="user"&&(!X.profile?.weight||X.profile?.weight===0||!X.profile?.heightCm||X.profile?.heightCm===0)?g.jsx(HC,{user:X,db:Ce,appId:ut}):g.jsxs("div",{className:"min-h-screen bg-black text-zinc-200 font-sans selection:bg-zinc-700 pb-24 md:pb-8",children:[g.jsx("nav",{className:"border-b border-zinc-800 bg-black/80 backdrop-blur-md sticky top-0 z-50",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("img",{src:"https://samfit.co/logo.png",alt:"Sam Fit Logo",className:"h-10 w-10 rounded-full object-cover border border-zinc-700 bg-black",onError:A=>{A.target.style.display="none"}}),g.jsx("span",{className:"text-xl font-bold tracking-[0.2em] uppercase text-white",children:"Sam Fit"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("span",{className:"text-sm text-zinc-400 hidden sm:block",children:["Logged in as ",g.jsx("strong",{className:"text-zinc-100",children:X.role==="admin"?"Admin":X.profile?.firstName||X.username})]}),g.jsx("button",{onClick:se,className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-900 rounded-full transition-colors border border-transparent hover:border-zinc-800",children:g.jsx(ox,{size:18})})]})]})})}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:X.role==="admin"?g.jsx(FC,{users:l,logs:x,exercises:d,meals:v,feedbacks:R}):g.jsx($C,{user:X,users:l,exercises:d,meals:v,logs:x,sessionStartTime:Z})})]}):g.jsx(GC,{onLogin:Re,error:G})}function HC({user:s,db:e,appId:i}){const[a,l]=le.useState(""),[u,d]=le.useState("1"),[p,v]=le.useState(""),[_,x]=le.useState(!1),w=async R=>{if(R.preventDefault(),!a||!p)return alert("Please fill in your details to continue.");x(!0);try{await an(zt(e,"artifacts",i,"public","data","samfit_users",s.id),{...s,profile:{...s.profile,weight:Number(a),heightM:Number(u),heightCm:Number(p),fitnessGoal:mh[0]}},{merge:!0})}catch{alert("Error saving profile")}x(!1)};return g.jsxs("div",{className:"min-h-screen bg-black flex flex-col justify-center items-center px-4 bg-[url('https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?auto=format&fit=crop&w=2000&q=80')] bg-cover bg-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),g.jsxs("div",{className:"w-full max-w-md bg-zinc-950 border border-zinc-800 rounded-3xl p-8 relative z-10 shadow-2xl",children:[g.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest mb-2 text-center",children:"Welcome to Sam Fit"}),g.jsx("p",{className:"text-zinc-400 text-sm text-center mb-8",children:"Before we begin, let's set your baseline metrics so we can track your progress."}),g.jsxs("form",{onSubmit:w,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Height (Meters)"}),g.jsx("input",{type:"number",min:"0",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-4 text-white focus:border-zinc-500 outline-none text-center font-mono",value:u,onChange:R=>d(R.target.value),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Height (CM)"}),g.jsx("input",{type:"number",min:"0",max:"99",placeholder:"e.g. 80",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-4 text-white focus:border-zinc-500 outline-none text-center font-mono",value:p,onChange:R=>v(R.target.value),required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Current Weight (KG)"}),g.jsx("input",{type:"number",step:"0.1",placeholder:"e.g. 75.5",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-4 text-white focus:border-zinc-500 outline-none text-center font-mono text-xl",value:a,onChange:R=>l(R.target.value),required:!0})]}),g.jsx("button",{type:"submit",disabled:_,className:"w-full bg-white text-black font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors mt-4",children:_?"Saving...":"Start My Journey"})]})]})]})}function GC({onLogin:s,error:e}){const[i,a]=le.useState(""),[l,u]=le.useState(""),[d,p]=le.useState(!1);return g.jsxs("div",{className:"min-h-screen bg-black flex flex-col justify-center items-center px-4 bg-[url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&w=2000&q=80')] bg-cover bg-center",children:[g.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-sm"}),g.jsx("div",{className:"w-full max-w-md bg-zinc-950/90 border border-zinc-800 rounded-3xl shadow-2xl overflow-hidden relative z-10",children:g.jsxs("div",{className:"p-8 pb-10",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("img",{src:"https://samfit.co/logo.png",alt:"Sam Fit",className:"h-28 w-28 rounded-full border border-zinc-700 bg-black object-cover shadow-[0_0_30px_rgba(255,255,255,0.05)]",onError:v=>{v.target.style.display="none"}})}),g.jsx("h2",{className:"text-2xl font-bold text-center text-white uppercase tracking-[0.2em]",children:"Sam Fit Portal"}),g.jsx("p",{className:"text-center text-zinc-500 text-xs tracking-[0.3em] uppercase mt-2 mb-8 font-bold",children:"By Athletes, For Athletes"}),e&&g.jsx("div",{className:"bg-red-950/50 border border-red-900/50 text-red-400 text-xs font-bold tracking-widest uppercase p-4 rounded-lg mb-6 text-center",children:e}),g.jsxs("form",{onSubmit:v=>{v.preventDefault(),s(i,l,d)},className:"space-y-5",children:[g.jsx("input",{type:"text",className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-xl px-4 py-4 text-white focus:outline-none focus:border-zinc-500 transition-colors placeholder-zinc-600 text-sm",placeholder:"USERNAME",value:i,onChange:v=>a(v.target.value),required:!0}),g.jsx("input",{type:"password",className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-xl px-4 py-4 text-white focus:outline-none focus:border-zinc-500 transition-colors placeholder-zinc-600 text-sm",placeholder:"PASSWORD",value:l,onChange:v=>u(v.target.value),required:!0}),g.jsx("div",{className:"flex items-center justify-between px-1",children:g.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>p(!d),children:[g.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center border transition-colors ${d?"bg-white border-white":"bg-black border-zinc-600 group-hover:border-zinc-400"}`,children:d&&g.jsx(XT,{size:14,className:"text-black"})}),g.jsx("span",{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase group-hover:text-white transition-colors",children:"Remember Me"})]})}),g.jsx("button",{type:"submit",className:"w-full bg-white text-black font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors shadow-lg mt-4 text-sm",children:"Enter Arena"})]})]})})]})}function FC({users:s,logs:e,exercises:i,meals:a,feedbacks:l}){const[u,d]=le.useState("users"),p=s.filter(v=>v.role==="user");return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex space-x-2 border-b border-zinc-800 pb-2 overflow-x-auto no-scrollbar",children:[{id:"users",label:"Manage Clients",icon:g.jsx(Bl,{size:16})},{id:"exercises",label:"Manage Exercises",icon:g.jsx(Am,{size:16})},{id:"meals",label:"Manage Meals",icon:g.jsx(ph,{size:16})},{id:"analytics",label:"Client Analytics",icon:g.jsx(QT,{size:16})}].map(v=>g.jsxs("button",{onClick:()=>d(v.id),className:`px-4 py-2 text-sm font-medium transition-all flex items-center space-x-2 whitespace-nowrap rounded-t-lg ${u===v.id?"bg-zinc-900 text-white border-b-2 border-white":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900/50"}`,children:[v.icon," ",g.jsx("span",{children:v.label})]},v.id))}),u==="users"&&g.jsx(QC,{users:p}),u==="exercises"&&g.jsx(KC,{exercises:i}),u==="meals"&&g.jsx(YC,{meals:a}),u==="analytics"&&g.jsx(XC,{clients:p,logs:e,feedbacks:l})]})}function QC({users:s}){const[e,i]=le.useState(""),[a,l]=le.useState(""),[u,d]=le.useState("Male"),[p,v]=le.useState(""),_=async R=>{if(R.preventDefault(),!e||!a||!p||!Ce)return;const H="user_"+Date.now();try{await an(zt(Ce,"artifacts",ut,"public","data","samfit_users",H),{id:H,username:e,password:a,role:"user",active:!0,adminData:{gender:u,age:Number(p)},profile:{firstName:"",lastName:"",heightM:0,heightCm:0,weight:0,photo:"",fitnessGoal:mh[0]}}),i(""),l(""),v(""),alert("Client added successfully!")}catch(X){alert("Error adding user: "+X.message)}},x=async R=>{if(Ce)try{await an(zt(Ce,"artifacts",ut,"public","data","samfit_users",R.id),{...R,active:!R.active},{merge:!0})}catch(H){alert("Error updating access: "+H.message)}},w=R=>{if(!R)return g.jsx("span",{className:"text-zinc-500 font-mono",children:"Never logged in"});const H=Math.floor((Date.now()-R)/864e5);return H<=3?g.jsxs("span",{className:"text-emerald-500 font-bold font-mono flex items-center",children:[g.jsx(JT,{fill:"currentColor",size:8,className:"mr-1"})," Active"]}):g.jsxs("span",{className:"text-amber-500 font-mono",children:["Inactive ",H," days"]})};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-6 h-fit",children:[g.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center",children:[g.jsx(Ev,{size:18,className:"mr-2 text-zinc-400"})," Create Client"]}),g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:e,onChange:R=>i(R.target.value),required:!0,placeholder:"Username"}),g.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:a,onChange:R=>l(R.target.value),required:!0,placeholder:"Password"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-zinc-900",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Gender (Admin Only)"}),g.jsxs("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white outline-none",value:u,onChange:R=>d(R.target.value),children:[g.jsx("option",{children:"Male"}),g.jsx("option",{children:"Female"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Age (Admin Only)"}),g.jsx("input",{type:"number",min:"1",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white outline-none",value:p,onChange:R=>v(R.target.value),required:!0,placeholder:"e.g. 28"})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-white text-black text-sm font-bold uppercase py-3 rounded-lg hover:bg-zinc-200 mt-2",children:"Generate Access"})]})]}),g.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[g.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:g.jsx("h3",{className:"text-lg font-bold text-white",children:"Client Directory"})}),g.jsx("div",{className:"divide-y divide-zinc-800 max-h-[600px] overflow-y-auto",children:s.map(R=>g.jsxs("div",{className:"p-6 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-zinc-900/80 gap-4",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg border overflow-hidden shrink-0 ${R.active?"bg-zinc-900 border-zinc-700 text-white":"bg-red-950/30 border-red-900/50 text-red-500"}`,children:R.profile?.photo?g.jsx("img",{src:R.profile.photo,className:"w-full h-full object-cover"}):R.profile?.firstName?R.profile.firstName.charAt(0).toUpperCase():R.username.charAt(0).toUpperCase()}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-white font-medium flex items-center",children:[R.profile?.firstName," ",R.profile?.lastName,R.adminData&&g.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-zinc-800 text-[10px] font-bold text-zinc-400",children:[R.adminData.gender,"  ",R.adminData.age,"y"]})]}),g.jsxs("div",{className:"text-xs text-zinc-500 font-mono mt-1",children:["User: ",g.jsx("span",{className:"text-zinc-300",children:R.username})," | Pass: ",g.jsx("span",{className:"text-zinc-300",children:R.password})]}),g.jsx("div",{className:"text-xs mt-1",children:w(R.lastLogin)})]})]}),g.jsx("button",{onClick:()=>x(R),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg flex items-center ${R.active?"bg-black text-zinc-300 border border-zinc-700":"bg-white text-black"}`,children:R.active?"Revoke Access":"Restore Access"})]},R.id))})]})]})}function KC({exercises:s}){const[e,i]=le.useState(null),[a,l]=le.useState(""),[u,d]=le.useState(jr[0].name),[p,v]=le.useState(""),[_,x]=le.useState(""),[w,R]=le.useState("High"),[H,X]=le.useState("15"),[te,G]=le.useState(!1),K=se=>{i(se.id),l(se.title),d(se.category),x(se.instructions||""),v(se.videoUrl||""),R(se.intensity||"High"),X(se.duration||"15"),window.scrollTo({top:0,behavior:"smooth"})},Z=()=>{i(null),l(""),x(""),v(""),d(jr[0].name),R("High"),X("15")},ae=async se=>{if(se.preventDefault(),!a||!Ce)return;const A=e||"ex_"+Date.now();let S=p;p&&!p.startsWith("EMBED:")&&!p.startsWith("DIRECT:")&&!p.startsWith("IFRAME:")&&(p.includes("youtube")||p.includes("youtu.be")||p.includes("vimeo")?S="EMBED:"+p:p.includes("<iframe")?S="IFRAME:"+p:S="DIRECT:"+p);try{await an(zt(Ce,"artifacts",ut,"public","data","samfit_exercises",A),{id:A,title:a,category:u,instructions:_,videoUrl:S,intensity:w,duration:H},{merge:!0}),Z(),alert(e?"Exercise updated successfully!":"Exercise added successfully!")}catch(N){alert("Error saving exercise: "+N.message)}},ge=async()=>{if(!Ce||!window.confirm("Instantly add 10 structured workouts to all 7 categories (70 Total)?"))return;G(!0);const se=["Foundations","Endurance Protocol","Strength Builder","Core Crusher","Agility Drills","Power Moves","Speed Intervals","Burnout Session","Mobility Flow","Max Intensity"];try{for(const A of jr)for(let S=0;S<10;S++){const N=`ex_auto_${A.name.replace(/\s+/g,"")}_${S}_${Date.now()}`;await an(zt(Ce,"artifacts",ut,"public","data","samfit_exercises",N),{id:N,title:`${se[S]}`,category:A.name,instructions:`1. Warm up thoroughly.
2. Focus on proper form and controlled breathing.
3. Complete specified sets and rounds.
4. Stay hydrated.`,intensity:S%2===0?"High":"Low",duration:String(15+S*5),videoUrl:""})}alert("Success! Generated 70 workouts.")}catch(A){alert("Error generating library: "+A.message)}G(!1)},Re=async()=>{if(!(!Ce||!window.confirm("WARNING: Are you absolutely sure you want to PERMANENTLY DELETE all auto-generated workouts? Custom workouts will stay."))){G(!0);try{const A=s.filter(S=>S.id.includes("ex_auto_"));for(const S of A)await dh(zt(Ce,"artifacts",ut,"public","data","samfit_exercises",S.id));alert(`Successfully deleted ${A.length} auto-generated workouts.`)}catch(A){alert("Error deleting: "+A.message)}G(!1)}};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:`border rounded-xl p-6 transition-colors ${e?"bg-zinc-900 border-blue-500/50":"bg-zinc-950 border-zinc-800"}`,children:[g.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center",children:[e?g.jsx(Qu,{size:18,className:"mr-2 text-blue-400"}):g.jsx(Ev,{size:18,className:"mr-2 text-zinc-400"}),e?"Edit Exercise":"New Exercise"]}),g.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[g.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:a,onChange:se=>l(se.target.value),required:!0,placeholder:"Exercise Name"}),g.jsx("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:u,onChange:se=>d(se.target.value),children:jr.map(se=>g.jsx("option",{value:se.name,children:se.name},se.name))}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Duration (Mins)"}),g.jsx("input",{type:"number",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:H,onChange:se=>X(se.target.value),required:!0,placeholder:"e.g. 15"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Intensity"}),g.jsxs("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:w,onChange:se=>R(se.target.value),children:[g.jsx("option",{value:"High",children:"High"}),g.jsx("option",{value:"Low",children:"Low"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Video Link (YouTube, Vimeo, MP4)"}),g.jsx("input",{type:"url",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:p,onChange:se=>v(se.target.value),placeholder:"Paste link here..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Instructions (3 Sentences max)"}),g.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white h-24",value:_,onChange:se=>x(se.target.value),placeholder:"Instructions..."})]}),g.jsxs("div",{className:"flex gap-2 mt-2",children:[g.jsx("button",{type:"submit",className:`flex-1 text-black text-sm font-bold uppercase py-3 rounded-lg ${e?"bg-blue-400 hover:bg-blue-300":"bg-white hover:bg-zinc-200"}`,children:e?"Save Changes":"Save Exercise"}),e&&g.jsx("button",{type:"button",onClick:Z,className:"flex-1 bg-zinc-800 text-white text-sm font-bold uppercase py-3 rounded-lg hover:bg-zinc-700",children:"Cancel"})]})]})]}),g.jsxs("div",{className:"bg-amber-950/20 border border-amber-900/50 rounded-xl p-6",children:[g.jsx("h4",{className:"text-amber-500 font-bold text-sm mb-2",children:"Library Automation"}),g.jsxs("button",{onClick:ge,disabled:te,className:"w-full bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold uppercase py-3 rounded-lg flex items-center justify-center",children:[g.jsx(gh,{size:14,className:"mr-2"}),te?"Generating...":"Auto-Generate 70 Workouts"]}),g.jsx("button",{onClick:Re,disabled:te,className:"w-full bg-red-950 hover:bg-red-900 text-red-500 border border-red-900/50 text-xs font-bold uppercase py-3 rounded-lg mt-3 transition-colors",children:te?"Processing...":"Delete Auto-Generated"})]})]}),g.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[g.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:g.jsxs("h3",{className:"text-lg font-bold text-white",children:["Library (",s.length,")"]})}),g.jsx("div",{className:"divide-y divide-zinc-800 max-h-[700px] overflow-y-auto",children:s.map(se=>g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-900/80",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center border border-zinc-800 shrink-0",children:g.jsx(Am,{size:20,className:"text-zinc-600"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-white font-medium",children:se.title}),g.jsxs("div",{className:"text-[10px] font-bold uppercase text-zinc-500 flex items-center mt-1",children:[se.category," ",g.jsx("span",{className:"mx-2",children:""})," ",g.jsx(_v,{size:10,className:"mr-1"})," ",se.duration,"m ",g.jsx("span",{className:"mx-2",children:""})," ",g.jsx(Nm,{size:10,className:"mr-1"})," ",se.intensity]})]})]}),g.jsxs("div",{className:"flex space-x-2 shrink-0",children:[g.jsx("button",{onClick:()=>K(se),className:"p-2 text-zinc-500 hover:text-blue-400 bg-zinc-900 rounded-lg",children:g.jsx(Qu,{size:16})}),g.jsx("button",{onClick:()=>{Ce&&window.confirm("Delete this?")&&dh(zt(Ce,"artifacts",ut,"public","data","samfit_exercises",se.id))},className:"p-2 text-zinc-600 hover:text-red-500 bg-zinc-900 rounded-lg",children:g.jsx(Sv,{size:16})})]})]},se.id))})]})]})}function YC({meals:s}){const[e,i]=le.useState(null),[a,l]=le.useState(""),[u,d]=le.useState(wl[0].name),[p,v]=le.useState(""),[_,x]=le.useState(""),[w,R]=le.useState(!1),H=Z=>{i(Z.id),l(Z.title),d(Z.category),v(Z.instructions||""),x(Z.imageUrl||""),window.scrollTo({top:0,behavior:"smooth"})},X=()=>{i(null),l(""),v(""),x(""),d(wl[0].name)},te=async Z=>{if(Z.preventDefault(),!a||!Ce)return;const ae=e||"meal_"+Date.now();try{await an(zt(Ce,"artifacts",ut,"public","data","samfit_meals",ae),{id:ae,title:a,category:u,instructions:p,imageUrl:_||"https://images.unsplash.com/photo-1490645935967-10de6ba17061?auto=format&fit=crop&w=600&q=80"},{merge:!0}),X(),alert(e?"Recipe updated!":"Meal added successfully!")}catch(ge){alert("Error saving meal: "+ge.message)}},G=async()=>{if(!Ce||!window.confirm("Instantly add 5 healthy recipes to all diet categories (30 Total)?"))return;R(!0);const Z={Keto:["Steak & Eggs","Avocado Bacon Bowl","Keto Chicken Parmesan","Garlic Butter Shrimp","Zucchini Noodles with Pesto"],Vegan:["Lentil Soup","Chickpea Curry","Tofu Scramble","Vegan Buddha Bowl","Quinoa Salad"],Carnivore:["Ribeye Steak","Ground Beef Patty","Pork Belly Bits","Lamb Chops","Chicken Livers"],Mediterranean:["Greek Salad","Grilled Chicken Tzatziki","Hummus & Pita","Baked Falafel","Shrimp Saganaki"],Pescatarian:["Grilled Salmon","Shrimp Tacos","Tuna Salad","Baked Cod","Seafood Paella"],"Lenten Fasting":["Fasolia (Bean Stew)","Mujadara (Lentils & Rice)","Potato Kebbeh","Batata Harra","Spinach Fatayer"]},ae={Keto:["https://images.unsplash.com/photo-1473093295043-cdd812d0e601?w=600","https://images.unsplash.com/photo-1603048297172-c92544798d5e?w=600","https://images.unsplash.com/photo-1544025162-811114cd3543?w=600","https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600","https://images.unsplash.com/photo-1432139555190-58524dae6a5a?w=600"],Vegan:["https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=600","https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=600","https://images.unsplash.com/photo-1540420773420-3366772f4999?w=600","https://images.unsplash.com/photo-1482049016688-2d3e1b311543?w=600","https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=600"],Carnivore:["https://images.unsplash.com/photo-1600891964092-4316c288032e?w=600","https://images.unsplash.com/photo-1544025162-811114cd3543?w=600","https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600","https://images.unsplash.com/photo-1615937657715-bc7b4b7962c1?w=600","https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=600"],Mediterranean:["https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=600","https://images.unsplash.com/photo-1529059997568-3d847b1154f0?w=600","https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=600","https://images.unsplash.com/photo-1528699633788-424224dc89b5?w=600","https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600"],Pescatarian:["https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=600","https://images.unsplash.com/photo-1559742811-822873691df8?w=600","https://images.unsplash.com/photo-1498654896293-37aacf113fd9?w=600","https://images.unsplash.com/photo-1599084990807-3344d3148963?w=600","https://images.unsplash.com/photo-1615141982883-c7da0e698b0b?w=600"],"Lenten Fasting":["https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=600","https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?w=600","https://images.unsplash.com/photo-1520072959219-c595dc870360?w=600","https://images.unsplash.com/photo-1542528180-a1208c5169a5?w=600","https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=600"]},ge=`Ingredients:
- 1 main protein/base
- 2 cups fresh vegetables
- 1 tbsp healthy fats (olive oil/avocado)
- Spices to taste

Directions:
1. Prep ingredients and heat your pan.
2. Cook the base until done.
3. Serve fresh and enjoy your healthy meal!`;try{let Re=0;for(const se of wl){for(let A=0;A<5;A++){const S=`meal_auto_${se.name.replace(/\s+/g,"")}_${A}_${Date.now()}`,N=ae[se.name][A%ae[se.name].length];await an(zt(Ce,"artifacts",ut,"public","data","samfit_meals",S),{id:S,title:Z[se.name][A],category:se.name,instructions:ge,imageUrl:N})}Re++}alert("Success! Generated 30 healthy meals.")}catch(Re){alert("Error generating meals: "+Re.message)}R(!1)},K=async()=>{if(!(!Ce||!window.confirm("WARNING: Are you absolutely sure you want to PERMANENTLY DELETE all auto-generated meals?"))){R(!0);try{const ae=s.filter(ge=>ge.id.includes("meal_auto_"));for(const ge of ae)await dh(zt(Ce,"artifacts",ut,"public","data","samfit_meals",ge.id));alert(`Successfully deleted ${ae.length} auto-generated meals.`)}catch(ae){alert("Error deleting: "+ae.message)}R(!1)}};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:`border rounded-xl p-6 transition-colors ${e?"bg-zinc-900 border-emerald-500/50":"bg-zinc-950 border-zinc-800"}`,children:[g.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center",children:[e?g.jsx(Qu,{size:18,className:"mr-2 text-emerald-400"}):g.jsx(ph,{size:18,className:"mr-2 text-zinc-400"}),e?"Edit Recipe":"Add Recipe"]}),g.jsxs("form",{onSubmit:te,className:"space-y-4",children:[g.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:a,onChange:Z=>l(Z.target.value),required:!0,placeholder:"Recipe Name"}),g.jsx("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:u,onChange:Z=>d(Z.target.value),children:wl.map(Z=>g.jsx("option",{value:Z.name,children:Z.name},Z.name))}),g.jsx("input",{type:"url",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:_,onChange:Z=>x(Z.target.value),placeholder:"Photo URL"}),g.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white h-48",value:p,onChange:Z=>v(Z.target.value),placeholder:"Full Recipe Directions..."}),g.jsxs("div",{className:"flex gap-2 mt-2",children:[g.jsx("button",{type:"submit",className:`flex-1 text-white text-sm font-bold uppercase py-3 rounded-lg ${e?"bg-emerald-500 hover:bg-emerald-400":"bg-emerald-600 hover:bg-emerald-500"}`,children:e?"Save Changes":"Save Recipe"}),e&&g.jsx("button",{type:"button",onClick:X,className:"flex-1 bg-zinc-800 text-white text-sm font-bold uppercase py-3 rounded-lg hover:bg-zinc-700",children:"Cancel"})]})]})]}),g.jsxs("div",{className:"bg-emerald-950/20 border border-emerald-900/50 rounded-xl p-6",children:[g.jsx("h4",{className:"text-emerald-500 font-bold text-sm mb-2",children:"Library Automation"}),g.jsxs("button",{onClick:G,disabled:w,className:"w-full bg-emerald-700 hover:bg-emerald-600 text-white text-xs font-bold uppercase py-3 rounded-lg flex items-center justify-center",children:[g.jsx(gh,{size:14,className:"mr-2"}),w?"Processing...":"Auto-Generate 30 Meals"]}),g.jsx("button",{onClick:K,disabled:w,className:"w-full bg-red-950 hover:bg-red-900 text-red-500 border border-red-900/50 text-xs font-bold uppercase py-3 rounded-lg mt-3 transition-colors",children:w?"Processing...":"Delete Auto-Generated"})]})]}),g.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[g.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:g.jsxs("h3",{className:"text-lg font-bold text-white",children:["Recipe Library (",s.length,")"]})}),g.jsx("div",{className:"divide-y divide-zinc-800 max-h-[700px] overflow-y-auto",children:s.map(Z=>g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-900/80",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-12 h-12 bg-black rounded-lg overflow-hidden border border-zinc-800 shrink-0",children:g.jsx("img",{src:Z.imageUrl,className:"w-full h-full object-cover"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-white font-medium",children:Z.title}),g.jsx("div",{className:"text-[10px] font-bold uppercase text-emerald-500",children:Z.category})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>H(Z),className:"p-2 text-zinc-500 hover:text-emerald-400 bg-zinc-900 rounded-lg",children:g.jsx(Qu,{size:16})}),g.jsx("button",{onClick:()=>{Ce&&window.confirm("Delete this?")&&dh(zt(Ce,"artifacts",ut,"public","data","samfit_meals",Z.id))},className:"p-2 text-zinc-600 hover:text-red-500 bg-zinc-900 rounded-lg",children:g.jsx(Sv,{size:16})})]})]},Z.id))})]})]})}function XC({clients:s,logs:e,feedbacks:i}){const[a,l]=le.useState(s[0]?.id||null),[u,d]=le.useState(""),p=s.find(G=>G.id===a),v=e.filter(G=>G.userId===a).sort((G,K)=>new Date(G.date)-new Date(K.date)),_=i.filter(G=>G.userId===a).sort((G,K)=>K.timestamp-G.timestamp);le.useEffect(()=>{p&&d(p.coachNote||"")},[p]);const x=async()=>{if(!(!Ce||!p))try{await an(zt(Ce,"artifacts",ut,"public","data","samfit_users",p.id),{...p,coachNote:u,coachNoteTimestamp:Date.now()},{merge:!0}),alert("Note sent! It will disappear from their screen in 24 hours.")}catch{alert("Error saving note.")}},w=[...v].reverse().slice(0,7),R=w.reduce((G,K)=>G+(K.exercises?.length||0),0),H=w.reduce((G,K)=>G+Number(K.water||0),0),X=w.reduce((G,K)=>G+Number(K.sleep||0),0),te=w.length>0?(X/w.length).toFixed(1):0;return v.filter(G=>G.weightLog>0).slice(-10),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-4 overflow-y-auto max-h-[600px]",children:[g.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest mb-4 px-2",children:"Select Client"}),g.jsx("div",{className:"space-y-1",children:s.map(G=>g.jsxs("button",{onClick:()=>l(G.id),className:`w-full text-left px-4 py-3 rounded-lg flex items-center space-x-3 ${a===G.id?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-900"}`,children:[g.jsx("div",{className:"w-6 h-6 rounded-full bg-black border border-zinc-700 flex items-center justify-center overflow-hidden shrink-0",children:G.profile?.photo?g.jsx("img",{src:G.profile.photo,className:"w-full h-full object-cover"}):g.jsx(Bl,{size:12})}),g.jsx("span",{className:"truncate text-sm",children:G.profile?.firstName?`${G.profile.firstName} ${G.profile.lastName}`:G.username})]},G.id))})]}),g.jsx("div",{className:"lg:col-span-3 space-y-6",children:p?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 p-6 rounded-xl border-l-4 border-l-amber-500",children:[g.jsxs("h3",{className:"text-sm font-bold text-white flex items-center mb-3 uppercase tracking-widest",children:[g.jsx(vv,{size:16,className:"mr-2 text-amber-500"})," Direct Coach Note ",g.jsx("span",{className:"text-zinc-500 text-[10px] ml-2",children:"(24h Expiry)"})]}),g.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-lg p-4 text-sm text-white focus:border-amber-500/50 outline-none mb-3 min-h-[100px]",value:u,onChange:G=>d(G.target.value),placeholder:"Write an encouraging note..."}),g.jsx("button",{onClick:x,className:"bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold uppercase px-6 py-2 rounded-lg",children:"Pin to Client Home"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-5",children:[g.jsxs("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-1 flex items-center",children:[g.jsx(G0,{size:12,className:"mr-1"})," 7-Day Workouts"]}),g.jsx("div",{className:"text-3xl font-light text-white",children:R})]}),g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-5",children:[g.jsxs("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-1 flex items-center",children:[g.jsx(Gu,{size:12,className:"mr-1"})," 7-Day Water"]}),g.jsxs("div",{className:"text-3xl font-light text-white",children:[H," ",g.jsx("span",{className:"text-sm text-zinc-500",children:"L"})]})]}),g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-5",children:[g.jsxs("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-1 flex items-center",children:[g.jsx(Fu,{size:12,className:"mr-1"})," Avg Sleep"]}),g.jsxs("div",{className:"text-3xl font-light text-white",children:[te," ",g.jsx("span",{className:"text-sm text-zinc-500",children:"Hrs"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden flex flex-col max-h-[400px]",children:[g.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50 shrink-0",children:g.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Full Activity Log"})}),g.jsxs("div",{className:"p-4 space-y-3 overflow-y-auto flex-1",children:[[...v].reverse().map(G=>g.jsxs("div",{className:"bg-black p-4 rounded-xl border border-zinc-800/50",children:[g.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-zinc-900 pb-2",children:[g.jsxs("div",{className:"text-xs font-bold text-white flex items-center",children:[g.jsx(G0,{size:12,className:"mr-2 text-zinc-500"})," ",G.date]}),g.jsxs("div",{className:"text-[10px] font-bold text-zinc-500 bg-zinc-900 px-2 py-1 rounded",children:[G.hoursTrained," hrs"]})]}),g.jsxs("div",{className:"flex gap-4 mb-3 pt-1",children:[g.jsxs("div",{className:"flex items-center text-[10px] font-bold text-blue-400",children:[g.jsx(Gu,{size:12,className:"mr-1"})," ",G.water||0," L"]}),g.jsxs("div",{className:"flex items-center text-[10px] font-bold text-amber-400",children:[g.jsx(bv,{size:12,className:"mr-1"})," ",G.stretch||0," Min"]}),g.jsxs("div",{className:"flex items-center text-[10px] font-bold text-purple-400",children:[g.jsx(Fu,{size:12,className:"mr-1"})," ",G.sleep||0," Hrs"]})]}),G.food&&g.jsxs("div",{className:"text-[10px] text-zinc-400 bg-zinc-900/50 p-2 rounded",children:[g.jsx("strong",{className:"text-white",children:"Diet:"})," ",G.food]})]},G.id)),v.length===0&&g.jsx("div",{className:"text-center text-zinc-500 text-sm py-8",children:"No activity recorded yet."})]})]}),g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden flex flex-col max-h-[400px]",children:[g.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50 shrink-0",children:g.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Exercise Feedback"})}),g.jsxs("div",{className:"p-4 space-y-3 overflow-y-auto flex-1",children:[_.map(G=>g.jsxs("div",{className:"bg-black p-4 rounded-xl border border-zinc-800/50 flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-bold text-white mb-1",children:G.exerciseTitle}),g.jsx("div",{className:"text-[10px] text-zinc-500 font-mono",children:new Date(G.timestamp).toLocaleDateString()})]}),g.jsxs("div",{className:`px-3 py-1 rounded flex items-center text-[10px] font-bold uppercase tracking-widest ${G.rating==="Enjoyed"?"bg-emerald-950/50 text-emerald-500":"bg-red-950/50 text-red-500"}`,children:[G.rating==="Enjoyed"?g.jsx(xv,{size:12,className:"mr-1"}):g.jsx(Tv,{size:12,className:"mr-1"})," ",G.rating]})]},G.id)),_.length===0&&g.jsx("div",{className:"text-center text-zinc-500 text-sm py-8",children:"No feedback submitted yet."})]})]})]})]}):g.jsx("div",{className:"text-zinc-500 p-12 text-center",children:"Select a client"})})]})}function $C({user:s,users:e,exercises:i,meals:a,logs:l,sessionStartTime:u}){const[d,p]=le.useState("home"),[v,_]=le.useState(null),x=w=>{_(w),p("workouts")};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"pb-8 animate-in fade-in duration-500",children:[d==="home"&&g.jsx(JC,{user:s,logs:l,exercises:i,goToWorkout:x,setActiveTab:p,sessionStartTime:u}),d==="workouts"&&g.jsx(WC,{exercises:i,user:s,preSelectedCategory:v,clearSelection:()=>_(null),appId:ut,db:Ce}),d==="meals"&&g.jsx(ZC,{meals:a}),d==="journal"&&g.jsx(tI,{user:s,logs:l,appId:ut,db:Ce}),d==="profile"&&g.jsx(nI,{user:s,logs:l,appId:ut,db:Ce})]}),g.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-zinc-950/95 backdrop-blur-lg border-t border-zinc-800 pb-safe z-50",children:g.jsx("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto px-2",children:[{id:"home",label:"Home",icon:g.jsx(rx,{size:20})},{id:"workouts",label:"Classes",icon:g.jsx(Am,{size:20})},{id:"meals",label:"Meals",icon:g.jsx(wv,{size:20})},{id:"journal",label:"Journal",icon:g.jsx(WT,{size:20})},{id:"profile",label:"Profile",icon:g.jsx(Bl,{size:20})}].map(w=>g.jsxs("button",{onClick:()=>{p(w.id),w.id!=="workouts"&&_(null)},className:`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${d===w.id?"text-white":"text-zinc-500 hover:text-zinc-400"}`,children:[w.icon,g.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold tracking-widest uppercase",children:w.label})]},w.id))})})]})}function JC({user:s,logs:e,exercises:i,goToWorkout:a,setActiveTab:l,sessionStartTime:u}){const[d,p]=le.useState(0),[v,_]=le.useState(!0),x=e.filter(Z=>Z.userId===s.id),w=s.coachNote&&s.coachNoteTimestamp&&Date.now()-s.coachNoteTimestamp<864e5;le.useEffect(()=>{if(!u)return;const Z=Date.now()-u;p(Z);let ae=null;return v?ae=setInterval(()=>{p(Date.now()-u)},1e3):clearInterval(ae),()=>clearInterval(ae)},[v,u]);const R=Z=>{const ae=Math.floor(Z/1e3),ge=Math.floor(ae/3600).toString().padStart(2,"0"),Re=Math.floor(ae%3600/60).toString().padStart(2,"0"),se=(ae%60).toString().padStart(2,"0");return`${ge}:${Re}:${se}`},H=new Date,X=(H.getFullYear()+H.getMonth()+H.getDate())%jr.length,te=jr[X],G=[{title:"Build Muscle",img:"https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?auto=format&fit=crop&w=600&q=80",cat:"Fitness"},{title:"Full Body Power",img:"https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&w=600&q=80",cat:"Crossfit"},{title:"Core Crusher",img:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?auto=format&fit=crop&w=600&q=80",cat:"Functional flow"},{title:"Combat Endurance",img:"https://images.unsplash.com/photo-1599058917212-d750089bc07e?auto=format&fit=crop&w=600&q=80",cat:"Tae bo"}],K=G[(X+1)%G.length];return g.jsxs("div",{className:"space-y-6 max-w-md mx-auto w-full pt-2",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2 px-2",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hi, ",s.profile?.firstName||s.username]}),g.jsx("p",{className:"text-zinc-500 text-[10px] font-bold uppercase tracking-widest",children:"Let's crush it today."})]}),g.jsx("div",{className:"w-12 h-12 bg-zinc-900 rounded-full border border-zinc-700 overflow-hidden flex items-center justify-center",children:s.profile?.photo?g.jsx("img",{src:s.profile.photo,className:"w-full h-full object-cover"}):g.jsx(Bl,{size:20,className:"text-zinc-500"})})]}),g.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${v?"bg-red-500 animate-pulse":"bg-zinc-600"}`}),g.jsx("div",{className:"text-2xl font-mono text-white tracking-wider",children:R(d)})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>_(!v),className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:bg-zinc-200",children:v?g.jsx(dx,{size:18}):g.jsx(yx,{size:18,className:"ml-1"})}),g.jsx("button",{onClick:()=>{_(!1),p(0)},className:"w-10 h-10 rounded-full bg-zinc-800 text-white flex items-center justify-center hover:bg-zinc-700",children:g.jsx(bx,{size:16})})]})]}),w&&g.jsxs("div",{className:"bg-amber-950/20 border border-amber-900/50 rounded-2xl p-5 relative animate-in fade-in",children:[g.jsxs("div",{className:"flex items-center text-amber-500 mb-2",children:[g.jsx(vv,{size:16,className:"mr-2"}),g.jsx("span",{className:"text-[10px] font-bold tracking-widest uppercase",children:"Coach Note"})]}),g.jsx("p",{className:"text-amber-100/90 text-sm leading-relaxed whitespace-pre-wrap",children:s.coachNote})]}),g.jsxs("div",{onClick:()=>a(te.name),className:"relative h-32 rounded-2xl overflow-hidden cursor-pointer shadow-lg border border-zinc-800 group",children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 group-hover:bg-black/30 transition-colors z-10"}),g.jsx("img",{src:te.img,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),g.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-center p-6",children:[g.jsx("span",{className:"bg-white text-black text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-widest w-fit mb-2",children:"Daily Focus"}),g.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest drop-shadow-lg",children:te.name})]})]}),g.jsxs("div",{className:"relative h-40 rounded-2xl overflow-hidden shadow-lg border border-red-900/50 group bg-red-950 flex flex-col justify-end p-5",children:[g.jsx("img",{src:K.img,className:"absolute inset-0 w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-500 mix-blend-overlay"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 to-transparent z-10"}),g.jsxs("div",{className:"relative z-20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest mb-3",children:K.title}),g.jsx("button",{onClick:()=>a(K.cat),className:"w-full bg-red-600 hover:bg-red-500 text-white text-xs font-bold uppercase py-3 rounded-xl transition-colors",children:"Start Routine"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-black border border-zinc-800 rounded-2xl p-5 flex flex-col justify-between",children:[g.jsx(PT,{size:24,className:"text-zinc-600 mb-4"}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-3xl font-light text-white",children:[x.reduce((Z,ae)=>Z+(Number(ae.hoursTrained)||0),0)," ",g.jsx("span",{className:"text-sm text-zinc-500",children:"hrs"})]}),g.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"Time Trained"})]})]}),g.jsxs("div",{onClick:()=>l("meals"),className:"bg-gradient-to-br from-emerald-950/40 to-black border border-emerald-900/30 rounded-2xl p-5 flex flex-col justify-between cursor-pointer group",children:[g.jsx(ph,{size:24,className:"text-emerald-500 mb-4 group-hover:scale-110 transition-transform"}),g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-bold text-white mb-1",children:"Nutrition"}),g.jsx("div",{className:"text-[10px] font-bold text-emerald-500/80 uppercase tracking-widest",children:"Healthy Meals"})]})]})]})]})}function ZC({meals:s}){const[e,i]=le.useState(null),[a,l]=le.useState(null),u=s.filter(d=>d.category===e);return a?g.jsxs("div",{className:"fixed inset-0 z-[100] bg-black overflow-y-auto animate-in fade-in slide-in-from-bottom-8",children:[g.jsxs("div",{className:"relative h-64 sm:h-80 w-full bg-zinc-900",children:[g.jsx("button",{onClick:()=>l(null),className:"absolute top-6 left-4 z-10 bg-black/50 backdrop-blur-md p-3 rounded-full text-white hover:bg-black/80",children:g.jsx(em,{size:20})}),g.jsx("img",{src:a.imageUrl,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"}),g.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[g.jsxs("span",{className:"text-emerald-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:[a.category," Recipe"]}),g.jsx("h2",{className:"text-3xl font-bold text-white leading-tight",children:a.title})]})]}),g.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-24",children:[g.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-4 flex items-center",children:[g.jsx(ph,{size:16,className:"mr-2 text-emerald-500"})," Instructions"]}),g.jsx("div",{className:"text-zinc-300 whitespace-pre-wrap leading-relaxed bg-zinc-950 border border-zinc-800 p-6 rounded-2xl text-sm",children:a.instructions})]})]}):e?g.jsxs("div",{className:"space-y-6 animate-in fade-in max-w-5xl mx-auto pt-2",children:[g.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-sm font-bold uppercase tracking-widest text-zinc-400 hover:text-white group",children:[g.jsx(em,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back"]}),g.jsx("div",{className:"border-b border-zinc-800 pb-4",children:g.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:e})}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 pt-2",children:u.length>0?u.map(d=>g.jsxs("div",{onClick:()=>l(d),className:"bg-zinc-950 border border-zinc-800 rounded-2xl overflow-hidden flex flex-col shadow-xl cursor-pointer hover:border-emerald-500/50 transition-colors group",children:[g.jsx("div",{className:"h-32 w-full bg-zinc-900 relative",children:g.jsx("img",{src:d.imageUrl,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),g.jsx("div",{className:"p-4",children:g.jsx("h4",{className:"text-sm font-bold text-white leading-tight",children:d.title})})]},d.id)):g.jsx("div",{className:"col-span-full py-20 text-center text-zinc-500 bg-zinc-950/50 rounded-3xl border border-dashed border-zinc-800",children:"No recipes found for this diet yet."})})]}):g.jsxs("div",{className:"space-y-6 max-w-md mx-auto w-full pt-4",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6 tracking-wide text-center uppercase",children:"Meal Prep Plans"}),g.jsx("div",{className:"grid grid-cols-1 gap-4",children:wl.map(d=>g.jsxs("div",{onClick:()=>i(d.name),className:"relative h-32 rounded-3xl overflow-hidden cursor-pointer shadow-lg border border-zinc-800 group",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 group-hover:bg-black/40 transition-colors z-10"}),g.jsx("img",{src:d.img,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),g.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-center p-6 text-left",children:[g.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest drop-shadow-lg",children:d.name}),g.jsxs("div",{className:"text-[10px] font-bold tracking-widest uppercase text-emerald-400 mt-2 flex items-center",children:[g.jsx(wv,{size:12,className:"mr-2"})," View Recipes"]})]})]},d.name))})]})}function WC({exercises:s,user:e,preSelectedCategory:i,clearSelection:a,appId:l,db:u}){const[d,p]=le.useState(i||null),v=s.filter(_=>_.category===d);return le.useEffect(()=>{i&&p(i)},[i]),d?g.jsxs("div",{className:"space-y-6 animate-in fade-in max-w-5xl mx-auto pt-2",children:[g.jsxs("button",{onClick:()=>{p(null),a()},className:"flex items-center text-sm font-bold uppercase tracking-widest text-zinc-400 hover:text-white group",children:[g.jsx(em,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back"]}),g.jsx("div",{className:"border-b border-zinc-800 pb-4",children:g.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:d})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:v.map(_=>g.jsx(eI,{exercise:_,user:e,appId:l,db:u},_.id))})]}):g.jsxs("div",{className:"space-y-6 max-w-md mx-auto w-full pt-4",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6 tracking-wide text-center uppercase",children:"Choose Workout"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:jr.map(_=>g.jsxs("div",{onClick:()=>p(_.name),className:"group relative h-40 rounded-3xl overflow-hidden cursor-pointer shadow-lg border border-zinc-800",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 group-hover:bg-black/40 transition-colors z-10"}),g.jsx("img",{src:_.img,alt:_.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),g.jsx("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center p-6 text-center",children:g.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest drop-shadow-lg",children:_.name})})]},_.name))})]})}function eI({exercise:s,user:e,appId:i,db:a}){const[l,u]=le.useState(1),[d,p]=le.useState(5),[v,_]=le.useState(""),[x,w]=le.useState(!1),[R,H]=le.useState(!1),X=async()=>{if(v){_("");return}w(!0);const K=`Give me 3 quick, bulleted pro-tips on proper form and 1 common mistake to avoid for: "${s.title}". Keep it extremely brief.`,Z=await K1(K,"You are an elite personal trainer focusing on safe form.");_(Z),w(!1)},te=async K=>{if(!(!a||R))try{const Z=`fb_${e.id}_${Date.now()}`;await an(zt(a,"artifacts",i,"public","data","samfit_feedbacks",Z),{id:Z,userId:e.id,userName:e.username,exerciseId:s.id,exerciseTitle:s.title,rating:K,timestamp:Date.now()}),H(!0),alert(`Feedback recorded: ${K}`)}catch(Z){console.error("Feedback error",Z)}},G=()=>{if(!s.videoUrl)return g.jsxs("div",{className:"flex flex-col items-center justify-center text-zinc-700 h-full w-full absolute inset-0",children:[g.jsx(Mx,{size:40,className:"mb-3 opacity-30"}),g.jsx("span",{className:"text-xs uppercase tracking-widest font-bold",children:"No Video"})]});let K=s.videoUrl.replace("EMBED:","").replace("DIRECT:","");if(K.includes("youtube")||K.includes("youtu.be")){const Z=K.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return Z&&Z[2].length===11&&(K=`https://www.youtube.com/embed/${Z[2]}`),g.jsx("iframe",{src:K,className:"w-full h-full absolute inset-0 border-0",allowFullScreen:!0})}return g.jsx("video",{src:K,controls:!0,className:"w-full h-full absolute inset-0 object-cover"})};return g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl overflow-hidden flex flex-col",children:[g.jsx("div",{className:"aspect-video bg-black relative flex items-center justify-center border-b border-zinc-800 group overflow-hidden",children:G()}),g.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[g.jsx("h4",{className:"text-lg font-bold text-white leading-tight",children:s.title}),g.jsxs("div",{className:"flex items-center mt-2 mb-4 space-x-3 text-[10px] font-bold uppercase tracking-widest text-zinc-500",children:[g.jsxs("span",{className:"flex items-center text-amber-500",children:[g.jsx(Nm,{size:12,className:"mr-1"})," ",s.intensity||"High"," Intensity"]}),g.jsx("span",{className:"text-zinc-700",children:""}),g.jsxs("span",{className:"flex items-center",children:[g.jsx(_v,{size:12,className:"mr-1"})," ",s.duration||15," Mins"]})]}),s.instructions&&g.jsx("div",{className:"mb-4 p-4 bg-zinc-900/50 rounded-xl text-xs text-zinc-400 whitespace-pre-wrap leading-relaxed",children:s.instructions}),g.jsxs("div",{className:"flex space-x-2 mb-6",children:[g.jsxs("button",{onClick:()=>te("Enjoyed"),disabled:R,className:"flex-1 bg-zinc-900 hover:bg-zinc-800 text-zinc-400 text-[10px] font-bold uppercase py-2 rounded-lg flex items-center justify-center transition-colors disabled:opacity-50",children:[g.jsx(xv,{size:12,className:"mr-1"})," Enjoyed"]}),g.jsxs("button",{onClick:()=>te("Not Much"),disabled:R,className:"flex-1 bg-zinc-900 hover:bg-zinc-800 text-zinc-400 text-[10px] font-bold uppercase py-2 rounded-lg flex items-center justify-center transition-colors disabled:opacity-50",children:[g.jsx(Tv,{size:12,className:"mr-1"})," Not Much"]})]}),v&&g.jsxs("div",{className:"mb-4 p-4 bg-amber-950/20 border border-amber-900/30 rounded-xl text-xs text-zinc-300 whitespace-pre-wrap animate-in fade-in",children:[g.jsx("strong",{className:"text-amber-500 block mb-2 font-bold uppercase tracking-widest",children:"Coach's Form Tips"}),v]}),g.jsxs("button",{onClick:X,disabled:x,className:"text-[10px] font-bold tracking-widest uppercase text-amber-500 hover:text-amber-400 flex items-center mb-6 disabled:opacity-50 transition-colors",children:[g.jsx(gh,{size:12,className:"mr-1"})," ",x?"Consulting...":v?"Hide Tips":" AI Coach Tips"]}),g.jsxs("div",{className:"mt-auto",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-2",children:"Sets"}),g.jsxs("select",{value:l,onChange:K=>u(K.target.value),className:"w-full bg-black border border-zinc-800 text-white rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:1,children:"1 Set"}),g.jsx("option",{value:2,children:"2 Sets"}),g.jsx("option",{value:3,children:"3 Sets"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-2",children:"Reps"}),g.jsxs("select",{value:d,onChange:K=>p(K.target.value),className:"w-full bg-black border border-zinc-800 text-white rounded-xl p-3 text-sm outline-none",children:[g.jsx("option",{value:5,children:"5 Reps"}),g.jsx("option",{value:10,children:"10 Reps"}),g.jsx("option",{value:15,children:"15 Reps"})]})]})]}),g.jsx("button",{onClick:()=>alert("Great job! Keep the momentum going."),className:"w-full bg-white text-black text-sm font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors",children:"Mark as Done"})]})]})]})}function tI({user:s,logs:e,appId:i,db:a}){const l=new Date().toISOString().split("T")[0],[u,d]=le.useState(l),p=e.find(D=>D.userId===s.id&&D.date===u),[v,_]=le.useState(""),[x,w]=le.useState(""),[R,H]=le.useState(""),[X,te]=le.useState(""),[G,K]=le.useState(""),[Z,ae]=le.useState(!1),[ge,Re]=le.useState(""),[se,A]=le.useState(!1);le.useEffect(()=>{_(p?.food||""),w(p?.hoursTrained||""),H(p?.water||""),te(p?.stretch||""),K(p?.sleep||""),Re("")},[u,p]);const S=async()=>{if(!v)return alert("Please add some nutrition notes first!");A(!0);const D=`Analyze this daily food log: "${v}". Give a brief 3-bullet summary: 1. Quality, 2. Praise, 3. Suggestion.`,M=await K1(D,"You are a professional nutritionist. Keep responses concise.");Re(M),A(!1)},N=async()=>{if(a){ae(!0);try{await an(zt(a,"artifacts",i,"public","data","samfit_logs",`log_${s.id}_${u}`),{id:`log_${s.id}_${u}`,userId:s.id,date:u,food:v,hoursTrained:Number(x),water:Number(R),stretch:Number(X),sleep:Number(G),weightLog:s.profile?.weight||0}),alert("Journal entry safely stored in the cloud.")}catch(D){alert("Error saving: "+D.message)}ae(!1)}};return g.jsx("div",{className:"max-w-md mx-auto w-full pt-4 space-y-6",children:g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-zinc-800 pb-4",children:[g.jsx("h3",{className:"text-xl font-bold text-white tracking-wide",children:"Daily Log"}),g.jsx("input",{type:"date",value:u,onChange:D=>d(D.target.value),className:"bg-black border border-zinc-800 text-xs font-mono text-zinc-300 rounded-lg px-3 py-2 outline-none"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-3",children:"Daily Habits"}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center p-3 rounded-2xl border bg-black border-zinc-800 group focus-within:border-blue-500/50 transition-colors",children:[g.jsx(Gu,{size:20,className:"mb-2 text-blue-500"}),g.jsxs("div",{className:"flex items-center text-white font-mono border-b border-zinc-700 focus-within:border-blue-500 pb-1",children:[g.jsx("input",{type:"number",min:"0",step:"0.1",value:R,onChange:D=>H(D.target.value),placeholder:"0",className:"w-8 bg-transparent text-center outline-none text-sm"}),g.jsx("span",{className:"text-[10px] text-zinc-500 font-bold ml-1",children:"L"})]})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center p-3 rounded-2xl border bg-black border-zinc-800 group focus-within:border-amber-500/50 transition-colors",children:[g.jsx(bv,{size:20,className:"mb-2 text-amber-500"}),g.jsxs("div",{className:"flex items-center text-white font-mono border-b border-zinc-700 focus-within:border-amber-500 pb-1",children:[g.jsx("input",{type:"number",min:"0",value:X,onChange:D=>te(D.target.value),placeholder:"0",className:"w-8 bg-transparent text-center outline-none text-sm"}),g.jsx("span",{className:"text-[10px] text-zinc-500 font-bold ml-1",children:"MIN"})]})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center p-3 rounded-2xl border bg-black border-zinc-800 group focus-within:border-purple-500/50 transition-colors",children:[g.jsx(Fu,{size:20,className:"mb-2 text-purple-500"}),g.jsxs("div",{className:"flex items-center text-white font-mono border-b border-zinc-700 focus-within:border-purple-500 pb-1",children:[g.jsx("input",{type:"number",min:"0",step:"0.5",value:G,onChange:D=>K(D.target.value),placeholder:"0",className:"w-8 bg-transparent text-center outline-none text-sm"}),g.jsx("span",{className:"text-[10px] text-zinc-500 font-bold ml-1",children:"HRS"})]})]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase",children:"Nutrition Notes"}),g.jsxs("button",{onClick:S,disabled:se||!v,className:"text-[10px] font-bold tracking-widest uppercase text-emerald-500 hover:text-emerald-400 flex items-center disabled:opacity-50 transition-colors",children:[g.jsx(gh,{size:12,className:"mr-1"})," ",se?"Analyzing...":"AI Analyze"]})]}),g.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-2xl p-4 text-sm text-white min-h-[100px] outline-none",placeholder:"Meals, snacks, macros...",value:v,onChange:D=>_(D.target.value)}),ge&&g.jsxs("div",{className:"mt-3 p-4 bg-emerald-950/20 border border-emerald-900/30 rounded-xl text-xs text-zinc-300 whitespace-pre-wrap animate-in fade-in",children:[g.jsx("strong",{className:"text-emerald-500 block mb-2 font-bold uppercase tracking-widest",children:"AI Nutritionist"}),ge]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-3",children:"Training Hours"}),g.jsxs("div",{className:"flex items-center text-white font-mono border border-zinc-800 rounded-2xl p-4 bg-black focus-within:border-zinc-500 transition-colors",children:[g.jsx("input",{type:"number",step:"0.5",min:"0",className:"w-full bg-transparent outline-none text-sm",placeholder:"e.g. 1.5",value:x,onChange:D=>w(D.target.value)}),g.jsx("span",{className:"text-xs text-zinc-500 font-bold ml-2",children:"HRS"})]})]}),g.jsx("button",{onClick:N,disabled:Z,className:"w-full bg-white text-black text-sm font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors",children:Z?"Saving...":"Commit to Log"})]})]})})}function nI({user:s,logs:e,appId:i,db:a}){const[l,u]=le.useState({fitnessGoal:mh[0],...s.profile}),[d,p]=le.useState(!1),v=le.useRef(null),_=async K=>{if(K.preventDefault(),!!a){p(!0);try{await an(zt(a,"artifacts",i,"public","data","samfit_users",s.id),{...s,profile:l},{merge:!0}),alert("Profile synced! Make sure to log your Journal today to chart this weight.")}catch(Z){alert("Error updating: "+Z.message)}p(!1)}},x=async K=>{const Z=K.target.files[0];if(!Z)return;if(Z.size>8e5)return alert("Photo too large! Please choose a smaller image.");const ae=new FileReader;ae.onloadend=async()=>{const ge=ae.result;u(Re=>({...Re,photo:ge})),a&&await an(zt(a,"artifacts",i,"public","data","samfit_users",s.id),{...s,profile:{...l,photo:ge}},{merge:!0})},ae.readAsDataURL(Z)},w=e.filter(K=>K.userId===s.id),R=[...w].filter(K=>K.weightLog&&K.weightLog>0).sort((K,Z)=>new Date(K.date)-new Date(Z.date)).slice(-7),H=[...w].sort((K,Z)=>new Date(Z.date)-new Date(K.date)).slice(0,7),X=H.reduce((K,Z)=>K+Number(Z.water||0),0)>=14,te=H.reduce((K,Z)=>K+Number(Z.sleep||0),0)>=49,G=H.length>=4;return g.jsxs("div",{className:"max-w-md mx-auto w-full pt-4 space-y-6",children:[g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8 pt-4",children:[g.jsxs("div",{className:"relative group cursor-pointer mb-4",onClick:()=>v.current?.click(),children:[g.jsxs("div",{className:"w-28 h-28 bg-black rounded-full border-2 border-zinc-700 flex items-center justify-center overflow-hidden relative",children:[l.photo?g.jsx("img",{src:l.photo,className:"w-full h-full object-cover"}):g.jsx(Bl,{size:48,className:"text-zinc-700"}),g.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(GT,{size:24,className:"text-white"})})]}),g.jsx("input",{type:"file",accept:"image/*",ref:v,onChange:x,className:"hidden"})]}),g.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:l.firstName?`${l.firstName} ${l.lastName}`:s.username})]}),g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{className:"mb-4",children:[g.jsxs("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-2 flex items-center",children:[g.jsx(xx,{size:12,className:"mr-1"})," Fitness Goal"]}),g.jsx("select",{value:l.fitnessGoal,onChange:K=>u({...l,fitnessGoal:K.target.value}),className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none",children:mh.map(K=>g.jsx("option",{value:K,children:K},K))})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"H (M)"}),g.jsx("input",{type:"number",className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white font-mono outline-none",value:l.heightM,onChange:K=>u({...l,heightM:K.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"H (CM)"}),g.jsx("input",{type:"number",className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white font-mono outline-none",value:l.heightCm,onChange:K=>u({...l,heightCm:K.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"W (KG)"}),g.jsx("input",{type:"number",step:"0.1",className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white font-mono outline-none",value:l.weight,onChange:K=>u({...l,weight:K.target.value})})]})]}),g.jsx("button",{type:"submit",disabled:d,className:"w-full bg-zinc-900 text-white border border-zinc-800 text-sm font-bold uppercase tracking-widest py-4 rounded-xl mt-4",children:"Save Profile"})]})]}),g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6 relative",children:[g.jsxs("h4",{className:"text-[10px] font-bold tracking-widest text-zinc-500 mb-4 uppercase flex items-center",children:[g.jsx(cx,{size:14,className:"mr-2"})," Weekly Achievements"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:`p-4 rounded-2xl border flex items-center justify-between ${G?"bg-amber-950/20 border-amber-900/50":"bg-black border-zinc-800"}`,children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Nm,{size:16,className:`mr-3 ${G?"text-amber-500":"text-zinc-700"}`}),g.jsx("span",{className:`text-sm font-bold tracking-wide ${G?"text-white":"text-zinc-500"}`,children:"Iron Discipline"})]}),g.jsx("span",{className:"text-[10px] font-mono text-zinc-500",children:"4+ Workouts"})]}),g.jsxs("div",{className:`p-4 rounded-2xl border flex items-center justify-between ${X?"bg-blue-950/20 border-blue-900/50":"bg-black border-zinc-800"}`,children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Gu,{size:16,className:`mr-3 ${X?"text-blue-500":"text-zinc-700"}`}),g.jsx("span",{className:`text-sm font-bold tracking-wide ${X?"text-white":"text-zinc-500"}`,children:"Hydration Hero"})]}),g.jsx("span",{className:"text-[10px] font-mono text-zinc-500",children:"2L+ / Day"})]}),g.jsxs("div",{className:`p-4 rounded-2xl border flex items-center justify-between ${te?"bg-purple-950/20 border-purple-900/50":"bg-black border-zinc-800"}`,children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Fu,{size:16,className:`mr-3 ${te?"text-purple-500":"text-zinc-700"}`}),g.jsx("span",{className:`text-sm font-bold tracking-wide ${te?"text-white":"text-zinc-500"}`,children:"Recovery Master"})]}),g.jsx("span",{className:"text-[10px] font-mono text-zinc-500",children:"7hr+ / Night"})]})]})]}),g.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6 relative",children:[g.jsxs("h4",{className:"text-[10px] font-bold tracking-widest text-zinc-500 mb-8 uppercase flex items-center",children:[g.jsx(Rx,{size:14,className:"mr-2"})," Weight Trajectory"]}),g.jsx("div",{className:"h-40 flex items-end justify-between space-x-2 w-full overflow-x-auto pb-4 pt-8 border-b border-zinc-900",children:R.length>1?R.map((K,Z)=>{const ae=Math.max(...R.map(Re=>Re.weightLog||0),100),ge=(K.weightLog||0)/ae*100;return g.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-[30px] group relative h-full justify-end",children:[g.jsxs("div",{className:"absolute -top-6 opacity-0 group-hover:opacity-100 bg-white text-black font-bold font-mono text-[10px] px-2 py-1 rounded transition-opacity z-10 whitespace-nowrap",children:[K.weightLog," kg"]}),g.jsx("div",{className:"w-full max-w-[30px] bg-zinc-800 group-hover:bg-zinc-500 transition-colors rounded-t",style:{height:`${ge}%`,minHeight:"10%"}}),g.jsx("span",{className:"text-[9px] font-mono text-zinc-600 mt-2 whitespace-nowrap",children:K.date.substring(5)})]},Z)}):g.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-zinc-600 text-xs absolute inset-0 px-8 text-center leading-relaxed",children:"Log your weight in the Daily Journal for at least 2 days to generate your progress chart!"})})]})]})}OT.createRoot(document.getElementById("root")).render(g.jsx(le.StrictMode,{children:g.jsx(qC,{})}));
