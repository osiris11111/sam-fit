(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Gd={exports:{}},xl={};var $y;function tw(){if($y)return xl;$y=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var Jy;function nw(){return Jy||(Jy=1,Gd.exports=tw()),Gd.exports}var v=nw(),Kd={exports:{}},we={};var Zy;function iw(){if(Zy)return we;Zy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function B(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,ee={};function te(k,$,oe){this.props=k,this.context=$,this.refs=ee,this.updater=oe||W}te.prototype.isReactComponent={},te.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},te.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function P(){}P.prototype=te.prototype;function se(k,$,oe){this.props=k,this.context=$,this.refs=ee,this.updater=oe||W}var ne=se.prototype=new P;ne.constructor=se,G(ne,te.prototype),ne.isPureReactComponent=!0;var ge=Array.isArray;function fe(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function A(k,$,oe){var ce=oe.ref;return{$$typeof:s,type:k,key:$,ref:ce!==void 0?ce:null,props:oe}}function O(k,$){return A(k.type,$,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function V(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return $[oe]})}var I=/\/+/g;function Pe(k,$){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):$.toString(36)}function Qe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(fe,fe):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,$,oe,ce,Ee){var Re=typeof k;(Re==="undefined"||Re==="boolean")&&(k=null);var je=!1;if(k===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(k.$$typeof){case s:case e:je=!0;break;case T:return je=k._init,K(je(k._payload),$,oe,ce,Ee)}}if(je)return Ee=Ee(k),je=ce===""?"."+Pe(k,0):ce,ge(Ee)?(oe="",je!=null&&(oe=je.replace(I,"$&/")+"/"),K(Ee,$,oe,"",function(or){return or})):Ee!=null&&(C(Ee)&&(Ee=O(Ee,oe+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+je)),$.push(Ee)),1;je=0;var Dt=ce===""?".":ce+":";if(ge(k))for(var ot=0;ot<k.length;ot++)ce=k[ot],Re=Dt+Pe(ce,ot),je+=K(ce,$,oe,Re,Ee);else if(ot=B(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(ce=k.next()).done;)ce=ce.value,Re=Dt+Pe(ce,ot++),je+=K(ce,$,oe,Re,Ee);else if(Re==="object"){if(typeof k.then=="function")return K(Qe(k),$,oe,ce,Ee);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return je}function ae(k,$,oe){if(k==null)return k;var ce=[],Ee=0;return K(k,ce,"","",function(Re){return $.call(oe,Re,Ee++)}),ce}function ye(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var Ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ye={map:ae,forEach:function(k,$,oe){ae(k,function(){$.apply(this,arguments)},oe)},count:function(k){var $=0;return ae(k,function(){$++}),$},toArray:function(k){return ae(k,function($){return $})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=x,we.Children=Ye,we.Component=te,we.Fragment=i,we.Profiler=l,we.PureComponent=se,we.StrictMode=r,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,$,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=G({},k.props),Ee=k.key;if($!=null)for(Re in $.key!==void 0&&(Ee=""+$.key),$)!S.call($,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&$.ref===void 0||(ce[Re]=$[Re]);var Re=arguments.length-2;if(Re===1)ce.children=oe;else if(1<Re){for(var je=Array(Re),Dt=0;Dt<Re;Dt++)je[Dt]=arguments[Dt+2];ce.children=je}return A(k.type,Ee,ce)},we.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},we.createElement=function(k,$,oe){var ce,Ee={},Re=null;if($!=null)for(ce in $.key!==void 0&&(Re=""+$.key),$)S.call($,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=$[ce]);var je=arguments.length-2;if(je===1)Ee.children=oe;else if(1<je){for(var Dt=Array(je),ot=0;ot<je;ot++)Dt[ot]=arguments[ot+2];Ee.children=Dt}if(k&&k.defaultProps)for(ce in je=k.defaultProps,je)Ee[ce]===void 0&&(Ee[ce]=je[ce]);return A(k,Re,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:p,render:k}},we.isValidElement=C,we.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:ye}},we.memo=function(k,$){return{$$typeof:g,type:k,compare:$===void 0?null:$}},we.startTransition=function(k){var $=R.T,oe={};R.T=oe;try{var ce=k(),Ee=R.S;Ee!==null&&Ee(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(fe,Ue)}catch(Re){Ue(Re)}finally{$!==null&&oe.types!==null&&($.types=oe.types),R.T=$}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(k){return R.H.use(k)},we.useActionState=function(k,$,oe){return R.H.useActionState(k,$,oe)},we.useCallback=function(k,$){return R.H.useCallback(k,$)},we.useContext=function(k){return R.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,$){return R.H.useDeferredValue(k,$)},we.useEffect=function(k,$){return R.H.useEffect(k,$)},we.useEffectEvent=function(k){return R.H.useEffectEvent(k)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(k,$,oe){return R.H.useImperativeHandle(k,$,oe)},we.useInsertionEffect=function(k,$){return R.H.useInsertionEffect(k,$)},we.useLayoutEffect=function(k,$){return R.H.useLayoutEffect(k,$)},we.useMemo=function(k,$){return R.H.useMemo(k,$)},we.useOptimistic=function(k,$){return R.H.useOptimistic(k,$)},we.useReducer=function(k,$,oe){return R.H.useReducer(k,$,oe)},we.useRef=function(k){return R.H.useRef(k)},we.useState=function(k){return R.H.useState(k)},we.useSyncExternalStore=function(k,$,oe){return R.H.useSyncExternalStore(k,$,oe)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.4",we}var Wy;function Um(){return Wy||(Wy=1,Kd.exports=iw()),Kd.exports}var re=Um(),Qd={exports:{}},Al={},Yd={exports:{}},Xd={};var e_;function sw(){return e_||(e_=1,(function(s){function e(K,ae){var ye=K.length;K.push(ae);e:for(;0<ye;){var Ue=ye-1>>>1,Ye=K[Ue];if(0<l(Ye,ae))K[Ue]=ae,K[ye]=Ye,ye=Ue;else break e}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ae=K[0],ye=K.pop();if(ye!==ae){K[0]=ye;e:for(var Ue=0,Ye=K.length,k=Ye>>>1;Ue<k;){var $=2*(Ue+1)-1,oe=K[$],ce=$+1,Ee=K[ce];if(0>l(oe,ye))ce<Ye&&0>l(Ee,oe)?(K[Ue]=Ee,K[ce]=ye,Ue=ce):(K[Ue]=oe,K[$]=ye,Ue=$);else if(ce<Ye&&0>l(Ee,ye))K[Ue]=Ee,K[ce]=ye,Ue=ce;else break e}}return ae}function l(K,ae){var ye=K.sortIndex-ae.sortIndex;return ye!==0?ye:K.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],g=[],T=1,x=null,N=3,B=!1,W=!1,G=!1,ee=!1,te=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ne(K){for(var ae=i(g);ae!==null;){if(ae.callback===null)r(g);else if(ae.startTime<=K)r(g),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=i(g)}}function ge(K){if(G=!1,ne(K),!W)if(i(y)!==null)W=!0,fe||(fe=!0,V());else{var ae=i(g);ae!==null&&Qe(ge,ae.startTime-K)}}var fe=!1,R=-1,S=5,A=-1;function O(){return ee?!0:!(s.unstable_now()-A<S)}function C(){if(ee=!1,fe){var K=s.unstable_now();A=K;var ae=!0;try{e:{W=!1,G&&(G=!1,P(R),R=-1),B=!0;var ye=N;try{t:{for(ne(K),x=i(y);x!==null&&!(x.expirationTime>K&&O());){var Ue=x.callback;if(typeof Ue=="function"){x.callback=null,N=x.priorityLevel;var Ye=Ue(x.expirationTime<=K);if(K=s.unstable_now(),typeof Ye=="function"){x.callback=Ye,ne(K),ae=!0;break t}x===i(y)&&r(y),ne(K)}else r(y);x=i(y)}if(x!==null)ae=!0;else{var k=i(g);k!==null&&Qe(ge,k.startTime-K),ae=!1}}break e}finally{x=null,N=ye,B=!1}ae=void 0}}finally{ae?V():fe=!1}}}var V;if(typeof se=="function")V=function(){se(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pe=I.port2;I.port1.onmessage=C,V=function(){Pe.postMessage(null)}}else V=function(){te(C,0)};function Qe(K,ae){R=te(function(){K(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(K){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var ye=N;N=ae;try{return K()}finally{N=ye}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=N;N=K;try{return ae()}finally{N=ye}},s.unstable_scheduleCallback=function(K,ae,ye){var Ue=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ue+ye:Ue):ye=Ue,K){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ye+Ye,K={id:T++,callback:ae,priorityLevel:K,startTime:ye,expirationTime:Ye,sortIndex:-1},ye>Ue?(K.sortIndex=ye,e(g,K),i(y)===null&&K===i(g)&&(G?(P(R),R=-1):G=!0,Qe(ge,ye-Ue))):(K.sortIndex=Ye,e(y,K),W||B||(W=!0,fe||(fe=!0,V()))),K},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(K){var ae=N;return function(){var ye=N;N=ae;try{return K.apply(this,arguments)}finally{N=ye}}}})(Xd)),Xd}var t_;function rw(){return t_||(t_=1,Yd.exports=sw()),Yd.exports}var $d={exports:{}},$t={};var n_;function aw(){if(n_)return $t;n_=1;var s=Um();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:g,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,T)},$t.flushSync=function(y){var g=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=g,r.p=T,r.d.f()}},$t.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,x=p(T,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,B=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:B}):T==="script"&&r.d.X(y,{crossOrigin:x,integrity:N,fetchPriority:B,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},$t.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,x=p(T,g.crossOrigin);r.d.L(y,T,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,g){return y(g)},$t.useFormState=function(y,g,T){return d.H.useFormState(y,g,T)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var i_;function ow(){if(i_)return $d.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$d.exports=aw(),$d.exports}var s_;function lw(){if(s_)return Al;s_=1;var s=rw(),e=Um(),i=ow();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case te:return"Profiler";case ee:return"StrictMode";case ge:return"Suspense";case fe:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case se:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case ne:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Pe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Pe(t(n))}catch{}}return null}var Qe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ue=[],Ye=-1;function k(t){return{current:t}}function $(t){0>Ye||(t.current=Ue[Ye],Ue[Ye]=null,Ye--)}function oe(t,n){Ye++,Ue[Ye]=t.current,t.current=n}var ce=k(null),Ee=k(null),Re=k(null),je=k(null);function Dt(t,n){switch(oe(Re,n),oe(Ee,t),oe(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?vy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=vy(n),t=by(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ce),oe(ce,t)}function ot(){$(ce),$(Ee),$(Re)}function or(t){t.memoizedState!==null&&oe(je,t);var n=ce.current,a=by(n,t.type);n!==a&&(oe(Ee,t),oe(ce,a))}function sa(t){Ee.current===t&&($(ce),$(Ee)),je.current===t&&($(je),El._currentValue=ye)}var ra,aa;function ri(t){if(ra===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ra=n&&n[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+aa}var Eo=!1;function lr(t,n){if(!t||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var q=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){q=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){q=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var D=_.split(`
`),U=E.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===U.length)for(o=D.length-1,h=U.length-1;1<=o&&0<=h&&D[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==U[h]){var Q=`
`+D[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function To(t,n){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==n&&n!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return lr(t.type,!1);case 11:return lr(t.type.render,!1);case 1:return lr(t.type,!0);case 31:return ri("Activity");default:return""}}function wo(t){try{var n="",a=null;do n+=To(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Kh=s.unstable_shouldYield,uc=s.unstable_requestPaint,nn=s.unstable_now,cr=s.unstable_getCurrentPriorityLevel,So=s.unstable_ImmediatePriority,xo=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,Qh=s.unstable_LowPriority,hc=s.unstable_IdlePriority,fc=s.log,dc=s.unstable_setDisableYieldValue,Bn=null,Pt=null;function xn(t){if(typeof fc=="function"&&dc(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Bn,t)}catch{}}var dt=Math.clz32?Math.clz32:pc,mc=Math.log,oa=Math.LN2;function pc(t){return t>>>=0,t===0?32:31-(mc(t)/oa|0)|0}var ai=256,ur=262144,vt=4194304;function oi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(_&=E,_!==0?h=oi(_):a||(a=E&~t,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):_!==0?h=oi(_):a||(a=o&~t,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Hn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Yh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xh(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,U=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-dt(a),X=1<<Q;E[Q]=0,D[Q]=-1;var q=U[Q];if(q!==null)for(U[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~X}o!==0&&fr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function fr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ao(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ro(t,n){var a=n&-n;return a=(a&42)!==0?1:dr(a),(a&(t.suspendedLanes|n))!==0?0:a}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Hy(t.type))}function Fn(t,n){var a=ae.p;try{return ae.p=t,n()}finally{ae.p=a}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,Vt="__reactProps$"+Gn,ui="__reactContainer$"+Gn,la="__reactEvents$"+Gn,$h="__reactListeners$"+Gn,_c="__reactHandles$"+Gn,vc="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function ca(t){delete t[bt],delete t[Vt],delete t[la],delete t[$h],delete t[_c]}function fi(t){var n=t[bt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ui]||a[bt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ry(t);t!==null;){if(a=t[bt])return a;t=Ry(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[bt]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function di(t){var n=t[vc];return n||(n=t[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[hi]=!0}var No=new Set,Co={};function mi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(Co[t]=n,t=0;t<n.length;t++)No.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function bc(t){return _t.call(Oo,t)?!0:_t.call(Do,t)?!1:Io.test(t)?Oo[t]=!0:(Do[t]=!0,!1)}function ua(t,n,a){if(bc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function us(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=us(t)?"checked":"value";t._valueTracker=Mo(t,n,""+t[n])}}function mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=us(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pr=/[\n"\\]/g;function an(t){return t.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(t,n,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?ko(t,_,zt(n)):a!=null?ko(t,_,zt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+zt(E):t.removeAttribute("name")}function Ec(t,n,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xe(t);return}a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function ko(t,n,a){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Tc(t,n,a){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+zt(a):""}function fs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Qe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=zt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function on(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||wc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function zo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var jo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,yi=null;function gr(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[Vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(r(90));ha(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&mr(o)}break e;case"textarea":Tc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&hs(t,!!a.multiple,n,!1)}}}var ma=!1;function ps(t,n,a){if(ma)return t(n,a);ma=!0;try{var o=t(n);return o}finally{if(ma=!1,(ms!==null||yi!==null)&&(yu(),ms&&(n=ms,t=yi,yi=ms=null,gr(n),t)))for(n=0;n<t.length;n++)gr(t[n])}}function Qn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{yr=!1}var _i=null,Lo=null,_r=null;function Uo(){if(_r)return _r;var t,n=Lo,a=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return _r=h.slice(t,1<o?1-o:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Yn(){return!1}function qt(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Yn,this.isPropagationStopped=Yn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=qt(ji),gs=x({},ji,{view:0,detail:0}),Po=qt(gs),ys,pa,bi,ga=x({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(ys=t.screenX-bi.screenX,pa=t.screenY-bi.screenY):pa=ys=0,bi=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),qo=qt(ga),br=x({},ga,{dataTransfer:0}),xc=qt(br),Ac=x({},gs,{relatedTarget:0}),Er=qt(Ac),Bo=x({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=qt(Bo),ya=x({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nc=qt(ya),Cc=x({},ji,{data:0}),Ei=qt(Cc),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Oc[t])?!!n[t]:!1}function _s(){return Mc}var sn=x({},gs,{key:function(t){if(t.key){var n=Ic[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kc=qt(sn),Vc=x({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=qt(Vc),c=x({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=qt(c),b=x({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(b),j=x({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=qt(j),ie=x({},ji,{newState:0,oldState:0}),xe=qt(ie),mt=[9,13,27,32],Fe=Nn&&"CompositionEvent"in window,lt=null;Nn&&"documentMode"in document&&(lt=document.documentMode);var Cn=Nn&&"TextEvent"in window&&!lt,Ti=Nn&&(!Fe||lt&&8<lt&&11>=lt),Xn=" ",$n=!1;function Tr(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function xE(t,n){switch(t){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return t=n.data,t===Xn&&$n?null:t;default:return null}}function AE(t,n){if(va)return t==="compositionend"||!Fe&&Tr(t,n)?(t=Uo(),_r=Lo=_i=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!RE[t.type]:n==="textarea"}function Dp(t,n,a,o){ms?yi?yi.push(o):yi=[o]:ms=o,n=Su(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Ho=null,Fo=null;function NE(t){dy(t,0)}function zc(t){var n=pn(t);if(mr(n))return t}function Op(t,n){if(t==="change")return n}var Mp=!1;if(Nn){var Jh;if(Nn){var Zh="oninput"in document;if(!Zh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Zh=typeof kp.oninput=="function"}Jh=Zh}else Jh=!1;Mp=Jh&&(!document.documentMode||9<document.documentMode)}function Vp(){Ho&&(Ho.detachEvent("onpropertychange",zp),Fo=Ho=null)}function zp(t){if(t.propertyName==="value"&&zc(Fo)){var n=[];Dp(n,Fo,t,Rn(t)),ps(NE,n)}}function CE(t,n,a){t==="focusin"?(Vp(),Ho=n,Fo=a,Ho.attachEvent("onpropertychange",zp)):t==="focusout"&&Vp()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zc(Fo)}function DE(t,n){if(t==="click")return zc(n)}function OE(t,n){if(t==="input"||t==="change")return zc(n)}function ME(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:ME;function Go(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!yn(t[h],n[h]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lp(t,n){var a=jp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jp(a)}}function Up(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Up(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=gi(t.document)}return n}function Wh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var kE=Nn&&"documentMode"in document&&11>=document.documentMode,ba=null,ef=null,Ko=null,tf=!1;function qp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||ba==null||ba!==gi(o)||(o=ba,"selectionStart"in o&&Wh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ko&&Go(Ko,o)||(Ko=o,o=Su(ef,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ba)))}function wr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ea={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},nf={},Bp={};Nn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Sr(t){if(nf[t])return nf[t];if(!Ea[t])return t;var n=Ea[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Bp)return nf[t]=n[a];return t}var Hp=Sr("animationend"),Fp=Sr("animationiteration"),Gp=Sr("animationstart"),VE=Sr("transitionrun"),zE=Sr("transitionstart"),jE=Sr("transitioncancel"),Kp=Sr("transitionend"),Qp=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function Jn(t,n){Qp.set(t,n),mi(n,[t])}var jc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],Ta=0,rf=0;function Lc(){for(var t=Ta,n=rf=Ta=0;n<t;){var a=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Yp(a,h,f)}}function Uc(t,n,a,o){In[Ta++]=t,In[Ta++]=n,In[Ta++]=a,In[Ta++]=o,rf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function af(t,n,a,o){return Uc(t,n,a,o),Pc(t)}function xr(t,n){return Uc(t,null,null,n),Pc(t)}function Yp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Pc(t){if(50<ml)throw ml=0,pd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function LE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,a,o){return new LE(t,n,a,o)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var a=t.alternate;return a===null?(a=_n(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qc(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")of(t)&&(_=1);else if(typeof t=="string")_=HT(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=_n(31,a,n,h),t.elementType=A,t.lanes=f,t;case G:return Ar(a.children,h,f,n);case ee:_=8,h|=24;break;case te:return t=_n(12,a,n,h|2),t.elementType=te,t.lanes=f,t;case ge:return t=_n(13,a,n,h),t.elementType=ge,t.lanes=f,t;case fe:return t=_n(19,a,n,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case P:_=9;break e;case ne:_=11;break e;case R:_=14;break e;case S:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=_n(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ar(t,n,a,o){return t=_n(7,t,o,n),t.lanes=a,t}function lf(t,n,a){return t=_n(6,t,null,n),t.lanes=a,t}function $p(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function cf(t,n,a){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jp=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=Jp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:wo(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:wo(n)}}var Sa=[],xa=0,Bc=null,Qo=0,On=[],Mn=0,vs=null,wi=1,Si="";function Pi(t,n){Sa[xa++]=Qo,Sa[xa++]=Bc,Bc=t,Qo=n}function Zp(t,n,a){On[Mn++]=wi,On[Mn++]=Si,On[Mn++]=vs,vs=t;var o=wi;t=Si;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,wi=1<<32-dt(n)+h|a<<h|o,Si=f+t}else wi=1<<f|a<<h|o,Si=t}function uf(t){t.return!==null&&(Pi(t,1),Zp(t,1,0))}function hf(t){for(;t===Bc;)Bc=Sa[--xa],Sa[xa]=null,Qo=Sa[--xa],Sa[xa]=null;for(;t===vs;)vs=On[--Mn],On[Mn]=null,Si=On[--Mn],On[Mn]=null,wi=On[--Mn],On[Mn]=null}function Wp(t,n){On[Mn++]=wi,On[Mn++]=Si,On[Mn++]=vs,wi=n.id,Si=n.overflow,vs=t}var Bt=null,st=null,ze=!1,bs=null,kn=!1,ff=Error(r(519));function Es(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Dn(n,t)),ff}function eg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[bt]=t,n[Vt]=o,a){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)Ie(gl[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),Ec(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),fs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||yy(n.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),o.onScroll!=null&&Ie("scroll",n),o.onScrollEnd!=null&&Ie("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Es(t,!0)}function tg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Bt=Bt.return}}function Aa(t){if(t!==Bt)return!1;if(!ze)return tg(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Id(t.type,t.memoizedProps)),a=!a),a&&st&&Es(t),tg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=Ay(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=Ay(t)}else n===27?(n=st,Vs(t.type)?(t=Vd,Vd=null,st=t):st=n):st=Bt?zn(t.stateNode.nextSibling):null;return!0}function Rr(){st=Bt=null,ze=!1}function df(){var t=bs;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),bs=null),t}function Yo(t){bs===null?bs=[t]:bs.push(t)}var mf=k(null),Nr=null,qi=null;function Ts(t,n,a){oe(mf,n._currentValue),n._currentValue=a}function Bi(t){t._currentValue=mf.current,$(mf)}function pf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function gf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),pf(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),pf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&gf(n,t,a,o),n.flags|=262144}function Hc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cr(t){Nr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return ng(Nr,t)}function Fc(t,n){return Nr===null&&Cr(t),ng(t,n)}function ng(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(r(308));qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else qi=qi.next=n;return a}var UE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},PE=s.unstable_scheduleCallback,qE=s.unstable_NormalPriority,wt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new UE,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&PE(qE,function(){t.controller.abort()})}var $o=null,_f=0,Na=0,Ca=null;function BE(t,n){if($o===null){var a=$o=[];_f=0,Na=Ed(),Ca={status:"pending",value:void 0,then:function(o){a.push(o)}}}return _f++,n.then(ig,ig),n}function ig(){if(--_f===0&&$o!==null){Ca!==null&&(Ca.status="fulfilled");var t=$o;$o=null,Na=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function HE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sg=K.S;K.S=function(t,n){q0=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&BE(t,n),sg!==null&&sg(t,n)};var Ir=k(null);function vf(){var t=Ir.current;return t!==null?t:nt.pooledCache}function Gc(t,n){n===null?oe(Ir,Ir.current):oe(Ir,n.pool)}function rg(){var t=vf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ia=Error(r(460)),bf=Error(r(474)),Kc=Error(r(542)),Qc={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Kn,Kn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw Or=n,Ia}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Or=a,Ia):a}}var Or=null;function lg(){if(Or===null)throw Error(r(459));var t=Or;return Or=null,t}function cg(t){if(t===Ia||t===Kc)throw Error(r(483))}var Da=null,Jo=0;function Yc(t){var n=Jo;return Jo+=1,Da===null&&(Da=[]),og(Da,t,n)}function Zo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xc(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){function n(z,M){if(t){var L=z.deletions;L===null?(z.deletions=[M],z.flags|=16):L.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function o(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Ui(z,M),z.index=0,z.sibling=null,z}function f(z,M,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<M?(z.flags|=67108866,M):L):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,L,Y){return M===null||M.tag!==6?(M=lf(L,z.mode,Y),M.return=z,M):(M=h(M,L),M.return=z,M)}function D(z,M,L,Y){var me=L.type;return me===G?Q(z,M,L.props.children,Y,L.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Dr(me)===M.type)?(M=h(M,L.props),Zo(M,L),M.return=z,M):(M=qc(L.type,L.key,L.props,null,z.mode,Y),Zo(M,L),M.return=z,M)}function U(z,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=cf(L,z.mode,Y),M.return=z,M):(M=h(M,L.children||[]),M.return=z,M)}function Q(z,M,L,Y,me){return M===null||M.tag!==7?(M=Ar(L,z.mode,Y,me),M.return=z,M):(M=h(M,L),M.return=z,M)}function X(z,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=lf(""+M,z.mode,L),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return L=qc(M.type,M.key,M.props,null,z.mode,L),Zo(L,M),L.return=z,L;case W:return M=cf(M,z.mode,L),M.return=z,M;case S:return M=Dr(M),X(z,M,L)}if(Qe(M)||V(M))return M=Ar(M,z.mode,L,null),M.return=z,M;if(typeof M.then=="function")return X(z,Yc(M),L);if(M.$$typeof===se)return X(z,Fc(z,M),L);Xc(z,M)}return null}function q(z,M,L,Y){var me=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return me!==null?null:E(z,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===me?D(z,M,L,Y):null;case W:return L.key===me?U(z,M,L,Y):null;case S:return L=Dr(L),q(z,M,L,Y)}if(Qe(L)||V(L))return me!==null?null:Q(z,M,L,Y,null);if(typeof L.then=="function")return q(z,M,Yc(L),Y);if(L.$$typeof===se)return q(z,M,Fc(z,L),Y);Xc(z,L)}return null}function F(z,M,L,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(L)||null,E(M,z,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return z=z.get(Y.key===null?L:Y.key)||null,D(M,z,Y,me);case W:return z=z.get(Y.key===null?L:Y.key)||null,U(M,z,Y,me);case S:return Y=Dr(Y),F(z,M,L,Y,me)}if(Qe(Y)||V(Y))return z=z.get(L)||null,Q(M,z,Y,me,null);if(typeof Y.then=="function")return F(z,M,L,Yc(Y),me);if(Y.$$typeof===se)return F(z,M,L,Fc(M,Y),me);Xc(M,Y)}return null}function he(z,M,L,Y){for(var me=null,qe=null,de=M,Ne=M=0,Oe=null;de!==null&&Ne<L.length;Ne++){de.index>Ne?(Oe=de,de=null):Oe=de.sibling;var Be=q(z,de,L[Ne],Y);if(Be===null){de===null&&(de=Oe);break}t&&de&&Be.alternate===null&&n(z,de),M=f(Be,M,Ne),qe===null?me=Be:qe.sibling=Be,qe=Be,de=Oe}if(Ne===L.length)return a(z,de),ze&&Pi(z,Ne),me;if(de===null){for(;Ne<L.length;Ne++)de=X(z,L[Ne],Y),de!==null&&(M=f(de,M,Ne),qe===null?me=de:qe.sibling=de,qe=de);return ze&&Pi(z,Ne),me}for(de=o(de);Ne<L.length;Ne++)Oe=F(de,z,Ne,L[Ne],Y),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ne:Oe.key),M=f(Oe,M,Ne),qe===null?me=Oe:qe.sibling=Oe,qe=Oe);return t&&de.forEach(function(Ps){return n(z,Ps)}),ze&&Pi(z,Ne),me}function _e(z,M,L,Y){if(L==null)throw Error(r(151));for(var me=null,qe=null,de=M,Ne=M=0,Oe=null,Be=L.next();de!==null&&!Be.done;Ne++,Be=L.next()){de.index>Ne?(Oe=de,de=null):Oe=de.sibling;var Ps=q(z,de,Be.value,Y);if(Ps===null){de===null&&(de=Oe);break}t&&de&&Ps.alternate===null&&n(z,de),M=f(Ps,M,Ne),qe===null?me=Ps:qe.sibling=Ps,qe=Ps,de=Oe}if(Be.done)return a(z,de),ze&&Pi(z,Ne),me;if(de===null){for(;!Be.done;Ne++,Be=L.next())Be=X(z,Be.value,Y),Be!==null&&(M=f(Be,M,Ne),qe===null?me=Be:qe.sibling=Be,qe=Be);return ze&&Pi(z,Ne),me}for(de=o(de);!Be.done;Ne++,Be=L.next())Be=F(de,z,Ne,Be.value,Y),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ne:Be.key),M=f(Be,M,Ne),qe===null?me=Be:qe.sibling=Be,qe=Be);return t&&de.forEach(function(ew){return n(z,ew)}),ze&&Pi(z,Ne),me}function tt(z,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===G&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:e:{for(var me=L.key;M!==null;){if(M.key===me){if(me=L.type,me===G){if(M.tag===7){a(z,M.sibling),Y=h(M,L.props.children),Y.return=z,z=Y;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Dr(me)===M.type){a(z,M.sibling),Y=h(M,L.props),Zo(Y,L),Y.return=z,z=Y;break e}a(z,M);break}else n(z,M);M=M.sibling}L.type===G?(Y=Ar(L.props.children,z.mode,Y,L.key),Y.return=z,z=Y):(Y=qc(L.type,L.key,L.props,null,z.mode,Y),Zo(Y,L),Y.return=z,z=Y)}return _(z);case W:e:{for(me=L.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(z,M.sibling),Y=h(M,L.children||[]),Y.return=z,z=Y;break e}else{a(z,M);break}else n(z,M);M=M.sibling}Y=cf(L,z.mode,Y),Y.return=z,z=Y}return _(z);case S:return L=Dr(L),tt(z,M,L,Y)}if(Qe(L))return he(z,M,L,Y);if(V(L)){if(me=V(L),typeof me!="function")throw Error(r(150));return L=me.call(L),_e(z,M,L,Y)}if(typeof L.then=="function")return tt(z,M,Yc(L),Y);if(L.$$typeof===se)return tt(z,M,Fc(z,L),Y);Xc(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(z,M.sibling),Y=h(M,L),Y.return=z,z=Y):(a(z,M),Y=lf(L,z.mode,Y),Y.return=z,z=Y),_(z)):a(z,M)}return function(z,M,L,Y){try{Jo=0;var me=tt(z,M,L,Y);return Da=null,me}catch(de){if(de===Ia||de===Kc)throw de;var qe=_n(29,de,null,z.mode);return qe.lanes=Y,qe.return=z,qe}}}var Mr=ug(!0),hg=ug(!1),ws=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pc(t),Yp(t,null,a),n}return Uc(t,o,n,a),Pc(t)}function Wo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}function wf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Sf=!1;function el(){if(Sf){var t=Ca;if(t!==null)throw t}}function tl(t,n,a,o){Sf=!1;var h=t.updateQueue;ws=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,U=D.next;D.next=null,_===null?f=U:_.next=U,_=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==_&&(E===null?Q.firstBaseUpdate=U:E.next=U,Q.lastBaseUpdate=D))}if(f!==null){var X=h.baseState;_=0,Q=U=D=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(De&q)===q:(o&q)===q){q!==0&&q===Na&&(Sf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,_e=E;q=n;var tt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){X=he.call(tt,X,q);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,q=typeof he=="function"?he.call(tt,X,q):he,q==null)break e;X=x({},X,q);break e;case 2:ws=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(U=Q=F,D=X):Q=Q.next=F,_|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(D=X),h.baseState=D,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Is|=_,t.lanes=_,t.memoizedState=X}}function fg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function dg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fg(a[t],n)}var Oa=k(null),$c=k(0);function mg(t,n){t=Ji,oe($c,t),oe(Oa,n),Ji=t|n.baseLanes}function xf(){oe($c,Ji),oe(Oa,Oa.current)}function Af(){Ji=$c.current,$(Oa),$($c)}var vn=k(null),Vn=null;function As(t){var n=t.alternate;oe(pt,pt.current&1),oe(vn,t),Vn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Vn=t)}function Rf(t){oe(pt,pt.current),oe(vn,t),Vn===null&&(Vn=t)}function pg(t){t.tag===22?(oe(pt,pt.current),oe(vn,t),Vn===null&&(Vn=t)):Rs()}function Rs(){oe(pt,pt.current),oe(vn,vn.current)}function bn(t){$(vn),Vn===t&&(Vn=null),$(pt)}var pt=k(0);function Jc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Md(a)||kd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Ae=null,We=null,St=null,Zc=!1,Ma=!1,kr=!1,Wc=0,nl=0,ka=null,FE=0;function ht(){throw Error(r(321))}function Nf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!yn(t[a],n[a]))return!1;return!0}function Cf(t,n,a,o,h,f){return Hi=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Zg:Ff,kr=!1,f=a(o,h),kr=!1,Ma&&(f=yg(n,a,o,h)),gg(t),f}function gg(t){K.H=rl;var n=We!==null&&We.next!==null;if(Hi=0,St=We=Ae=null,Zc=!1,nl=0,ka=null,n)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&Hc(t)&&(xt=!0))}function yg(t,n,a,o){Ae=t;var h=0;do{if(Ma&&(ka=null),nl=0,Ma=!1,25<=h)throw Error(r(301));if(h+=1,St=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Wg,f=n(a,o)}while(Ma);return f}function GE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ae.flags|=1024),n}function If(){var t=Wc!==0;return Wc=0,t}function Df(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Of(t){if(Zc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zc=!1}Hi=0,St=We=Ae=null,Ma=!1,nl=Wc=0,ka=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=t:St=St.next=t,St}function gt(){if(We===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=St===null?Ae.memoizedState:St.next;if(n!==null)St=n,We=t;else{if(t===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Ae.memoizedState=St=t:St=St.next=t}return St}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,ka===null&&(ka=[]),t=og(ka,t,n),n=Ae,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Zg:Ff),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===se)return Ht(t)}throw Error(r(438,String(t)))}function Mf(t){var n=null,a=Ae.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=eu(),Ae.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=O;return n.index++,a}function Fi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=gt();return kf(n,We,t)}function kf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,D=null,U=n,Q=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(De&X)===X:(Hi&X)===X){var q=U.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Na&&(Q=!0);else if((Hi&q)===q){U=U.next,q===Na&&(Q=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(E=D=X,_=f):D=D.next=X,Ae.lanes|=q,Is|=q;X=U.action,kr&&a(f,X),f=U.hasEagerState?U.eagerState:a(f,X)}else q={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(E=D=q,_=f):D=D.next=q,Ae.lanes|=X,Is|=X;U=U.next}while(U!==null&&U!==n);if(D===null?_=f:D.next=E,!yn(f,t.memoizedState)&&(xt=!0,Q&&(a=Ca,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Vf(t){var n=gt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);yn(f,n.memoizedState)||(xt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function _g(t,n,a){var o=Ae,h=gt(),f=ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!yn((We||h).memoizedState,a);if(_&&(h.memoizedState=a,xt=!0),h=h.queue,Lf(Eg.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},bg.bind(null,o,h,a,n),null),nt===null)throw Error(r(349));f||(Hi&127)!==0||vg(o,n,a)}return a}function vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ae.updateQueue,n===null?(n=eu(),Ae.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function bg(t,n,a,o){n.value=a,n.getSnapshot=o,Tg(n)&&wg(t)}function Eg(t,n,a){return a(function(){Tg(n)&&wg(t)})}function Tg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!yn(t,a)}catch{return!0}}function wg(t){var n=xr(t,2);n!==null&&fn(n,t,2)}function zf(t){var n=rn();if(typeof t=="function"){var a=t;if(t=a(),kr){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function Sg(t,n,a,o){return t.baseState=a,kf(t,We,typeof o=="function"?o:Fi)}function KE(t,n,a,o,h){if(ru(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,xg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function xg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,_={};K.T=_;try{var E=a(h,o),D=K.S;D!==null&&D(_,E),Ag(t,n,E)}catch(U){jf(t,n,U)}finally{f!==null&&_.types!==null&&(f.types=_.types),K.T=f}}else try{f=a(h,o),Ag(t,n,f)}catch(U){jf(t,n,U)}}function Ag(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rg(t,n,o)},function(o){return jf(t,n,o)}):Rg(t,n,a)}function Rg(t,n,a){n.status="fulfilled",n.value=a,Ng(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,xg(t,a)))}function jf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ng(n),n=n.next;while(n!==o)}t.action=null}function Ng(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Cg(t,n){return n}function Ig(t,n){if(ze){var a=nt.formState;if(a!==null){e:{var o=Ae;if(ze){if(st){t:{for(var h=st,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){st=zn(h.nextSibling),o=h.data==="F!";break e}}Es(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},a.queue=o,a=Xg.bind(null,Ae,o),o.dispatch=a,o=zf(!1),f=Hf.bind(null,Ae,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=KE.bind(null,Ae,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Dg(t){var n=gt();return Og(n,We,t)}function Og(t,n,a){if(n=kf(t,n,Cg)[0],t=nu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(_){throw _===Ia?Kc:_}else o=n;n=gt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ae.flags|=2048,Va(9,{destroy:void 0},QE.bind(null,h,a),null)),[o,f,t]}function QE(t,n){t.action=n}function Mg(t){var n=gt(),a=We;if(a!==null)return Og(n,a,t);gt(),n=n.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Va(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=eu(),Ae.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function kg(){return gt().memoizedState}function iu(t,n,a,o){var h=rn();Ae.flags|=t,h.memoizedState=Va(1|n,{destroy:void 0},a,o===void 0?null:o)}function su(t,n,a,o){var h=gt();o=o===void 0?null:o;var f=h.memoizedState.inst;We!==null&&o!==null&&Nf(o,We.memoizedState.deps)?h.memoizedState=Va(n,f,a,o):(Ae.flags|=t,h.memoizedState=Va(1|n,f,a,o))}function Vg(t,n){iu(8390656,8,t,n)}function Lf(t,n){su(2048,8,t,n)}function YE(t){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=eu(),Ae.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function zg(t){var n=gt().memoizedState;return YE({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function jg(t,n){return su(4,2,t,n)}function Lg(t,n){return su(4,4,t,n)}function Ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pg(t,n,a){a=a!=null?a.concat([t]):null,su(4,4,Ug.bind(null,n,t),a)}function Uf(){}function qg(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Nf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Bg(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Nf(n,o[1]))return o[0];if(o=t(),kr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,n],o}function Pf(t,n,a){return a===void 0||(Hi&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=H0(),Ae.lanes|=t,Is|=t,a)}function Hg(t,n,a,o){return yn(a,n)?a:Oa.current!==null?(t=Pf(t,a,o),yn(t,n)||(xt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=H0(),Ae.lanes|=t,Is|=t,n)}function Fg(t,n,a,o,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var _=K.T,E={};K.T=E,Hf(t,!1,n,a);try{var D=h(),U=K.S;if(U!==null&&U(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=HE(D,o);sl(t,n,Q,wn(t))}else sl(t,n,o,wn(t))}catch(X){sl(t,n,{then:function(){},status:"rejected",reason:X},wn())}finally{ae.p=f,_!==null&&E.types!==null&&(_.types=E.types),K.T=_}}function XE(){}function qf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Gg(t).queue;Fg(t,h,n,ye,a===null?XE:function(){return Kg(t),a(o)})}function Gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Gg(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},wn())}function Bf(){return Ht(El)}function Qg(){return gt().memoizedState}function Yg(){return gt().memoizedState}function $E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=Ss(a);var o=xs(n,t,a);o!==null&&(fn(o,n,a),Wo(o,n,a)),n={cache:yf()},t.payload=n;return}n=n.return}}function JE(t,n,a){var o=wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ru(t)?$g(n,a):(a=af(t,n,a,o),a!==null&&(fn(a,t,o),Jg(a,n,o)))}function Xg(t,n,a){var o=wn();sl(t,n,a,o)}function sl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ru(t))$g(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,_))return Uc(t,n,h,0),nt===null&&Lc(),!1}catch{}if(a=af(t,n,h,o),a!==null)return fn(a,t,o),Jg(a,n,o),!0}return!1}function Hf(t,n,a,o){if(o={lane:2,revertLane:Ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(r(479))}else n=af(t,a,o,2),n!==null&&fn(n,t,2)}function ru(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function $g(t,n){Ma=Zc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Jg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}var rl={readContext:Ht,use:tu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};rl.useEffectEvent=ht;var Zg={readContext:Ht,use:tu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Vg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,iu(4194308,4,Ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var a=rn();n=n===void 0?null:n;var o=t();if(kr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=rn();if(a!==void 0){var h=a(n);if(kr){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=JE.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=zf(t);var n=t.queue,a=Xg.bind(null,Ae,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(t,n){var a=rn();return Pf(a,t,n)},useTransition:function(){var t=zf(!1);return t=Fg.bind(null,Ae,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ae,h=rn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),nt===null)throw Error(r(349));(De&127)!==0||vg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Vg(Eg.bind(null,o,f,t),[t]),o.flags|=2048,Va(9,{destroy:void 0},bg.bind(null,o,f,a,n),null),a},useId:function(){var t=rn(),n=nt.identifierPrefix;if(ze){var a=Si,o=wi;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=FE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Hf.bind(null,Ae,!0,a),a.dispatch=n,[t,n]},useMemoCache:Mf,useCacheRefresh:function(){return rn().memoizedState=$E.bind(null,Ae)},useEffectEvent:function(t){var n=rn(),a={impl:t};return n.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ff={readContext:Ht,use:tu,useCallback:qg,useContext:Ht,useEffect:Lf,useImperativeHandle:Pg,useInsertionEffect:jg,useLayoutEffect:Lg,useMemo:Bg,useReducer:nu,useRef:kg,useState:function(){return nu(Fi)},useDebugValue:Uf,useDeferredValue:function(t,n){var a=gt();return Hg(a,We.memoizedState,t,n)},useTransition:function(){var t=nu(Fi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:_g,useId:Qg,useHostTransitionStatus:Bf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var a=gt();return Sg(a,We,t,n)},useMemoCache:Mf,useCacheRefresh:Yg};Ff.useEffectEvent=zg;var Wg={readContext:Ht,use:tu,useCallback:qg,useContext:Ht,useEffect:Lf,useImperativeHandle:Pg,useInsertionEffect:jg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Vf,useRef:kg,useState:function(){return Vf(Fi)},useDebugValue:Uf,useDeferredValue:function(t,n){var a=gt();return We===null?Pf(a,t,n):Hg(a,We.memoizedState,t,n)},useTransition:function(){var t=Vf(Fi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:_g,useId:Qg,useHostTransitionStatus:Bf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var a=gt();return We!==null?Sg(a,We,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Yg};Wg.useEffectEvent=zg;function Gf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=wn(),h=Ss(o);h.payload=n,a!=null&&(h.callback=a),n=xs(t,h,o),n!==null&&(fn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=wn(),h=Ss(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=xs(t,h,o),n!==null&&(fn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),o=Ss(a);o.tag=2,n!=null&&(o.callback=n),n=xs(t,o,a),n!==null&&(fn(n,t,a),Wo(n,t,a))}};function e0(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Go(a,o)||!Go(h,f):!0}function t0(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Kf.enqueueReplaceState(n,n.state,null)}function Vr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function n0(t){jc(t)}function i0(t){console.error(t)}function s0(t){jc(t)}function au(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function r0(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(t,n,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){au(t,n)},a}function a0(t){return t=Ss(t),t.tag=3,t}function o0(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){r0(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){r0(n,a,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function ZE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ra(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?_u():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Qc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),_d(t,o,h)),!1;case 22:return a.flags|=65536,o===Qc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),_d(t,o,h)),!1}throw Error(r(435,a.tag))}return _d(t,o,h),_u(),!1}if(ze)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ff&&(t=Error(r(422),{cause:o}),Yo(Dn(t,a)))):(o!==ff&&(n=Error(r(423),{cause:o}),Yo(Dn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,a),h=Qf(t.stateNode,o,h),wf(t,h),ft!==4&&(ft=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),dl===null?dl=[f]:dl.push(f),ft!==4&&(ft=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Qf(a.stateNode,o,t),wf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=a0(h),o0(h,t,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var Yf=Error(r(461)),xt=!1;function Ft(t,n,a,o){n.child=t===null?hg(n,null,a,o):Mr(n,t.child,a,o)}function l0(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Cr(n),o=Cf(t,n,a,_,f,h),E=If(),t!==null&&!xt?(Df(t,n,h),Gi(t,n,h)):(ze&&E&&uf(n),n.flags|=1,Ft(t,n,o,h),n.child)}function c0(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!of(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,u0(t,n,f,o,h)):(t=qc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!nd(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,o)&&t.ref===n.ref)return Gi(t,n,h)}return n.flags|=1,t=Ui(f,o),t.ref=n.ref,t.return=n,n.child=t}function u0(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===n.ref)if(xt=!1,n.pendingProps=o=f,nd(t,h))(t.flags&131072)!==0&&(xt=!0);else return n.lanes=t.lanes,Gi(t,n,h)}return Xf(t,n,a,o,h)}function h0(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return f0(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gc(n,f!==null?f.cachePool:null),f!==null?mg(n,f):xf(),pg(n);else return o=n.lanes=536870912,f0(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Gc(n,f.cachePool),mg(n,f),Rs(),n.memoizedState=null):(t!==null&&Gc(n,null),xf(),Rs());return Ft(t,n,h,a),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function f0(t,n,a,o,h){var f=vf();return f=f===null?null:{parent:wt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Gc(n,null),xf(),pg(n),t!==null&&Ra(t,n,o,!0),n.childLanes=h,null}function ou(t,n){return n=cu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function d0(t,n,a){return Mr(n,t.child,null,a),t=ou(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function WE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=ou(n,o),n.lanes=536870912,al(null,t);if(Rf(n),(t=st)?(t=xy(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=$p(t),a.return=n,n.child=a,Bt=n,st=null)):t=null,t===null)throw Es(n);return n.lanes=536870912,null}return ou(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Rf(n),h)if(n.flags&256)n.flags&=-257,n=d0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(xt||Ra(t,n,a,!1),h=(a&t.childLanes)!==0,xt||h){if(o=nt,o!==null&&(_=Ro(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,xr(t,_),fn(o,t,_),Yf;_u(),n=d0(t,n,a)}else t=f.treeContext,st=zn(_.nextSibling),Bt=n,ze=!0,bs=null,kn=!1,t!==null&&Wp(n,t),n=ou(n,o),n.flags|=4096;return n}return t=Ui(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Xf(t,n,a,o,h){return Cr(n),a=Cf(t,n,a,o,void 0,h),o=If(),t!==null&&!xt?(Df(t,n,h),Gi(t,n,h)):(ze&&o&&uf(n),n.flags|=1,Ft(t,n,a,h),n.child)}function m0(t,n,a,o,h,f){return Cr(n),n.updateQueue=null,a=yg(n,o,a,h),gg(t),o=If(),t!==null&&!xt?(Df(t,n,f),Gi(t,n,f)):(ze&&o&&uf(n),n.flags|=1,Ft(t,n,a,f),n.child)}function p0(t,n,a,o,h){if(Cr(n),n.stateNode===null){var f=wa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ht(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Ef(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ht(_):wa,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Kf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=Vr(a,E);f.props=D;var U=f.context,Q=a.contextType;_=wa,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==_)&&t0(n,f,o,_),ws=!1;var q=n.memoizedState;f.state=q,tl(n,o,f,h),el(),U=n.memoizedState,E||q!==U||ws?(typeof X=="function"&&(Gf(n,a,X,o),U=n.memoizedState),(D=ws||e0(n,a,D,o,q,U,_))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=_,o=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Tf(t,n),_=n.memoizedProps,Q=Vr(a,_),f.props=Q,X=n.pendingProps,q=f.context,U=a.contextType,D=wa,typeof U=="object"&&U!==null&&(D=Ht(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||q!==D)&&t0(n,f,o,D),ws=!1,q=n.memoizedState,f.state=q,tl(n,o,f,h),el();var F=n.memoizedState;_!==X||q!==F||ws||t!==null&&t.dependencies!==null&&Hc(t.dependencies)?(typeof E=="function"&&(Gf(n,a,E,o),F=n.memoizedState),(Q=ws||e0(n,a,Q,o,q,F,D)||t!==null&&t.dependencies!==null&&Hc(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=D,o=Q):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,lu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Mr(n,t.child,null,h),n.child=Mr(n,null,a,h)):Ft(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Gi(t,n,h),t}function g0(t,n,a,o){return Rr(),n.flags|=256,Ft(t,n,a,o),n.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:rg()}}function Zf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function y0(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?As(n):Rs(),(t=st)?(t=xy(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=$p(t),a.return=n,n.child=a,Bt=n,st=null)):t=null,t===null)throw Es(n);return kd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rs(),h=n.mode,E=cu({mode:"hidden",children:E},h),o=Ar(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Jf(a),o.childLanes=Zf(t,_,a),n.memoizedState=$f,al(null,o)):(As(n),Wf(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=ed(t,n,a)):n.memoizedState!==null?(Rs(),n.child=t.child,n.flags|=128,n=null):(Rs(),E=o.fallback,h=n.mode,o=cu({mode:"visible",children:o.children},h),E=Ar(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Mr(n,t.child,null,a),o=n.child,o.memoizedState=Jf(a),o.childLanes=Zf(t,_,a),n.memoizedState=$f,n=al(null,o));else if(As(n),kd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var U=_.dgst;_=U,o=Error(r(419)),o.stack="",o.digest=_,Yo({value:o,source:null,stack:null}),n=ed(t,n,a)}else if(xt||Ra(t,n,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=nt,_!==null&&(o=Ro(_,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,xr(t,o),fn(_,t,o),Yf;Md(E)||_u(),n=ed(t,n,a)}else Md(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,st=zn(E.nextSibling),Bt=n,ze=!0,bs=null,kn=!1,t!==null&&Wp(n,t),n=Wf(n,o.children),n.flags|=4096);return n}return h?(Rs(),E=o.fallback,h=n.mode,D=t.child,U=D.sibling,o=Ui(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,U!==null?E=Ui(U,E):(E=Ar(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Jf(a):(h=E.cachePool,h!==null?(D=wt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=rg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Zf(t,_,a),n.memoizedState=$f,al(t.child,o)):(As(n),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Wf(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function ed(t,n,a){return Mr(n,t.child,null,a),t=Wf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _0(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),pf(t.return,n,a)}function td(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function v0(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=pt.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,oe(pt,_),Ft(t,n,o,a),o=ze?Qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_0(t,a,n);else if(t.tag===19)_0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Jc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),td(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Jc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}td(n,!0,a,null,f,o);break;case"together":td(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Gi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Is|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ra(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ui(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function nd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hc(t)))}function eT(t,n,a){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),Ts(n,wt,t.memoizedState.cache),Rr();break;case 27:case 5:or(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(a&n.child.childLanes)!==0?y0(t,n,a):(As(n),t=Gi(t,n,a),t!==null?t.sibling:null);As(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ra(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return v0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(pt,pt.current),o)break;return null;case 22:return n.lanes=0,h0(t,n,a,n.pendingProps);case 24:Ts(n,wt,t.memoizedState.cache)}return Gi(t,n,a)}function b0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)xt=!0;else{if(!nd(t,a)&&(n.flags&128)===0)return xt=!1,eT(t,n,a);xt=(t.flags&131072)!==0}else xt=!1,ze&&(n.flags&1048576)!==0&&Zp(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")of(t)?(o=Vr(t,o),n.tag=1,n=p0(null,n,t,o,a)):(n.tag=0,n=Xf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ne){n.tag=11,n=l0(null,n,t,o,a);break e}else if(h===R){n.tag=14,n=c0(null,n,t,o,a);break e}}throw n=Pe(t)||t,Error(r(306,n,""))}}return n;case 0:return Xf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vr(o,n.pendingProps),p0(t,n,o,h,a);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Tf(t,n),tl(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Ts(n,wt,o),o!==f.cache&&gf(n,[wt],a,!0),el(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=g0(t,n,o,a);break e}else if(o!==h){h=Dn(Error(r(424)),n),Yo(h),n=g0(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=zn(t.firstChild),Bt=n,ze=!0,bs=null,kn=!0,a=hg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Rr(),o===h){n=Gi(t,n,a);break e}Ft(t,n,o,a)}n=n.child}return n;case 26:return lu(t,n),t===null?(a=Dy(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,o=xu(Re.current).createElement(a),o[bt]=n,o[Vt]=t,Gt(o,a,t),Et(o),n.stateNode=o):n.memoizedState=Dy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return or(n),t===null&&ze&&(o=n.stateNode=Ny(n.type,n.pendingProps,Re.current),Bt=n,kn=!0,h=st,Vs(n.type)?(Vd=h,st=zn(o.firstChild)):st=h),Ft(t,n,n.pendingProps.children,a),lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=st)&&(o=IT(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,Bt=n,st=zn(o.firstChild),kn=!1,h=!0):h=!1),h||Es(n)),or(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Id(h,f)?o=null:_!==null&&Id(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Cf(t,n,GE,null,null,a),El._currentValue=h),lu(t,n),Ft(t,n,o,a),n.child;case 6:return t===null&&ze&&((t=a=st)&&(a=DT(a,n.pendingProps,kn),a!==null?(n.stateNode=a,Bt=n,st=null,t=!0):t=!1),t||Es(n)),null;case 13:return y0(t,n,a);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Mr(n,null,o,a):Ft(t,n,o,a),n.child;case 11:return l0(t,n,n.type,n.pendingProps,a);case 7:return Ft(t,n,n.pendingProps,a),n.child;case 8:return Ft(t,n,n.pendingProps.children,a),n.child;case 12:return Ft(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ts(n,n.type,o.value),Ft(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cr(n),h=Ht(h),o=o(h),n.flags|=1,Ft(t,n,o,a),n.child;case 14:return c0(t,n,n.type,n.pendingProps,a);case 15:return u0(t,n,n.type,n.pendingProps,a);case 19:return v0(t,n,a);case 31:return WE(t,n,a);case 22:return h0(t,n,a,n.pendingProps);case 24:return Cr(n),o=Ht(wt),t===null?(h=vf(),h===null&&(h=nt,f=yf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Ef(n),Ts(n,wt,h)):((t.lanes&a)!==0&&(Tf(t,n),tl(n,null,null,a),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,wt,o)):(o=f.cache,Ts(n,wt,o),o!==h.cache&&gf(n,[wt],a,!0))),Ft(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ki(t){t.flags|=4}function id(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Q0())t.flags|=8192;else throw Or=Qc,bf}else t.flags&=-16777217}function E0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zy(n))if(Q0())t.flags|=8192;else throw Or=Qc,bf}function uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gc():536870912,t.lanes|=n,Ua|=n)}function ol(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function tT(t,n,a){var o=n.pendingProps;switch(hf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(wt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,df())),rt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ki(n),f!==null?(rt(n),E0(n,f)):(rt(n),id(n,h,null,o,a))):f?f!==t.memoizedState?(Ki(n),rt(n),E0(n,f)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ki(n),rt(n),id(n,h,t,o,a)),null;case 27:if(sa(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return rt(n),null}t=ce.current,Aa(n)?eg(n):(t=Ny(h,o,a),n.stateNode=t,Ki(n))}return rt(n),null;case 5:if(sa(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return rt(n),null}if(f=ce.current,Aa(n))eg(n);else{var _=xu(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[bt]=n,f[Vt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Gt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ki(n)}}return rt(n),id(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Re.current,Aa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[bt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||yy(t.nodeValue,a)),t||Es(n,!0)}else t=xu(t).createTextNode(o),t[bt]=n,n.stateNode=t}return rt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else a=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return rt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),uu(n,n.updateQueue),rt(n),null);case 4:return ot(),t===null&&xd(n.stateNode.containerInfo),rt(n),null;case 10:return Bi(n.type),rt(n),null;case 19:if($(pt),o=n.memoizedState,o===null)return rt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Jc(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,uu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Xp(a,t),a=a.sibling;return oe(pt,pt.current&1|2),ze&&Pi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&nn()>pu&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=Jc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,uu(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return rt(n),null}else 2*nn()-o.renderingStartTime>pu&&a!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=pt.current,oe(pt,h?a&1|2:a&1),ze&&Pi(n,o.treeForkCount),t):(rt(n),null);case 22:case 23:return bn(n),Af(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),a=n.updateQueue,a!==null&&uu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&$(Ir),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Bi(wt),rt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function nT(t,n){switch(hf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(wt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return sa(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(r(340));Rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(pt),null;case 4:return ot(),null;case 10:return Bi(n.type),null;case 22:case 23:return bn(n),Af(),t!==null&&$(Ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(wt),null;case 25:return null;default:return null}}function T0(t,n){switch(hf(n),n.tag){case 3:Bi(wt),ot();break;case 26:case 27:case 5:sa(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:$(pt);break;case 10:Bi(n.type);break;case 22:case 23:bn(n),Af(),t!==null&&$(Ir);break;case 24:Bi(wt)}}function ll(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Je(n,n.return,E)}}function Ns(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var D=a,U=E;try{U()}catch(Q){Je(h,D,Q)}}}o=o.next}while(o!==f)}}catch(Q){Je(n,n.return,Q)}}function w0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dg(n,a)}catch(o){Je(t,t.return,o)}}}function S0(t,n,a){a.props=Vr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,n,o)}}function cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Je(t,n,h)}}function xi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Je(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,n,h)}else a.current=null}function x0(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function sd(t,n,a){try{var o=t.stateNode;ST(o,t.type,a,n),o[Vt]=n}catch(h){Je(t,t.return,h)}}function A0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vs(t.type)||t.tag===4}function rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&Vs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ad(t,n,a),t=t.sibling;t!==null;)ad(t,n,a),t=t.sibling}function hu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Vs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hu(t,n,a),t=t.sibling;t!==null;)hu(t,n,a),t=t.sibling}function R0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,o,a),n[bt]=t,n[Vt]=a}catch(f){Je(t,t.return,f)}}var Qi=!1,At=!1,od=!1,N0=typeof WeakSet=="function"?WeakSet:Set,jt=null;function iT(t,n){if(t=t.containerInfo,Nd=Ou,t=Pp(t),Wh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,D=-1,U=0,Q=0,X=t,q=null;t:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(E=_+h),X!==f||o!==0&&X.nodeType!==3||(D=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(F=X.firstChild)!==null;)q=X,X=F;for(;;){if(X===t)break t;if(q===a&&++U===h&&(E=_),q===f&&++Q===o&&(D=_),(F=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=F}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:t,selectionRange:a},Ou=!1,jt=n;jt!==null;)if(n=jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,jt=t;else for(;jt!==null;){switch(n=jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=Vr(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Od(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,jt=t;break}jt=n.return}}function C0(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),o&4&&ll(5,a);break;case 1:if(Xi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=Vr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}o&64&&w0(a),o&512&&cl(a,a.return);break;case 3:if(Xi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dg(t,n)}catch(_){Je(a,a.return,_)}}break;case 27:n===null&&o&4&&R0(a);case 26:case 5:Xi(t,a),n===null&&o&4&&x0(a),o&512&&cl(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),o&4&&O0(t,a);break;case 13:Xi(t,a),o&4&&M0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fT.bind(null,a),OT(t,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||At,h=Qi;var f=At;Qi=o,(At=n)&&!f?$i(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Qi=h,At=f}break;case 30:break;default:Xi(t,a)}}function I0(t){var n=t.alternate;n!==null&&(t.alternate=null,I0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ca(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Yi(t,n,a){for(a=a.child;a!==null;)D0(t,n,a),a=a.sibling}function D0(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:At||xi(a,n),Yi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||xi(a,n);var o=ct,h=ln;Vs(a.type)&&(ct=a.stateNode,ln=!1),Yi(t,n,a),_l(a.stateNode),ct=o,ln=h;break;case 5:At||xi(a,n);case 6:if(o=ct,h=ln,ct=null,Yi(t,n,a),ct=o,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){Je(a,n,f)}else try{ct.removeChild(a.stateNode)}catch(f){Je(a,n,f)}break;case 18:ct!==null&&(ln?(t=ct,wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):wy(ct,a.stateNode));break;case 4:o=ct,h=ln,ct=a.stateNode.containerInfo,ln=!0,Yi(t,n,a),ct=o,ln=h;break;case 0:case 11:case 14:case 15:Ns(2,a,n),At||Ns(4,a,n),Yi(t,n,a);break;case 1:At||(xi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&S0(a,n,o)),Yi(t,n,a);break;case 21:Yi(t,n,a);break;case 22:At=(o=At)||a.memoizedState!==null,Yi(t,n,a),At=o;break;default:Yi(t,n,a)}}function O0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Je(n,n.return,a)}}}function M0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Je(n,n.return,a)}}function sT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new N0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new N0),n;default:throw Error(r(435,t.tag))}}function fu(t,n){var a=sT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=dT.bind(null,t,o);o.then(h,h)}})}function cn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){ct=E.stateNode,ln=!1;break e}break;case 5:ct=E.stateNode,ln=!1;break e;case 3:case 4:ct=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(ct===null)throw Error(r(160));D0(f,_,h),ct=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)k0(n,t),n=n.sibling}var Zn=null;function k0(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),un(t),o&4&&(Ns(3,t,t.return),ll(3,t),Ns(5,t,t.return));break;case 1:cn(n,t),un(t),o&512&&(At||a===null||xi(a,a.return)),o&64&&Qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(cn(n,t),un(t),o&512&&(At||a===null||xi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,o,a),f[bt]=t,Et(f),o=f;break e;case"link":var _=ky("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=ky("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[bt]=t,Et(f),o=f}t.stateNode=o}else Vy(h,t.type,t.stateNode);else t.stateNode=My(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Vy(h,t.type,t.stateNode):My(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(n,t),un(t),o&512&&(At||a===null||xi(a,a.return)),a!==null&&o&4&&sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,t),un(t),o&512&&(At||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(he){Je(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,sd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(od=!0);break;case 6:if(cn(n,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){Je(t,t.return,he)}}break;case 3:if(Nu=null,h=Zn,Zn=Au(n.containerInfo),cn(n,t),Zn=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(he){Je(t,t.return,he)}od&&(od=!1,V0(t));break;case 4:o=Zn,Zn=Au(t.stateNode.containerInfo),cn(n,t),un(t),Zn=o;break;case 12:cn(n,t),un(t);break;case 31:cn(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 13:cn(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,U=Qi,Q=At;if(Qi=U||h,At=Q||D,cn(n,t),At=Q,Qi=U,un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Qi||At||zr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=D.stateNode;var X=D.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Je(D,D.return,he)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(he){Je(D,D.return,he)}}}else if(n.tag===18){if(a===null){D=n;try{var F=D.stateNode;h?Sy(F,!0):Sy(D.stateNode,!1)}catch(he){Je(D,D.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,fu(t,a))));break;case 19:cn(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 30:break;case 21:break;default:cn(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(A0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=rd(t);hu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var E=rd(t);hu(t,E,_);break;case 3:case 4:var D=a.stateNode.containerInfo,U=rd(t);ad(t,U,D);break;default:throw Error(r(161))}}catch(Q){Je(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function V0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;V0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)C0(t,n.alternate,n),n=n.sibling}function zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),zr(n);break;case 1:xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&S0(n,n.return,a),zr(n);break;case 27:_l(n.stateNode);case 26:case 5:xi(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}t=t.sibling}}function $i(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,a),ll(4,f);break;case 1:if($i(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Je(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)fg(D[h],E)}catch(U){Je(o,o.return,U)}}a&&_&64&&w0(f),cl(f,f.return);break;case 27:R0(f);case 26:case 5:$i(h,f,a),a&&o===null&&_&4&&x0(f),cl(f,f.return);break;case 12:$i(h,f,a);break;case 31:$i(h,f,a),a&&_&4&&O0(h,f);break;case 13:$i(h,f,a),a&&_&4&&M0(h,f);break;case 22:f.memoizedState===null&&$i(h,f,a),cl(f,f.return);break;case 30:break;default:$i(h,f,a)}n=n.sibling}}function ld(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function Wn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)z0(t,n,a,o),n=n.sibling}function z0(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,a,o),h&2048&&ll(9,n);break;case 1:Wn(t,n,a,o);break;case 3:Wn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){Wn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(n,n.return,D)}}else Wn(t,n,a,o);break;case 31:Wn(t,n,a,o);break;case 13:Wn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,a,o):ul(t,n):f._visibility&2?Wn(t,n,a,o):(f._visibility|=2,za(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ld(_,n);break;case 24:Wn(t,n,a,o),h&2048&&cd(n.alternate,n);break;default:Wn(t,n,a,o)}}function za(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=a,D=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:za(f,_,E,D,h),ll(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?za(f,_,E,D,h):ul(f,_):(Q._visibility|=2,za(f,_,E,D,h)),h&&U&2048&&ld(_.alternate,_);break;case 24:za(f,_,E,D,h),h&&U&2048&&cd(_.alternate,_);break;default:za(f,_,E,D,h)}n=n.sibling}}function ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&ld(o.alternate,o);break;case 24:ul(a,o),h&2048&&cd(o.alternate,o);break;default:ul(a,o)}n=n.sibling}}var hl=8192;function ja(t,n,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)j0(t,n,a),t=t.sibling}function j0(t,n,a){switch(t.tag){case 26:ja(t,n,a),t.flags&hl&&t.memoizedState!==null&&FT(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,a);break;case 3:case 4:var o=Zn;Zn=Au(t.stateNode.containerInfo),ja(t,n,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,ja(t,n,a),hl=o):ja(t,n,a));break;default:ja(t,n,a)}}function L0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];jt=o,P0(o,t)}L0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)U0(t),t=t.sibling}function U0(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Ns(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):fl(t);break;default:fl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];jt=o,P0(o,t)}L0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function P0(t,n){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Ns(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,jt=o;else e:for(a=t;jt!==null;){o=jt;var h=o.sibling,f=o.return;if(I0(o),o===a){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var rT={getCacheForType:function(t){var n=Ht(wt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},aT=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,Ce=null,De=0,$e=0,En=null,Cs=!1,La=!1,ud=!1,Ji=0,ft=0,Is=0,jr=0,hd=0,Tn=0,Ua=0,dl=null,hn=null,fd=!1,mu=0,q0=0,pu=1/0,gu=null,Ds=null,Mt=0,Os=null,Pa=null,Zi=0,dd=0,md=null,B0=null,ml=0,pd=null;function wn(){return(Ge&2)!==0&&De!==0?De&-De:K.T!==null?Ed():yc()}function H0(){if(Tn===0)if((De&536870912)===0||ze){var t=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),Tn=t}else Tn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Tn}function fn(t,n,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Ms(t,De,Tn,!1)),hr(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(jr|=a),ft===4&&Ms(t,De,Tn,!1)),Ai(t))}function F0(t,n,a){if((Ge&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Hn(t,n),h=o?cT(t,n):yd(t,n,!0),f=o;do{if(h===0){La&&!o&&Ms(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!oT(a)){h=yd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=dl;var D=E.current.memoizedState.isDehydrated;if(D&&(qa(E,_).flags|=256),_=yd(E,_,!1),_!==2){if(ud&&!D){E.errorRecoveryDisabledLanes|=f,jr|=f,h=4;break e}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){qa(t,0),Ms(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,Tn,!Cs);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=mu+300-nn(),10<h)){if(Ms(o,n,Tn,!Cs),li(o,0,!0)!==0)break e;Zi=n,o.timeoutHandle=Ey(G0.bind(null,o,a,hn,gu,fd,n,Tn,jr,Ua,Cs,f,"Throttled",-0,0),h);break e}G0(o,a,hn,gu,fd,n,Tn,jr,Ua,Cs,f,null,-0,0)}}break}while(!0);Ai(t)}function G0(t,n,a,o,h,f,_,E,D,U,Q,X,q,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},j0(n,f,X);var he=(f&62914560)===f?mu-nn():(f&4194048)===f?q0-nn():0;if(he=GT(X,he),he!==null){Zi=f,t.cancelPendingCommit=he(W0.bind(null,t,n,f,a,o,h,_,E,D,Q,X,null,q,F)),Ms(t,f,_,!U);return}}W0(t,n,f,a,o,h,_,E,D)}function oT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,a,o){n&=~hd,n&=~jr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&fr(t,a,n)}function yu(){return(Ge&6)===0?(pl(0),!1):!0}function gd(){if(Ce!==null){if($e===0)var t=Ce.return;else t=Ce,qi=Nr=null,Of(t),Da=null,Jo=0,t=Ce;for(;t!==null;)T0(t.alternate,t),t=t.return;Ce=null}}function qa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,gd(),nt=t,Ce=a=Ui(t.current,null),De=n,$e=0,En=null,Cs=!1,La=Hn(t,n),ud=!1,Ua=Tn=hd=jr=Is=ft=0,hn=dl=null,fd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-dt(o),f=1<<h;n|=t[h],o&=~f}return Ji=n,Lc(),a}function K0(t,n){Ae=null,K.H=rl,n===Ia||n===Kc?(n=lg(),$e=3):n===bf?(n=lg(),$e=4):$e=n===Yf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ce===null&&(ft=1,au(t,Dn(n,t.current)))}function Q0(){var t=vn.current;return t===null?!0:(De&4194048)===De?Vn===null:(De&62914560)===De||(De&536870912)!==0?t===Vn:!1}function Y0(){var t=K.H;return K.H=rl,t===null?rl:t}function X0(){var t=K.A;return K.A=rT,t}function _u(){ft=4,Cs||(De&4194048)!==De&&vn.current!==null||(La=!0),(Is&134217727)===0&&(jr&134217727)===0||nt===null||Ms(nt,De,Tn,!1)}function yd(t,n,a){var o=Ge;Ge|=2;var h=Y0(),f=X0();(nt!==t||De!==n)&&(gu=null,qa(t,n)),n=!1;var _=ft;e:do try{if($e!==0&&Ce!==null){var E=Ce,D=En;switch($e){case 8:gd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var U=$e;if($e=0,En=null,Ba(t,E,D,U),a&&La){_=0;break e}break;default:U=$e,$e=0,En=null,Ba(t,E,D,U)}}lT(),_=ft;break}catch(Q){K0(t,Q)}while(!0);return n&&t.shellSuspendCounter++,qi=Nr=null,Ge=o,K.H=h,K.A=f,Ce===null&&(nt=null,De=0,Lc()),_}function lT(){for(;Ce!==null;)$0(Ce)}function cT(t,n){var a=Ge;Ge|=2;var o=Y0(),h=X0();nt!==t||De!==n?(gu=null,pu=nn()+500,qa(t,n)):La=Hn(t,n);e:do try{if($e!==0&&Ce!==null){n=Ce;var f=En;t:switch($e){case 1:$e=0,En=null,Ba(t,n,f,1);break;case 2:case 9:if(ag(f)){$e=0,En=null,J0(n);break}n=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ai(t)},f.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ag(f)?($e=0,En=null,J0(n)):($e=0,En=null,Ba(t,n,f,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var E=Ce;if(_?zy(_):E.stateNode.complete){$e=0,En=null;var D=E.sibling;if(D!==null)Ce=D;else{var U=E.return;U!==null?(Ce=U,vu(U)):Ce=null}break t}}$e=0,En=null,Ba(t,n,f,5);break;case 6:$e=0,En=null,Ba(t,n,f,6);break;case 8:gd(),ft=6;break e;default:throw Error(r(462))}}uT();break}catch(Q){K0(t,Q)}while(!0);return qi=Nr=null,K.H=o,K.A=h,Ge=a,Ce!==null?0:(nt=null,De=0,Lc(),ft)}function uT(){for(;Ce!==null&&!Kh();)$0(Ce)}function $0(t){var n=b0(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?vu(t):Ce=n}function J0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=m0(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=m0(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:Of(n);default:T0(a,n),n=Ce=Xp(n,Ji),n=b0(a,n,Ji)}t.memoizedProps=t.pendingProps,n===null?vu(t):Ce=n}function Ba(t,n,a,o){qi=Nr=null,Of(n),Da=null,Jo=0;var h=n.return;try{if(ZE(t,h,n,a,De)){ft=1,au(t,Dn(a,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ft=1,au(t,Dn(a,t.current)),Ce=null;return}n.flags&32768?(ze||o===1?t=!0:La||(De&536870912)!==0?t=!1:(Cs=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Z0(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){Z0(n,Cs);return}t=n.return;var a=tT(n.alternate,n,Ji);if(a!==null){Ce=a;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);ft===0&&(ft=5)}function Z0(t,n){do{var a=nT(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ft=6,Ce=null}function W0(t,n,a,o,h,f,_,E,D){t.cancelPendingCommit=null;do bu();while(Mt!==0);if((Ge&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=rf,Xh(t,a,f,_,E,D),t===nt&&(Ce=nt=null,De=0),Pa=n,Os=t,Zi=a,dd=f,md=h,B0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mT(cs,function(){return sy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ae.p,ae.p=2,_=Ge,Ge|=4;try{iT(t,n,a)}finally{Ge=_,ae.p=h,K.T=o}}Mt=1,ey(),ty(),ny()}}function ey(){if(Mt===1){Mt=0;var t=Os,n=Pa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=ae.p;ae.p=2;var h=Ge;Ge|=4;try{k0(n,t);var f=Cd,_=Pp(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Up(E.ownerDocument.documentElement,E)){if(D!==null&&Wh(E)){var U=D.start,Q=D.end;if(Q===void 0&&(Q=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var F=q.getSelection(),he=E.textContent.length,_e=Math.min(D.start,he),tt=D.end===void 0?_e:Math.min(D.end,he);!F.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var z=Lp(E,_e),M=Lp(E,tt);if(z&&M&&(F.rangeCount!==1||F.anchorNode!==z.node||F.anchorOffset!==z.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var L=X.createRange();L.setStart(z.node,z.offset),F.removeAllRanges(),_e>tt?(F.addRange(L),F.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),F.addRange(L))}}}}for(X=[],F=E;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ou=!!Nd,Cd=Nd=null}finally{Ge=h,ae.p=o,K.T=a}}t.current=n,Mt=2}}function ty(){if(Mt===2){Mt=0;var t=Os,n=Pa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=ae.p;ae.p=2;var h=Ge;Ge|=4;try{C0(t,n.alternate,n)}finally{Ge=h,ae.p=o,K.T=a}}Mt=3}}function ny(){if(Mt===4||Mt===3){Mt=0,uc();var t=Os,n=Pa,a=Zi,o=B0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Pa=Os=null,iy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ds=null),Vi(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{K.T=n,ae.p=h}}(Zi&3)!==0&&bu(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===pd?ml++:(ml=0,pd=t):ml=0,pl(0)}}function iy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function bu(){return ey(),ty(),ny(),sy()}function sy(){if(Mt!==5)return!1;var t=Os,n=dd;dd=0;var a=Vi(Zi),o=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=md,md=null;var f=Os,_=Zi;if(Mt=0,Pa=Os=null,Zi=0,(Ge&6)!==0)throw Error(r(331));var E=Ge;if(Ge|=4,U0(f.current),z0(f,f.current,_,a),Ge=E,pl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{ae.p=h,K.T=o,iy(t,n)}}function ry(t,n,a){n=Dn(a,n),n=Qf(t.stateNode,n,2),t=xs(t,n,2),t!==null&&(hr(t,2),Ai(t))}function Je(t,n,a){if(t.tag===3)ry(t,t,a);else for(;n!==null;){if(n.tag===3){ry(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){t=Dn(a,t),a=a0(2),o=xs(n,a,2),o!==null&&(o0(a,o,n,t),hr(o,2),Ai(o));break}}n=n.return}}function _d(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new aT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ud=!0,h.add(a),t=hT.bind(null,t,n,a),n.then(t,t))}function hT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>nn()-mu?(Ge&2)===0&&qa(t,0):hd|=a,Ua===De&&(Ua=0)),Ai(t)}function ay(t,n){n===0&&(n=gc()),t=xr(t,n),t!==null&&(hr(t,n),Ai(t))}function fT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ay(t,a)}function dT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),ay(t,a)}function mT(t,n){return Ot(t,n)}var Eu=null,Ha=null,vd=!1,Tu=!1,bd=!1,ks=0;function Ai(t){t!==Ha&&t.next===null&&(Ha===null?Eu=Ha=t:Ha=Ha.next=t),Tu=!0,vd||(vd=!0,gT())}function pl(t,n){if(!bd&&Tu){bd=!0;do for(var a=!1,o=Eu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,uy(o,f))}else f=De,f=li(o,o===nt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,uy(o,f));o=o.next}while(a);bd=!1}}function pT(){oy()}function oy(){Tu=vd=!1;var t=0;ks!==0&&AT()&&(t=ks);for(var n=nn(),a=null,o=Eu;o!==null;){var h=o.next,f=ly(o,n);f===0?(o.next=null,a===null?Eu=h:a.next=h,h===null&&(Ha=a)):(a=o,(t!==0||(f&3)!==0)&&(Tu=!0)),o=h}Mt!==0&&Mt!==5||pl(t),ks!==0&&(ks=0)}function ly(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-dt(f),E=1<<_,D=h[_];D===-1?((E&a)===0||(E&o)!==0)&&(h[_]=Yh(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=nt,a=De,a=li(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ls(o),Vi(a)){case 2:case 8:a=xo;break;case 32:a=cs;break;case 268435456:a=hc;break;default:a=cs}return o=cy.bind(null,t),a=Ot(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ls(o),t.callbackPriority=2,t.callbackNode=null,2}function cy(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bu()&&t.callbackNode!==a)return null;var o=De;return o=li(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(F0(t,o,n),ly(t,nn()),t.callbackNode!=null&&t.callbackNode===a?cy.bind(null,t):null)}function uy(t,n){if(bu())return null;F0(t,n,!0)}function gT(){NT(function(){(Ge&6)!==0?Ot(So,pT):oy()})}function Ed(){if(ks===0){var t=Na;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),ks=t}return ks}function hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function fy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function yT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=hy((h[Vt]||null).action),_=o.submitter;_&&(n=(n=_[Vt]||null)?hy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new vi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var D=_?fy(h,_):new FormData(h);qf(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=_?fy(h,_):new FormData(h),qf(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Td=0;Td<sf.length;Td++){var wd=sf[Td],_T=wd.toLowerCase(),vT=wd[0].toUpperCase()+wd.slice(1);Jn(_T,"on"+vT)}Jn(Hp,"onAnimationEnd"),Jn(Fp,"onAnimationIteration"),Jn(Gp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(VE,"onTransitionRun"),Jn(zE,"onTransitionStart"),Jn(jE,"onTransitionCancel"),Jn(Kp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function dy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],D=E.instance,U=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){jc(Q)}h.currentTarget=null,f=D}else for(_=0;_<o.length;_++){if(E=o[_],D=E.instance,U=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){jc(Q)}h.currentTarget=null,f=D}}}}function Ie(t,n){var a=n[la];a===void 0&&(a=n[la]=new Set);var o=t+"__bubble";a.has(o)||(my(n,t,2,!1),a.add(o))}function Sd(t,n,a){var o=0;n&&(o|=4),my(a,t,o,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[wu]){t[wu]=!0,No.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||Sd(a,!1,t),Sd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,Sd("selectionchange",!1,n))}}function my(t,n,a,o){switch(Hy(n)){case 2:var h=YT;break;case 8:h=XT;break;default:h=Pd}a=h.bind(null,n,a,t),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Ad(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=fi(E),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=f=_;continue e}E=E.parentNode}}o=o.return}ps(function(){var U=f,Q=Rn(a),X=[];e:{var q=Qp.get(t);if(q!==void 0){var F=vi,he=t;switch(t){case"keypress":if(vr(a)===0)break e;case"keydown":case"keyup":F=kc;break;case"focusin":he="focus",F=Er;break;case"focusout":he="blur",F=Er;break;case"beforeblur":case"afterblur":F=Er;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Hp:case Fp:case Gp:F=Rc;break;case Kp:F=w;break;case"scroll":case"scrollend":F=Po;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Li;break;case"toggle":case"beforetoggle":F=xe}var _e=(n&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),z=_e?q!==null?q+"Capture":null:q;_e=[];for(var M=U,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||z===null||(Y=Qn(M,z),Y!=null&&_e.push(yl(M,Y,L))),tt)break;M=M.return}0<_e.length&&(q=new F(q,he,null,a,Q),X.push({event:q,listeners:_e}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==jo&&(he=a.relatedTarget||a.fromElement)&&(fi(he)||he[ui]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(he=a.relatedTarget||a.toElement,F=U,he=he?fi(he):null,he!==null&&(tt=u(he),_e=he.tag,he!==tt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(F=null,he=U),F!==he)){if(_e=qo,Y="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Li,Y="onPointerLeave",z="onPointerEnter",M="pointer"),tt=F==null?q:pn(F),L=he==null?q:pn(he),q=new _e(Y,M+"leave",F,a,Q),q.target=tt,q.relatedTarget=L,Y=null,fi(Q)===U&&(_e=new _e(z,M+"enter",he,a,Q),_e.target=L,_e.relatedTarget=tt,Y=_e),tt=Y,F&&he)t:{for(_e=ET,z=F,M=he,L=0,Y=z;Y;Y=_e(Y))L++;Y=0;for(var me=M;me;me=_e(me))Y++;for(;0<L-Y;)z=_e(z),L--;for(;0<Y-L;)M=_e(M),Y--;for(;L--;){if(z===M||M!==null&&z===M.alternate){_e=z;break t}z=_e(z),M=_e(M)}_e=null}else _e=null;F!==null&&py(X,q,F,_e,!1),he!==null&&tt!==null&&py(X,tt,he,_e,!0)}}e:{if(q=U?pn(U):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var qe=Op;else if(Ip(q))if(Mp)qe=OE;else{qe=IE;var de=CE}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&fa(U.elementType)&&(qe=Op):qe=DE;if(qe&&(qe=qe(t,U))){Dp(X,qe,a,Q);break e}de&&de(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&ko(q,"number",q.value)}switch(de=U?pn(U):window,t){case"focusin":(Ip(de)||de.contentEditable==="true")&&(ba=de,ef=U,Ko=null);break;case"focusout":Ko=ef=ba=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,qp(X,a,Q);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":qp(X,a,Q)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else va?Tr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ti&&a.locale!=="ko"&&(va||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&va&&(Ne=Uo()):(_i=Q,Lo="value"in _i?_i.value:_i.textContent,va=!0)),de=Su(U,Oe),0<de.length&&(Oe=new Ei(Oe,t,null,a,Q),X.push({event:Oe,listeners:de}),Ne?Oe.data=Ne:(Ne=_a(a),Ne!==null&&(Oe.data=Ne)))),(Ne=Cn?xE(t,a):AE(t,a))&&(Oe=Su(U,"onBeforeInput"),0<Oe.length&&(de=new Ei("onBeforeInput","beforeinput",null,a,Q),X.push({event:de,listeners:Oe}),de.data=Ne)),yT(X,t,U,a,Q)}dy(X,n)})}function yl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Su(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,a),h!=null&&o.unshift(yl(t,h,f)),h=Qn(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ET(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function py(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,D=E.alternate,U=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||U===null||(D=U,h?(U=Qn(a,f),U!=null&&_.unshift(yl(a,U,D))):h||(U=Qn(a,f),U!=null&&_.push(yl(a,U,D)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var TT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function gy(t){return(typeof t=="string"?t:""+t).replace(TT,`
`).replace(wT,"")}function yy(t,n){return n=gy(n),gy(t)===n}function et(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":zo(t,o,f);break;case"data":if(n!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=da(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=da(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ua(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sc.get(a)||a,ua(t,a,o))}}function Rd(t,n,a,o,h,f){switch(a){case"style":zo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?on(t,o):(typeof o=="number"||typeof o=="bigint")&&on(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ua(t,a,o)}}}function Gt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,f,_,a,null)}}h&&et(t,n,"srcSet",a.srcSet,a,null),o&&et(t,n,"src",a.src,a,null);return;case"input":Ie("invalid",t);var E=f=_=h=null,D=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:et(t,n,o,Q,a,null)}}Ec(t,f,E,D,U,_,h,!1);return;case"select":Ie("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:et(t,n,h,E,a,null)}n=f,a=_,t.multiple=!!o,n!=null?hs(t,!!o,n,!1):a!=null&&hs(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:et(t,n,_,E,a,null)}fs(t,o,h,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(o=a[D],o!=null)&&(D==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":et(t,n,D,o,a,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)Ie(gl[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:et(t,n,U,o,a,null)}return;default:if(fa(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Rd(t,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&et(t,n,E,o,a,null))}function ST(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,D=null,U=null,Q=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=X;default:o.hasOwnProperty(F)||et(t,n,F,null,o,X)}}for(var q in o){var F=o[q];if(X=a[q],o.hasOwnProperty(q)&&(F!=null||X!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":Q=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==X&&et(t,n,q,F,o,X)}}ha(t,_,E,D,U,Q,f,h);return;case"select":F=_=E=q=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":F=D;default:o.hasOwnProperty(f)||et(t,n,f,null,o,D)}for(h in o)if(f=o[h],D=a[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==D&&et(t,n,h,f,o,D)}n=E,a=_,o=F,q!=null?hs(t,!!a,q,!1):!!o!=!!a&&(n!=null?hs(t,!!a,n,!0):hs(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:et(t,n,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&et(t,n,_,h,o,f)}Tc(t,q,F);return;case"option":for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!=null&&!o.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:et(t,n,he,null,o,q));for(D in o)q=o[D],F=a[D],o.hasOwnProperty(D)&&q!==F&&(q!=null||F!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":et(t,n,D,q,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!o.hasOwnProperty(_e)&&et(t,n,_e,null,o,q);for(U in o)if(q=o[U],F=a[U],o.hasOwnProperty(U)&&q!==F&&(q!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:et(t,n,U,q,o,F)}return;default:if(fa(n)){for(var tt in a)q=a[tt],a.hasOwnProperty(tt)&&q!==void 0&&!o.hasOwnProperty(tt)&&Rd(t,n,tt,void 0,o,q);for(Q in o)q=o[Q],F=a[Q],!o.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||Rd(t,n,Q,q,o,F);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!o.hasOwnProperty(z)&&et(t,n,z,null,o,q);for(X in o)q=o[X],F=a[X],!o.hasOwnProperty(X)||q===F||q==null&&F==null||et(t,n,X,q,o,F)}function _y(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&_y(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var D=a[o],U=D.startTime;if(U>E)break;var Q=D.transferSize,X=D.initiatorType;Q&&_y(X)&&(D=D.responseEnd,_+=Q*(D<E?1:(E-U)/(D-U)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Cd=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function vy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function by(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Id(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dd=null;function AT(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(CT)}:Ey;function CT(t){setTimeout(function(){throw t})}function Vs(t){return t==="head"}function wy(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);Qa(n)}function Sy(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Od(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Od(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function DT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function xy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function Md(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vd=null;function Ay(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Ry(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Ny(t,n,a){switch(n=xu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ca(t)}var jn=new Map,Cy=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=ae.d;ae.d={f:MT,r:kT,D:VT,C:zT,L:jT,m:LT,X:PT,S:UT,M:qT};function MT(){var t=Wi.f(),n=yu();return t||n}function kT(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):Wi.r(t)}var Fa=typeof document>"u"?null:document;function Iy(t,n,a){var o=Fa;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Cy.has(h)||(Cy.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Gt(n,"link",t),Et(n),o.head.appendChild(n)))}}function VT(t){Wi.D(t),Iy("dns-prefetch",t,null)}function zT(t,n){Wi.C(t,n),Iy("preconnect",t,n)}function jT(t,n,a){Wi.L(t,n,a);var o=Fa;if(o&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var f=h;switch(n){case"style":f=Ga(t);break;case"script":f=Ka(t)}jn.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),jn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),Gt(n,"link",t),Et(n),o.head.appendChild(n)))}}function LT(t,n){Wi.m(t,n);var a=Fa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(t)}if(!jn.has(f)&&(t=x({rel:"modulepreload",href:t},n),jn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}o=a.createElement("link"),Gt(o,"link",t),Et(o),a.head.appendChild(o)}}}function UT(t,n,a){Wi.S(t,n,a);var o=Fa;if(o&&t){var h=di(o).hoistableStyles,f=Ga(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(vl(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=jn.get(f))&&zd(t,a);var D=_=o.createElement("link");Et(D),Gt(D,"link",t),D._p=new Promise(function(U,Q){D.onload=U,D.onerror=Q}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ru(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function PT(t,n){Wi.X(t,n);var a=Fa;if(a&&t){var o=di(a).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(t=x({src:t,async:!0},n),(n=jn.get(h))&&jd(t,n),f=a.createElement("script"),Et(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function qT(t,n){Wi.M(t,n);var a=Fa;if(a&&t){var o=di(a).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=jn.get(h))&&jd(t,n),f=a.createElement("script"),Et(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Dy(t,n,a,o){var h=(h=Re.current)?Au(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ga(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var f=di(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(vl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),f||BT(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ga(t){return'href="'+an(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Oy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function BT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Gt(n,"link",a),Et(n),t.head.appendChild(n))}function Ka(t){return'[src="'+an(t)+'"]'}function bl(t){return"script[async]"+t}function My(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,Et(o),o;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Gt(o,"style",h),Ru(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ga(a.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;o=Oy(a),(h=jn.get(h))&&zd(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var _=f;return _._p=new Promise(function(E,D){_.onload=E,_.onerror=D}),Gt(f,"link",o),n.state.loading|=4,Ru(f,a.precedence,t),n.instance=f;case"script":return f=Ka(a.src),(h=t.querySelector(bl(f)))?(n.instance=h,Et(h),h):(o=a,(h=jn.get(f))&&(o=x({},a),jd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Gt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ru(o,a.precedence,t));return n.instance}function Ru(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function zd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nu=null;function ky(t,n,a){if(Nu===null){var o=new Map,h=Nu=new Map;h.set(a,o)}else h=Nu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Vy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function HT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function FT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Cu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Et(f);return}f=n.ownerDocument||n,o=Oy(o),(h=jn.get(h))&&zd(o,h),f=f.createElement("link"),Et(f);var _=f;_._p=new Promise(function(E,D){_.onload=E,_.onerror=D}),Gt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function GT(t,n){return t.stylesheets&&t.count===0&&Du(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Du(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ld===0&&(Ld=62500*xT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Du(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ld?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function Du(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(KT,t),Iu=null,Cu.call(t))}function KT(t,n){if(!(n.state.loading&4)){var a=Iu.get(t);if(a)var o=a.get(null);else{a=new Map,Iu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Cu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var El={$$typeof:se,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function QT(t,n,a,o,h,f,_,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function jy(t,n,a,o,h,f,_,E,D,U,Q,X){return t=new QT(t,n,a,_,D,U,Q,X,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),t.current=f,f.stateNode=t,n=yf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Ef(f),t}function Ly(t){return t?(t=wa,t):wa}function Uy(t,n,a,o,h,f){h=Ly(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=xs(t,o,n),a!==null&&(fn(a,t,n),Wo(a,t,n))}function Py(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ud(t,n){Py(t,n),(t=t.alternate)&&Py(t,n)}function qy(t){if(t.tag===13||t.tag===31){var n=xr(t,67108864);n!==null&&fn(n,t,67108864),Ud(t,67108864)}}function By(t){if(t.tag===13||t.tag===31){var n=wn();n=dr(n);var a=xr(t,n);a!==null&&fn(a,t,n),Ud(t,n)}}var Ou=!0;function YT(t,n,a,o){var h=K.T;K.T=null;var f=ae.p;try{ae.p=2,Pd(t,n,a,o)}finally{ae.p=f,K.T=h}}function XT(t,n,a,o){var h=K.T;K.T=null;var f=ae.p;try{ae.p=8,Pd(t,n,a,o)}finally{ae.p=f,K.T=h}}function Pd(t,n,a,o){if(Ou){var h=qd(o);if(h===null)Ad(t,n,o,Mu,a),Fy(t,o);else if(JT(h,t,n,a,o))o.stopPropagation();else if(Fy(t,o),n&4&&-1<$T.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=oi(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var D=1<<31-dt(_);E.entanglements[1]|=D,_&=~D}Ai(f),(Ge&6)===0&&(pu=nn()+500,pl(0))}}break;case 31:case 13:E=xr(f,2),E!==null&&fn(E,f,2),yu(),Ud(f,2)}if(f=qd(o),f===null&&Ad(t,n,o,Mu,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,n,o,null,a)}}function qd(t){return t=Rn(t),Bd(t)}var Mu=null;function Bd(t){if(Mu=null,t=fi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mu=t,null}function Hy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case So:return 2;case xo:return 8;case cs:case Qh:return 32;case hc:return 268435456;default:return 32}default:return 32}}var Hd=!1,zs=null,js=null,Ls=null,Tl=new Map,wl=new Map,Us=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(t,n){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Sl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&qy(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function JT(t,n,a,o,h){switch(n){case"focusin":return zs=Sl(zs,t,n,a,o,h),!0;case"dragenter":return js=Sl(js,t,n,a,o,h),!0;case"mouseover":return Ls=Sl(Ls,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Sl(Tl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,wl.set(f,Sl(wl.get(f)||null,t,n,a,o,h)),!0}return!1}function Gy(t){var n=fi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){By(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){By(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);jo=o,a.target.dispatchEvent(o),jo=null}else return n=An(a),n!==null&&qy(n),t.blockedOn=a,!1;n.shift()}return!0}function Ky(t,n,a){ku(t)&&a.delete(n)}function ZT(){Hd=!1,zs!==null&&ku(zs)&&(zs=null),js!==null&&ku(js)&&(js=null),Ls!==null&&ku(Ls)&&(Ls=null),Tl.forEach(Ky),wl.forEach(Ky)}function Vu(t,n){t.blockedOn===n&&(t.blockedOn=null,Hd||(Hd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ZT)))}var zu=null;function Qy(t){zu!==t&&(zu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,qf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Qa(t){function n(D){return Vu(D,t)}zs!==null&&Vu(zs,t),js!==null&&Vu(js,t),Ls!==null&&Vu(Ls,t),Tl.forEach(n),wl.forEach(n);for(var a=0;a<Us.length;a++){var o=Us[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Us.length&&(a=Us[0],a.blockedOn===null);)Gy(a),a.blockedOn===null&&Us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Vt]||null;if(typeof f=="function")_||Qy(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Vt]||null)E=_.formAction;else if(Bd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Qy(a)}}}function Yy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Fd(t){this._internalRoot=t}ju.prototype.render=Fd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=wn();Uy(a,o,t,n,null,null)},ju.prototype.unmount=Fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Uy(t.current,2,null,t,null,null),yu(),n[ui]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=yc();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Us.length&&n!==0&&n<Us[a].priority;a++);Us.splice(a,0,t),a===0&&Gy(t)}};var Xy=e.version;if(Xy!=="19.2.4")throw Error(r(527,Xy,"19.2.4"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var WT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Bn=Lu.inject(WT),Pt=Lu}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=n0,f=i0,_=s0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=jy(t,1,!1,null,null,a,o,null,h,f,_,Yy),t[ui]=n.current,xd(t),new Fd(n)},Al.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=n0,_=i0,E=s0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=jy(t,1,!0,n,a??null,o,h,D,f,_,E,Yy),n.context=Ly(null),a=n.current,o=wn(),o=dr(o),h=Ss(o),h.callback=null,xs(a,h,o),a=o,n.current.lanes=a,hr(n,a),Ai(n),t[ui]=n.current,xd(t),new ju(n)},Al.version="19.2.4",Al}var r_;function cw(){if(r_)return Qd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=lw(),Qd.exports}var uw=cw();const Gv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const hw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const fw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const a_=s=>{const e=fw(s);return e.charAt(0).toUpperCase()+e.slice(1)};var dw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const pw=re.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},y)=>re.createElement("svg",{ref:y,...dw,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Gv("lucide",l),...!u&&!mw(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,T])=>re.createElement(g,T)),...Array.isArray(u)?u:[u]]));const He=(s,e)=>{const i=re.forwardRef(({className:r,...l},u)=>re.createElement(pw,{ref:u,iconNode:e,className:Gv(`lucide-${hw(a_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=a_(s),i};const gw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yw=He("activity",gw);const _w=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],um=He("arrow-left",_w);const vw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],o_=He("calendar",vw);const bw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ew=He("camera",bw);const Tw=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ww=He("chart-no-axes-column",Tw);const Sw=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],xh=He("chef-hat",Sw);const xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aw=He("circle",xw);const Rw=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Nw=He("clipboard-list",Rw);const Cw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Kv=He("clock",Cw);const Iw=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],th=He("droplets",Iw);const Dw=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Pm=He("dumbbell",Dw);const Ow=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],qm=He("flame",Ow);const Mw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],kw=He("house",Mw);const Vw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zw=He("log-out",Vw);const jw=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Lw=He("medal",jw);const Uw=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Qv=He("message-square",Uw);const Pw=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nh=He("moon",Pw);const qw=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Bw=He("pause",qw);const Hw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ih=He("pen",Hw);const Fw=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],Yv=He("person-standing",Fw);const Gw=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kw=He("play",Gw);const Qw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xv=He("plus",Qw);const Yw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Xw=He("rotate-ccw",Yw);const $w=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ah=He("sparkles",$w);const Jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zw=He("target",Jw);const Ww=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],$v=He("thumbs-down",Ww);const e2=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Jv=He("thumbs-up",e2);const t2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zv=He("trash-2",t2);const n2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],i2=He("trending-up",n2);const s2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ho=He("user",s2);const r2=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Wv=He("utensils",r2);const a2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],o2=He("video",a2),l2=()=>{};var l_={};const eb=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},c2=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,g=y?s[l+2]:0,T=u>>2,x=(u&3)<<4|p>>4;let N=(p&15)<<2|g>>6,B=g&63;y||(B=64,d||(N=64)),r.push(i[T],i[x],i[N],i[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(eb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):c2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const g=l<s.length?i[s.charAt(l)]:64;++l;const x=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||g==null||x==null)throw new u2;const N=u<<2|p>>4;if(r.push(N),g!==64){const B=p<<4&240|g>>2;if(r.push(B),x!==64){const W=g<<6&192|x;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class u2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(s){const e=eb(s);return tb.encodeByteArray(e,!0)},sh=function(s){return h2(s).replace(/\./g,"")},nb=function(s){try{return tb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const d2=()=>f2().__FIREBASE_DEFAULTS__,m2=()=>{if(typeof process>"u"||typeof l_>"u")return;const s=l_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},p2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nb(s[1]);return e&&JSON.parse(e)},Rh=()=>{try{return l2()||d2()||m2()||p2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ib=s=>Rh()?.emulatorHosts?.[s],g2=s=>{const e=ib(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},sb=()=>Rh()?.config,rb=s=>Rh()?.[`_${s}`];class y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ab(s){return(await fetch(s,{credentials:"include"})).ok}function _2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const Vl={};function v2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?s.emulator.push(e):s.prod.push(e);return s}function b2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let c_=!1;function ob(s,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Vl[s]===e||Vl[s]||c_)return;Vl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=v2().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{c_=!0,d()},N}function T(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function x(){const N=b2(r),B=i("text"),W=document.getElementById(B)||document.createElement("span"),G=i("learnmore"),ee=document.getElementById(G)||document.createElement("a"),te=i("preprendIcon"),P=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const se=N.element;p(se),T(ee,G);const ne=g();y(P,te),se.append(P,W,ee,ne),document.body.appendChild(se)}u?(W.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function T2(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function x2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A2(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function R2(){return!T2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function C2(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const I2="FirebaseError";class os extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=I2,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?D2(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new os(l,p,r)}}function D2(s,e){return s.replace(O2,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const O2=/\{\$([^}]+)}/g;function M2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Kr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(u_(u)&&u_(d)){if(!Kr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function u_(s){return s!==null&&typeof s=="object"}function Wl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Cl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function k2(s,e){const i=new V2(s,e);return i.subscribe.bind(i)}class V2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");z2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Jd),l.error===void 0&&(l.error=Jd),l.complete===void 0&&(l.complete=Jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Jd(){}function tn(s){return s&&s._delegate?s._delegate:s}class Qr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ur="[DEFAULT]";class j2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new y2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U2(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L2(s){return s===Ur?void 0:s}function U2(s){return s.instantiationMode==="EAGER"}class P2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new j2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const q2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},B2=Me.INFO,H2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},F2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=H2[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=B2,this._logHandler=F2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const G2=(s,e)=>e.some(i=>s instanceof i);let h_,f_;function K2(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,hm=new WeakMap,cb=new WeakMap,Zd=new WeakMap,Hm=new WeakMap;function Y2(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Ys(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&lb.set(i,s)}).catch(()=>{}),Hm.set(e,s),e}function X2(s){if(hm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});hm.set(s,e)}let fm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||cb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function $2(s){fm=s(fm)}function J2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Wd(this),e,...i);return cb.set(r,e.sort?e.sort():[e]),Ys(r)}:Q2().includes(s)?function(...e){return s.apply(Wd(this),e),Ys(lb.get(this))}:function(...e){return Ys(s.apply(Wd(this),e))}}function Z2(s){return typeof s=="function"?J2(s):(s instanceof IDBTransaction&&X2(s),G2(s,K2())?new Proxy(s,fm):s)}function Ys(s){if(s instanceof IDBRequest)return Y2(s);if(Zd.has(s))return Zd.get(s);const e=Z2(s);return e!==s&&(Zd.set(s,e),Hm.set(e,s)),e}const Wd=s=>Hm.get(s);function W2(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=Ys(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Ys(d.result),y.oldVersion,y.newVersion,Ys(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const eS=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],em=new Map;function d_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=tS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||eS.includes(i)))return;const u=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),l&&y.done]))[0]};return em.set(e,u),u}$2(s=>({...s,get:(e,i,r)=>d_(e,i)||s.get(e,i,r),has:(e,i)=>!!d_(e,i)||s.has(e,i)}));class nS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function iS(s){return s.getComponent()?.type==="VERSION"}const dm="@firebase/app",m_="0.14.8";const is=new Bm("@firebase/app"),sS="@firebase/app-compat",rS="@firebase/analytics-compat",aS="@firebase/analytics",oS="@firebase/app-check-compat",lS="@firebase/app-check",cS="@firebase/auth",uS="@firebase/auth-compat",hS="@firebase/database",fS="@firebase/data-connect",dS="@firebase/database-compat",mS="@firebase/functions",pS="@firebase/functions-compat",gS="@firebase/installations",yS="@firebase/installations-compat",_S="@firebase/messaging",vS="@firebase/messaging-compat",bS="@firebase/performance",ES="@firebase/performance-compat",TS="@firebase/remote-config",wS="@firebase/remote-config-compat",SS="@firebase/storage",xS="@firebase/storage-compat",AS="@firebase/firestore",RS="@firebase/ai",NS="@firebase/firestore-compat",CS="firebase",IS="12.9.0";const mm="[DEFAULT]",DS={[dm]:"fire-core",[sS]:"fire-core-compat",[aS]:"fire-analytics",[rS]:"fire-analytics-compat",[lS]:"fire-app-check",[oS]:"fire-app-check-compat",[cS]:"fire-auth",[uS]:"fire-auth-compat",[hS]:"fire-rtdb",[fS]:"fire-data-connect",[dS]:"fire-rtdb-compat",[mS]:"fire-fn",[pS]:"fire-fn-compat",[gS]:"fire-iid",[yS]:"fire-iid-compat",[_S]:"fire-fcm",[vS]:"fire-fcm-compat",[bS]:"fire-perf",[ES]:"fire-perf-compat",[TS]:"fire-rc",[wS]:"fire-rc-compat",[SS]:"fire-gcs",[xS]:"fire-gcs-compat",[AS]:"fire-fst",[NS]:"fire-fst-compat",[RS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};const ql=new Map,OS=new Map,pm=new Map;function p_(s,e){try{s.container.addComponent(e)}catch(i){is.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ro(s){const e=s.name;if(pm.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,s);for(const i of ql.values())p_(i,s);for(const i of OS.values())p_(i,s);return!0}function Fm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Un(s){return s==null?!1:s.settings!==void 0}const MS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Zl("app","Firebase",MS);class kS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const mo=IS;function gm(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:mm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(i||(i=sb()),!i)throw Xs.create("no-options");const u=ql.get(l);if(u){if(Kr(i,u.options)&&Kr(r,u.config))return u;throw Xs.create("duplicate-app",{appName:l})}const d=new P2(l);for(const y of pm.values())d.addComponent(y);const p=new kS(i,r,d);return ql.set(l,p),p}function Gm(s=mm){const e=ql.get(s);if(!e&&s===mm&&sb())return gm();if(!e)throw Xs.create("no-app",{appName:s});return e}function g_(){return Array.from(ql.values())}function $s(s,e,i){let r=DS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(d.join(" "));return}ro(new Qr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const VS="firebase-heartbeat-database",zS=1,Bl="firebase-heartbeat-store";let tm=null;function ub(){return tm||(tm=W2(VS,zS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),tm}async function jS(s){try{const i=(await ub()).transaction(Bl),r=await i.objectStore(Bl).get(hb(s));return await i.done,r}catch(e){if(e instanceof os)is.warn(e.message);else{const i=Xs.create("idb-get",{originalErrorMessage:e?.message});is.warn(i.message)}}}async function y_(s,e){try{const r=(await ub()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,hb(s)),await r.done}catch(i){if(i instanceof os)is.warn(i.message);else{const r=Xs.create("idb-set",{originalErrorMessage:i?.message});is.warn(r.message)}}}function hb(s){return`${s.name}!${s.options.appId}`}const LS=1024,US=30;class PS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>US){const l=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=__(),{heartbeatsToSend:i,unsentEntries:r}=qS(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return is.warn(e),""}}}function __(){return new Date().toISOString().substring(0,10)}function qS(s,e=LS){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),v_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),v_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class BS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?C2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function v_(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function HS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function FS(s){ro(new Qr("platform-logger",e=>new nS(e),"PRIVATE")),ro(new Qr("heartbeat",e=>new PS(e),"PRIVATE")),$s(dm,m_,s),$s(dm,m_,"esm2020"),$s("fire-js","")}FS("");var GS="firebase",KS="12.9.0";$s(GS,KS,"app");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QS=fb,db=new Zl("auth","Firebase",fb());const rh=new Bm("@firebase/auth");function YS(s,...e){rh.logLevel<=Me.WARN&&rh.warn(`Auth (${mo}): ${s}`,...e)}function Gu(s,...e){rh.logLevel<=Me.ERROR&&rh.error(`Auth (${mo}): ${s}`,...e)}function ii(s,...e){throw Km(s,...e)}function Ni(s,...e){return Km(s,...e)}function mb(s,e,i){const r={...QS(),[e]:i};return new Zl("auth","Firebase",r).create(e,{appName:s.name})}function ns(s){return mb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return db.create(s,...e)}function ve(s,e,...i){if(!s)throw Km(e,...i)}function es(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gu(e),new Error(e)}function ss(s,e){s||es(e)}function ym(){return typeof self<"u"&&self.location?.href||""}function XS(){return b_()==="http:"||b_()==="https:"}function b_(){return typeof self<"u"&&self.location?.protocol||null}function $S(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XS()||S2()||"connection"in navigator)?navigator.onLine:!0}function JS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ec{constructor(e,i){this.shortDelay=e,this.longDelay=i,ss(i>e,"Short delay should be less than long delay!"),this.isMobile=E2()||x2()}get(){return $S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(s,e){ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class pb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ex=new ec(3e4,6e4);function rr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ar(s,e,i,r,l={}){return gb(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=Wl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:y,...u};return w2()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&fo(s.emulatorConfig.host)&&(g.credentials="include"),pb.fetch()(await yb(s,s.config.apiHost,i,p),g)})}async function gb(s,e,i){s._canInitEmulator=!1;const r={...ZS,...e};try{const l=new nx(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Uu(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Uu(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Uu(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mb(s,T,g);ii(s,T)}}catch(l){if(l instanceof os)throw l;ii(s,"network-request-failed",{message:String(l)})}}async function tc(s,e,i,r,l={}){const u=await ar(s,e,i,r,l);return"mfaPendingCredential"in u&&ii(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function yb(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Qm(s.config,l):`${s.config.apiScheme}://${l}`;return WS.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function tx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),ex.get())})}}function Uu(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ni(s,e,r);return l.customData._tokenResponse=i,l}function E_(s){return s!==void 0&&s.enterprise!==void 0}class ix{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return tx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sx(s,e){return ar(s,"GET","/v2/recaptchaConfig",rr(s,e))}async function rx(s,e){return ar(s,"POST","/v1/accounts:delete",e)}async function ah(s,e){return ar(s,"POST","/v1/accounts:lookup",e)}function zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ax(s,e=!1){const i=tn(s),r=await i.getIdToken(e),l=Ym(r);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:zl(nm(l.auth_time)),issuedAtTime:zl(nm(l.iat)),expirationTime:zl(nm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function nm(s){return Number(s)*1e3}function Ym(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const l=nb(i);return l?JSON.parse(l):(Gu("Failed to decode base64 JWT payload"),null)}catch(l){return Gu("Caught error parsing JWT payload as JSON",l?.toString()),null}}function T_(s){const e=Ym(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof os&&ox(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ox({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class lx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(s){const e=s.auth,i=await s.getIdToken(),r=await Hl(s,ah(e,{idToken:i}));ve(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?_b(l.providerUserInfo):[],d=ux(s.providerData,u),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,g=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,T)}async function cx(s){const e=tn(s);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ux(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function _b(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hx(s,e){const i=await gb(s,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await yb(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&fo(s.emulatorConfig.host)&&(y.credentials="include"),pb.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fx(s,e){return ar(s,"POST","/v2/accounts:revokeToken",rr(s,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=T_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await hx(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new Wa;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(ve(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return es("not implemented")}}function qs(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ax(this,e)}reload(){return cx(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await Hl(this,rx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,g=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:x,emailVerified:N,isAnonymous:B,providerData:W,stsTokenManager:G}=i;ve(x&&G,e,"internal-error");const ee=Wa.fromJSON(this.name,G);ve(typeof x=="string",e,"internal-error"),qs(r,e.name),qs(l,e.name),ve(typeof N=="boolean",e,"internal-error"),ve(typeof B=="boolean",e,"internal-error"),qs(u,e.name),qs(d,e.name),qs(p,e.name),qs(y,e.name),qs(g,e.name),qs(T,e.name);const te=new ei({uid:x,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:ee,createdAt:g,lastLoginAt:T});return W&&Array.isArray(W)&&(te.providerData=W.map(P=>({...P}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,i,r=!1){const l=new Wa;l.updateFromServerResponse(i);const u=new ei({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await oh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?_b(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new Wa;p.updateFromIdToken(r);const y=new ei({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const w_=new Map;function ts(s){ss(s instanceof Function,"Expected a class definition");let e=w_.get(s);return e?(ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,w_.set(s,e),e)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}vb.type="NONE";const S_=vb;function Ku(s,e,i){return`firebase:${s}:${e}:${i}`}class eo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Ku(this.userKey,l.apiKey,u),this.fullPersistenceKey=Ku("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ah(this.auth,{idToken:e}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new eo(ts(S_),e,r);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||ts(S_);const d=Ku(r,e.config.apiKey,e.name);let p=null;for(const g of i)try{const T=await g._get(d);if(T){let x;if(typeof T=="string"){const N=await ah(e,{idToken:T}).catch(()=>{});if(!N)break;x=await ei._fromGetAccountInfoResponse(e,N,T)}else x=ei._fromJSON(e,T);g!==u&&(p=x),u=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new eo(u,e,r):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new eo(u,e,r))}}function x_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xb(e))return"Blackberry";if(Ab(e))return"Webos";if(Eb(e))return"Safari";if((e.includes("chrome/")||Tb(e))&&!e.includes("edge/"))return"Chrome";if(Sb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function bb(s=en()){return/firefox\//i.test(s)}function Eb(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tb(s=en()){return/crios\//i.test(s)}function wb(s=en()){return/iemobile/i.test(s)}function Sb(s=en()){return/android/i.test(s)}function xb(s=en()){return/blackberry/i.test(s)}function Ab(s=en()){return/webos/i.test(s)}function Xm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function dx(s=en()){return Xm(s)&&!!window.navigator?.standalone}function mx(){return A2()&&document.documentMode===10}function Rb(s=en()){return Xm(s)||Sb(s)||Ab(s)||xb(s)||/windows phone/i.test(s)||wb(s)}function Nb(s,e=[]){let i;switch(s){case"Browser":i=x_(en());break;case"Worker":i=`${x_(en())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${r}`}class px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gx(s,e={}){return ar(s,"GET","/v2/passwordPolicy",rr(s,e))}const yx=6;class _x{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class vx{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A_(this),this.idTokenSubscription=new A_(this),this.beforeStateQueue=new px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ah(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ns(this));const i=e?tn(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gx(this),i=new _x(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await fx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ts(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wr(s){return tn(s)}class A_{constructor(e){this.auth=e,this.observer=null,this.addObserver=k2(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bx(s){Nh=s}function Cb(s){return Nh.loadJS(s)}function Ex(){return Nh.recaptchaEnterpriseScript}function Tx(){return Nh.gapiScript}function wx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Sx{constructor(){this.enterprise=new xx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class xx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Ax="recaptcha-enterprise",Ib="NO_RECAPTCHA";class Rx{constructor(e){this.type=Ax,this.auth=Wr(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{sx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new ix(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function l(u,d,p){const y=window.grecaptcha;E_(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(Ib)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sx().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&E_(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Ex();y.length!==0&&(y+=p),Cb(y).then(()=>{l(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function R_(s,e,i,r=!1,l=!1){const u=new Rx(s);let d;if(l)d=Ib;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function vm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await R_(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await R_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function Nx(s,e){const i=Fm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Kr(u,e??{}))return l;ii(l,"already-initialized")}return i.initialize({options:e})}function Cx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ts);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ix(s,e,i){const r=Wr(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=Db(e),{host:d,port:p}=Dx(e),y=p===null?"":`:${p}`,g={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Kr(g,r.config.emulator)&&Kr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,fo(d)?(ab(`${u}//${d}${y}`),ob("Auth",!0)):Ox()}function Db(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Dx(s){const e=Db(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:N_(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:N_(d)}}}function N_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ox(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class $m{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,i){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function Mx(s,e){return ar(s,"POST","/v1/accounts:signUp",e)}async function kx(s,e){return tc(s,"POST","/v1/accounts:signInWithPassword",rr(s,e))}async function Vx(s,e){return tc(s,"POST","/v1/accounts:signInWithEmailLink",rr(s,e))}async function zx(s,e){return tc(s,"POST","/v1/accounts:signInWithEmailLink",rr(s,e))}class Fl extends $m{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Fl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Fl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,i,"signInWithPassword",kx);case"emailLink":return Vx(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,r,"signUpPassword",Mx);case"emailLink":return zx(e,{idToken:i,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function to(s,e){return tc(s,"POST","/v1/accounts:signInWithIdp",rr(s,e))}const jx="http://localhost";class Yr extends $m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new Yr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return to(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,to(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,to(e,i)}buildRequest(){const e={requestUri:jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wl(i)}return e}}function Lx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ux(s){const e=Nl(Cl(s)).link,i=e?Nl(Cl(e)).deep_link_id:null,r=Nl(Cl(s)).deep_link_id;return(r?Nl(Cl(r)).link:null)||r||i||e||s}class Jm{constructor(e){const i=Nl(Cl(e)),r=i.apiKey??null,l=i.oobCode??null,u=Lx(i.mode??null);ve(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Ux(e);try{return new Jm(i)}catch{return null}}}class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,i){return Fl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Jm.parseLink(i);return ve(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nc extends Ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hs extends nc{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Yr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Fs.credential(i,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends nc{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Ks extends nc{constructor(){super("twitter.com")}static credential(e,i){return Yr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ks.credential(i,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function Px(s,e){return tc(s,"POST","/v1/accounts:signUp",rr(s,e))}class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ei._fromIdTokenResponse(e,r,l),d=C_(r);return new Xr({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=C_(r);return new Xr({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function C_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class lh extends os{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new lh(e,i,r,l)}}function Mb(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,u,e,r):u})}async function qx(s,e,i=!1){const r=await Hl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Xr._forOperation(s,"link",r)}async function Bx(s,e,i=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(ns(r));const l="reauthenticate";try{const u=await Hl(s,Mb(r,l,e,s),i);ve(u.idToken,r,"internal-error");const d=Ym(u.idToken);ve(d,r,"internal-error");const{sub:p}=d;return ve(s.uid===p,r,"user-mismatch"),Xr._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),u}}async function kb(s,e,i=!1){if(Un(s.app))return Promise.reject(ns(s));const r="signIn",l=await Mb(s,r,e),u=await Xr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function Hx(s,e){return kb(Wr(s),e)}async function Vb(s){const e=Wr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fx(s,e,i){if(Un(s.app))return Promise.reject(ns(s));const r=Wr(s),d=await vm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Px).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Vb(s),y}),p=await Xr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function Gx(s,e,i){return Un(s.app)?Promise.reject(ns(s)):Hx(tn(s),po.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vb(s),r})}function Kx(s,e,i,r){return tn(s).onIdTokenChanged(e,i,r)}function Qx(s,e,i){return tn(s).beforeAuthStateChanged(e,i)}function Yx(s,e,i,r){return tn(s).onAuthStateChanged(e,i,r)}function bm(s){return tn(s).signOut()}const ch="__sak";class zb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xx=1e3,$x=10;class jb extends zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);mx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$x):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},Xx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}jb.type="LOCAL";const Jx=jb;class Lb extends zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Lb.type="SESSION";const Ub=Lb;function Zx(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async g=>g(i.origin,u)),y=await Zx(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function Zm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class Wx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const g=Zm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(x){const N=x;if(N.data.eventId===g)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function eA(s){Ci().location.href=s}function Pb(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function tA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nA(){return navigator?.serviceWorker?.controller||null}function iA(){return Pb()?self:null}const qb="firebaseLocalStorageDb",sA=1,uh="firebaseLocalStorage",Bb="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function rA(){const s=indexedDB.deleteDatabase(qb);return new ic(s).toPromise()}function Em(){const s=indexedDB.open(qb,sA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:Bb})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await rA(),e(await Em()))})})}async function I_(s,e,i){const r=Ih(s,!0).put({[Bb]:e,value:i});return new ic(r).toPromise()}async function aA(s,e){const i=Ih(s,!1).get(e),r=await new ic(i).toPromise();return r===void 0?null:r.value}function D_(s,e){const i=Ih(s,!0).delete(e);return new ic(i).toPromise()}const oA=800,lA=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>lA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(iA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tA(),!this.activeServiceWorker)return;this.sender=new Wx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await I_(e,ch,"1"),await D_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>aA(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>D_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Ih(l,!1).getAll();return new ic(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const cA=Hb;new ec(3e4,6e4);function uA(s,e){return e?ts(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Wm extends $m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,i){return to(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function hA(s){return kb(s.auth,new Wm(s),s.bypassAuthState)}function fA(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),Bx(i,new Wm(s),s.bypassAuthState)}async function dA(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),qx(i,new Wm(s),s.bypassAuthState)}class Fb{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hA;case"linkViaPopup":case"linkViaRedirect":return dA;case"reauthViaPopup":case"reauthViaRedirect":return fA;default:ii(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mA=new ec(2e3,1e4);class Za extends Fb{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mA.get())};e()}}Za.currentPopupAction=null;const pA="pendingRedirect",Qu=new Map;class gA extends Fb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Qu.get(this.auth._key());if(!e){try{const r=await yA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yA(s,e){const i=bA(e),r=vA(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function _A(s,e){Qu.set(s._key(),e)}function vA(s){return ts(s._redirectPersistence)}function bA(s){return Ku(pA,s.config.apiKey,s.name)}async function EA(s,e,i=!1){if(Un(s.app))return Promise.reject(ns(s));const r=Wr(s),l=uA(r,e),d=await new gA(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const TA=600*1e3;class wA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Gb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TA&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Gb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function SA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(s);default:return!1}}async function xA(s,e={}){return ar(s,"GET","/v1/projects",e)}const AA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RA=/^https?/;async function NA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await xA(s);for(const i of e)try{if(CA(i))return}catch{}ii(s,"unauthorized-domain")}function CA(s){const e=ym(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!RA.test(i))return!1;if(AA.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const IA=new ec(3e4,6e4);function M_(){const s=Ci().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function DA(s){return new Promise((e,i)=>{function r(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),i(Ni(s,"network-request-failed"))},timeout:IA.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=wx("iframefcb");return Ci()[l]=()=>{gapi.load?r():i(Ni(s,"network-request-failed"))},Cb(`${Tx()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function OA(s){return Yu=Yu||DA(s),Yu}const MA=new ec(5e3,15e3),kA="__/auth/iframe",VA="emulator/auth/iframe",zA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LA(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Qm(e,VA):`https://${s.config.authDomain}/${kA}`,r={apiKey:e.apiKey,appName:s.name,v:mo},l=jA.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Wl(r).slice(1)}`}async function UA(s){const e=await OA(s),i=Ci().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:LA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zA,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ni(s,"network-request-failed"),p=Ci().setTimeout(()=>{u(d)},MA.get());function y(){Ci().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const PA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qA=500,BA=600,HA="_blank",FA="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GA(s,e,i,r=qA,l=BA){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...PA,width:r.toString(),height:l.toString(),top:u,left:d},g=en().toLowerCase();i&&(p=Tb(g)?HA:i),bb(g)&&(e=e||FA,y.scrollbars="yes");const T=Object.entries(y).reduce((N,[B,W])=>`${N}${B}=${W},`,"");if(dx(g)&&p!=="_self")return KA(e||"",p),new k_(null);const x=window.open(e||"",p,T);ve(x,s,"popup-blocked");try{x.focus()}catch{}return new k_(x)}function KA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const QA="__/auth/handler",YA="emulator/auth/handler",XA=encodeURIComponent("fac");async function V_(s,e,i,r,l,u){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:mo,eventId:l};if(e instanceof Ob){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",M2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))d[T]=x}if(e instanceof nc){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),g=y?`#${XA}=${encodeURIComponent(y)}`:"";return`${$A(s)}?${Wl(p).slice(1)}${g}`}function $A({config:s}){return s.emulator?Qm(s,YA):`https://${s.authDomain}/${QA}`}const im="webStorageSupport";class JA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ub,this._completeRedirectFn=EA,this._overrideRedirectResult=_A}async _openPopup(e,i,r,l){ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await V_(e,i,r,ym(),l);return GA(e,u,Zm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await V_(e,i,r,ym(),l);return eA(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ss(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await UA(e),r=new wA(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(im,{type:im},l=>{const u=l?.[0]?.[im];u!==void 0&&i(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Rb()||Eb()||Xm()}}const ZA=JA;var z_="@firebase/auth",j_="1.12.0";class WA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tR(s){ro(new Qr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(s)},g=new vx(r,l,u,y);return Cx(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ro(new Qr("auth-internal",e=>{const i=Wr(e.getProvider("auth").getImmediate());return(r=>new WA(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(z_,j_,eR(s)),$s(z_,j_,"esm2020")}const nR=300,iR=rb("authIdTokenMaxAge")||nR;let L_=null;const sR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>iR)return;const l=i?.token;L_!==l&&(L_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function U_(s=Gm()){const e=Fm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Nx(s,{popupRedirectResolver:ZA,persistence:[cA,Jx,Ub]}),r=rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=sR(u.toString());Qx(i,d,()=>d(i.currentUser)),Kx(i,p=>d(p))}}const l=ib("auth");return l&&Ix(i,`http://${l}`),i}function rR(){return document.getElementsByTagName("head")?.[0]??document}bx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ni("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",rR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tR("Browser");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,Kb;(function(){var s;function e(R,S){function A(){}A.prototype=S.prototype,R.F=S.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(O,C,V){for(var I=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)I[Pe-2]=arguments[Pe];return S.prototype[C].apply(O,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,S,A){A||(A=0);const O=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)O[C]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(C=0;C<16;++C)O[C]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=R.g[0],A=R.g[1],C=R.g[2];let V=R.g[3],I;I=S+(V^A&(C^V))+O[0]+3614090360&4294967295,S=A+(I<<7&4294967295|I>>>25),I=V+(C^S&(A^C))+O[1]+3905402710&4294967295,V=S+(I<<12&4294967295|I>>>20),I=C+(A^V&(S^A))+O[2]+606105819&4294967295,C=V+(I<<17&4294967295|I>>>15),I=A+(S^C&(V^S))+O[3]+3250441966&4294967295,A=C+(I<<22&4294967295|I>>>10),I=S+(V^A&(C^V))+O[4]+4118548399&4294967295,S=A+(I<<7&4294967295|I>>>25),I=V+(C^S&(A^C))+O[5]+1200080426&4294967295,V=S+(I<<12&4294967295|I>>>20),I=C+(A^V&(S^A))+O[6]+2821735955&4294967295,C=V+(I<<17&4294967295|I>>>15),I=A+(S^C&(V^S))+O[7]+4249261313&4294967295,A=C+(I<<22&4294967295|I>>>10),I=S+(V^A&(C^V))+O[8]+1770035416&4294967295,S=A+(I<<7&4294967295|I>>>25),I=V+(C^S&(A^C))+O[9]+2336552879&4294967295,V=S+(I<<12&4294967295|I>>>20),I=C+(A^V&(S^A))+O[10]+4294925233&4294967295,C=V+(I<<17&4294967295|I>>>15),I=A+(S^C&(V^S))+O[11]+2304563134&4294967295,A=C+(I<<22&4294967295|I>>>10),I=S+(V^A&(C^V))+O[12]+1804603682&4294967295,S=A+(I<<7&4294967295|I>>>25),I=V+(C^S&(A^C))+O[13]+4254626195&4294967295,V=S+(I<<12&4294967295|I>>>20),I=C+(A^V&(S^A))+O[14]+2792965006&4294967295,C=V+(I<<17&4294967295|I>>>15),I=A+(S^C&(V^S))+O[15]+1236535329&4294967295,A=C+(I<<22&4294967295|I>>>10),I=S+(C^V&(A^C))+O[1]+4129170786&4294967295,S=A+(I<<5&4294967295|I>>>27),I=V+(A^C&(S^A))+O[6]+3225465664&4294967295,V=S+(I<<9&4294967295|I>>>23),I=C+(S^A&(V^S))+O[11]+643717713&4294967295,C=V+(I<<14&4294967295|I>>>18),I=A+(V^S&(C^V))+O[0]+3921069994&4294967295,A=C+(I<<20&4294967295|I>>>12),I=S+(C^V&(A^C))+O[5]+3593408605&4294967295,S=A+(I<<5&4294967295|I>>>27),I=V+(A^C&(S^A))+O[10]+38016083&4294967295,V=S+(I<<9&4294967295|I>>>23),I=C+(S^A&(V^S))+O[15]+3634488961&4294967295,C=V+(I<<14&4294967295|I>>>18),I=A+(V^S&(C^V))+O[4]+3889429448&4294967295,A=C+(I<<20&4294967295|I>>>12),I=S+(C^V&(A^C))+O[9]+568446438&4294967295,S=A+(I<<5&4294967295|I>>>27),I=V+(A^C&(S^A))+O[14]+3275163606&4294967295,V=S+(I<<9&4294967295|I>>>23),I=C+(S^A&(V^S))+O[3]+4107603335&4294967295,C=V+(I<<14&4294967295|I>>>18),I=A+(V^S&(C^V))+O[8]+1163531501&4294967295,A=C+(I<<20&4294967295|I>>>12),I=S+(C^V&(A^C))+O[13]+2850285829&4294967295,S=A+(I<<5&4294967295|I>>>27),I=V+(A^C&(S^A))+O[2]+4243563512&4294967295,V=S+(I<<9&4294967295|I>>>23),I=C+(S^A&(V^S))+O[7]+1735328473&4294967295,C=V+(I<<14&4294967295|I>>>18),I=A+(V^S&(C^V))+O[12]+2368359562&4294967295,A=C+(I<<20&4294967295|I>>>12),I=S+(A^C^V)+O[5]+4294588738&4294967295,S=A+(I<<4&4294967295|I>>>28),I=V+(S^A^C)+O[8]+2272392833&4294967295,V=S+(I<<11&4294967295|I>>>21),I=C+(V^S^A)+O[11]+1839030562&4294967295,C=V+(I<<16&4294967295|I>>>16),I=A+(C^V^S)+O[14]+4259657740&4294967295,A=C+(I<<23&4294967295|I>>>9),I=S+(A^C^V)+O[1]+2763975236&4294967295,S=A+(I<<4&4294967295|I>>>28),I=V+(S^A^C)+O[4]+1272893353&4294967295,V=S+(I<<11&4294967295|I>>>21),I=C+(V^S^A)+O[7]+4139469664&4294967295,C=V+(I<<16&4294967295|I>>>16),I=A+(C^V^S)+O[10]+3200236656&4294967295,A=C+(I<<23&4294967295|I>>>9),I=S+(A^C^V)+O[13]+681279174&4294967295,S=A+(I<<4&4294967295|I>>>28),I=V+(S^A^C)+O[0]+3936430074&4294967295,V=S+(I<<11&4294967295|I>>>21),I=C+(V^S^A)+O[3]+3572445317&4294967295,C=V+(I<<16&4294967295|I>>>16),I=A+(C^V^S)+O[6]+76029189&4294967295,A=C+(I<<23&4294967295|I>>>9),I=S+(A^C^V)+O[9]+3654602809&4294967295,S=A+(I<<4&4294967295|I>>>28),I=V+(S^A^C)+O[12]+3873151461&4294967295,V=S+(I<<11&4294967295|I>>>21),I=C+(V^S^A)+O[15]+530742520&4294967295,C=V+(I<<16&4294967295|I>>>16),I=A+(C^V^S)+O[2]+3299628645&4294967295,A=C+(I<<23&4294967295|I>>>9),I=S+(C^(A|~V))+O[0]+4096336452&4294967295,S=A+(I<<6&4294967295|I>>>26),I=V+(A^(S|~C))+O[7]+1126891415&4294967295,V=S+(I<<10&4294967295|I>>>22),I=C+(S^(V|~A))+O[14]+2878612391&4294967295,C=V+(I<<15&4294967295|I>>>17),I=A+(V^(C|~S))+O[5]+4237533241&4294967295,A=C+(I<<21&4294967295|I>>>11),I=S+(C^(A|~V))+O[12]+1700485571&4294967295,S=A+(I<<6&4294967295|I>>>26),I=V+(A^(S|~C))+O[3]+2399980690&4294967295,V=S+(I<<10&4294967295|I>>>22),I=C+(S^(V|~A))+O[10]+4293915773&4294967295,C=V+(I<<15&4294967295|I>>>17),I=A+(V^(C|~S))+O[1]+2240044497&4294967295,A=C+(I<<21&4294967295|I>>>11),I=S+(C^(A|~V))+O[8]+1873313359&4294967295,S=A+(I<<6&4294967295|I>>>26),I=V+(A^(S|~C))+O[15]+4264355552&4294967295,V=S+(I<<10&4294967295|I>>>22),I=C+(S^(V|~A))+O[6]+2734768916&4294967295,C=V+(I<<15&4294967295|I>>>17),I=A+(V^(C|~S))+O[13]+1309151649&4294967295,A=C+(I<<21&4294967295|I>>>11),I=S+(C^(A|~V))+O[4]+4149444226&4294967295,S=A+(I<<6&4294967295|I>>>26),I=V+(A^(S|~C))+O[11]+3174756917&4294967295,V=S+(I<<10&4294967295|I>>>22),I=C+(S^(V|~A))+O[2]+718787259&4294967295,C=V+(I<<15&4294967295|I>>>17),I=A+(V^(C|~S))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+C&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const A=S-this.blockSize,O=this.C;let C=this.h,V=0;for(;V<S;){if(C==0)for(;V<=A;)l(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<S;)if(O[C++]=R.charCodeAt(V++),C==this.blockSize){l(this,O),C=0;break}}else for(;V<S;)if(O[C++]=R[V++],C==this.blockSize){l(this,O),C=0;break}}this.h=C,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)R[S++]=this.g[A]>>>O&255;return R};function u(R,S){var A=p;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=S(R)}function d(R,S){this.h=S;const A=[];let O=!0;for(let C=R.length-1;C>=0;C--){const V=R[C]|0;O&&V==S||(A[C]=V,O=!1)}this.g=A}var p={};function y(R){return-128<=R&&R<128?u(R,function(S){return new d([S|0],S<0?-1:0)}):new d([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return ee(g(-R));const S=[];let A=1;for(let O=0;R>=A;O++)S[O]=R/A|0,A*=4294967296;return new d(S,0)}function T(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return ee(T(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(S,8));let O=x;for(let V=0;V<R.length;V+=8){var C=Math.min(8,R.length-V);const I=parseInt(R.substring(V,V+C),S);C<8?(C=g(Math.pow(S,C)),O=O.j(C).add(g(I))):(O=O.j(A),O=O.add(g(I)))}return O}var x=y(0),N=y(1),B=y(16777216);s=d.prototype,s.m=function(){if(G(this))return-ee(this).m();let R=0,S=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);R+=(O>=0?O:4294967296+O)*S,S*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(W(this))return"0";if(G(this))return"-"+ee(this).toString(R);const S=g(Math.pow(R,6));var A=this;let O="";for(;;){const C=ne(A,S).g;A=te(A,C.j(S));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=C,W(A))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function W(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function G(R){return R.h==-1}s.l=function(R){return R=te(this,R),G(R)?-1:W(R)?0:1};function ee(R){const S=R.g.length,A=[];for(let O=0;O<S;O++)A[O]=~R.g[O];return new d(A,~R.h).add(N)}s.abs=function(){return G(this)?ee(this):this},s.add=function(R){const S=Math.max(this.g.length,R.g.length),A=[];let O=0;for(let C=0;C<=S;C++){let V=O+(this.i(C)&65535)+(R.i(C)&65535),I=(V>>>16)+(this.i(C)>>>16)+(R.i(C)>>>16);O=I>>>16,V&=65535,I&=65535,A[C]=I<<16|V}return new d(A,A[A.length-1]&-2147483648?-1:0)};function te(R,S){return R.add(ee(S))}s.j=function(R){if(W(this)||W(R))return x;if(G(this))return G(R)?ee(this).j(ee(R)):ee(ee(this).j(R));if(G(R))return ee(this.j(ee(R)));if(this.l(B)<0&&R.l(B)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,A=[];for(var O=0;O<2*S;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let C=0;C<R.g.length;C++){const V=this.i(O)>>>16,I=this.i(O)&65535,Pe=R.i(C)>>>16,Qe=R.i(C)&65535;A[2*O+2*C]+=I*Qe,P(A,2*O+2*C),A[2*O+2*C+1]+=V*Qe,P(A,2*O+2*C+1),A[2*O+2*C+1]+=I*Pe,P(A,2*O+2*C+1),A[2*O+2*C+2]+=V*Pe,P(A,2*O+2*C+2)}for(R=0;R<S;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=S;R<2*S;R++)A[R]=0;return new d(A,0)};function P(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function se(R,S){this.g=R,this.h=S}function ne(R,S){if(W(S))throw Error("division by zero");if(W(R))return new se(x,x);if(G(R))return S=ne(ee(R),S),new se(ee(S.g),ee(S.h));if(G(S))return S=ne(R,ee(S)),new se(ee(S.g),S.h);if(R.g.length>30){if(G(R)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var A=N,O=S;O.l(R)<=0;)A=ge(A),O=ge(O);var C=fe(A,1),V=fe(O,1);for(O=fe(O,2),A=fe(A,2);!W(O);){var I=V.add(O);I.l(R)<=0&&(C=C.add(A),V=I),O=fe(O,1),A=fe(A,1)}return S=te(R,C.j(S)),new se(C,S)}for(C=x;R.l(S)>=0;){for(A=Math.max(1,Math.floor(R.m()/S.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=g(A),I=V.j(S);G(I)||I.l(R)>0;)A-=O,V=g(A),I=V.j(S);W(V)&&(V=N),C=C.add(V),R=te(R,I)}return new se(C,R)}s.B=function(R){return ne(this,R).h},s.and=function(R){const S=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)&R.i(O);return new d(A,this.h&R.h)},s.or=function(R){const S=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)|R.i(O);return new d(A,this.h|R.h)},s.xor=function(R){const S=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)^R.i(O);return new d(A,this.h^R.h)};function ge(R){const S=R.g.length+1,A=[];for(let O=0;O<S;O++)A[O]=R.i(O)<<1|R.i(O-1)>>>31;return new d(A,R.h)}function fe(R,S){const A=S>>5;S%=32;const O=R.g.length-A,C=[];for(let V=0;V<O;V++)C[V]=S>0?R.i(V+A)>>>S|R.i(V+A+1)<<32-S:R.i(V+A);return new d(C,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Kb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Js=d}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qb,Il,Yb,Xu,Tm,Xb,$b,Jb;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<c.length;++m){var b=c[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var b=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in b))break e;b=b[j]}c=c[c.length-1],w=b[c],m=m(w),m!=w&&m!=null&&e(b,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var b=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.push([w,m[w]]);return b}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,b){return c.call.apply(c.bind,arguments)}function g(c,m,b){return g=y,g.apply(null,arguments)}function T(c,m){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,m){function b(){}b.prototype=m.prototype,c.Z=m.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,j,H){for(var ie=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ie[xe-2]=arguments[xe];return m.prototype[j].apply(w,ie)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const b=Array(m);for(let w=0;w<m;w++)b[w]=c[w];return b}return[]}function W(c,m){for(let w=1;w<arguments.length;w++){const j=arguments[w];var b=typeof j;if(b=b!="object"?b:j?Array.isArray(j)?"array":b:"null",b=="array"||b=="object"&&typeof j.length=="number"){b=c.length||0;const H=j.length||0;c.length=b+H;for(let ie=0;ie<H;ie++)c[b+ie]=j[ie]}else c.push(j)}}class G{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(c){d.setTimeout(()=>{throw c},0)}function te(){var c=R;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class P{constructor(){this.h=this.g=null}add(m,b){const w=se.get();w.set(m,b),this.h?this.h.next=w:this.g=w,this.h=w}}var se=new G(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,fe=!1,R=new P,S=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(A)}};function A(){for(var c;c=te();){try{c.h.call(c.g)}catch(b){ee(b)}var m=se;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}fe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Pe(c,m){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}x(Pe,C),Pe.prototype.init=function(c,m){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(b=="mouseover"?m=c.fromElement:b=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),K=0;function ae(c,m,b,w,j){this.listener=c,this.proxy=null,this.src=m,this.type=b,this.capture=!!w,this.ha=j,this.key=++K,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,m,b){for(const w in c)m.call(b,c[w],w,c)}function Ye(c,m){for(const b in c)m.call(void 0,c[b],b,c)}function k(c){const m={};for(const b in c)m[b]=c[b];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,m){let b,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(b in w)c[b]=w[b];for(let H=0;H<$.length;H++)b=$[H],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,m,b,w,j){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ie=Re(c,m,w,j);return ie>-1?(m=c[ie],b||(m.fa=!1)):(m=new ae(m,this.src,H,!!w,j),m.fa=b,c.push(m)),m};function Ee(c,m){const b=m.type;if(b in c.g){var w=c.g[b],j=Array.prototype.indexOf.call(w,m,void 0),H;(H=j>=0)&&Array.prototype.splice.call(w,j,1),H&&(ye(m),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Re(c,m,b,w){for(let j=0;j<c.length;++j){const H=c[j];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==w)return j}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Dt={};function ot(c,m,b,w,j){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ot(c,m[H],b,w,j);return null}return b=wo(b),c&&c[Qe]?c.J(m,b,p(w)?!!w.capture:!1,j):or(c,m,b,!1,w,j)}function or(c,m,b,w,j,H){if(!m)throw Error("Invalid event type");const ie=p(j)?!!j.capture:!!j;let xe=lr(c);if(xe||(c[je]=xe=new ce(c)),b=xe.add(m,b,w,ie,H),b.proxy)return b;if(w=sa(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)V||(j=ie),j===void 0&&(j=!1),c.addEventListener(m.toString(),w,j);else if(c.attachEvent)c.attachEvent(ri(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function sa(){function c(b){return m.call(c.src,c.listener,b)}const m=Eo;return c}function ra(c,m,b,w,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)ra(c,m[H],b,w,j);else w=p(w)?!!w.capture:!!w,b=wo(b),c&&c[Qe]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],b=Re(m,b,w,j),b>-1&&(ye(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=lr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Re(m,b,w,j)),(b=c>-1?m[c]:null)&&aa(b))}function aa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Qe])Ee(m.i,c);else{var b=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(b,w,c.capture):m.detachEvent?m.detachEvent(ri(b),w):m.addListener&&m.removeListener&&m.removeListener(w),(b=lr(m))?(Ee(b,c),b.h==0&&(b.src=null,m[je]=null)):ye(c)}}}function ri(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Eo(c,m){if(c.da)c=!0;else{m=new Pe(m,this);const b=c.listener,w=c.ha||c.src;c.fa&&aa(c),c=b.call(w,m)}return c}function lr(c){return c=c[je],c instanceof ce?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function _t(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}x(_t,O),_t.prototype[Qe]=!0,_t.prototype.removeEventListener=function(c,m,b,w){ra(this,c,m,b,w)};function Ot(c,m){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new C(m,c);else if(m instanceof C)m.target=m.target||c;else{var j=m;m=new C(w,c),oe(m,j)}j=!0;let H,ie;if(b)for(ie=b.length-1;ie>=0;ie--)H=m.g=b[ie],j=ls(H,w,!0,m)&&j;if(H=m.g=c,j=ls(H,w,!0,m)&&j,j=ls(H,w,!1,m)&&j,b)for(ie=0;ie<b.length;ie++)H=m.g=b[ie],j=ls(H,w,!1,m)&&j}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const b=c.g[m];for(let w=0;w<b.length;w++)ye(b[w]);delete c.g[m],c.h--}}this.G=null},_t.prototype.J=function(c,m,b,w){return this.i.add(String(c),m,!1,b,w)},_t.prototype.K=function(c,m,b,w){return this.i.add(String(c),m,!0,b,w)};function ls(c,m,b,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==b){const xe=ie.listener,mt=ie.ha||ie.src;ie.fa&&Ee(c.i,ie),j=xe.call(mt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Kh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function uc(c){c.g=Kh(()=>{c.g=null,c.i&&(c.i=!1,uc(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends O{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(c){O.call(this),this.h=c,this.g={}}x(cr,O);var So=[];function xo(c){Ue(c.g,function(m,b){this.g.hasOwnProperty(b)&&aa(m)},c),c.g={}}cr.prototype.N=function(){cr.Z.N.call(this),xo(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Qh=d.JSON.parse,hc=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function fc(){}function dc(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){C.call(this,"d")}x(Pt,C);function xn(){C.call(this,"c")}x(xn,C);var dt={},mc=null;function oa(){return mc=mc||new _t}dt.Ia="serverreachability";function pc(c){C.call(this,dt.Ia,c)}x(pc,C);function ai(c){const m=oa();Ot(m,new pc(m))}dt.STAT_EVENT="statevent";function ur(c,m){C.call(this,dt.STAT_EVENT,c),this.stat=m}x(ur,C);function vt(c){const m=oa();Ot(m,new ur(m,c))}dt.Ja="timingevent";function oi(c,m){C.call(this,dt.Ja,c),this.size=m}x(oi,C);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Yh(c,m,b,w,j,H){c.info(function(){if(c.g)if(H){var ie="",xe=H.split("&");for(let Fe=0;Fe<xe.length;Fe++){var mt=xe[Fe].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Cn=lt.split("_");ie=Cn.length>=2&&Cn[1]=="type"?ie+(lt+"="+mt+"&"):ie+(lt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+m+`
`+b+`
`+ie})}function gc(c,m,b,w,j,H,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+m+`
`+b+`
`+H+" "+ie})}function ci(c,m,b,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xh(c,b)+(w?" "+w:"")})}function hr(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Xh(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var b=H[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return cs(H)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function dr(){}x(dr,fc),dr.prototype.g=function(){return new XMLHttpRequest},Ro=new dr;function Vi(c){return encodeURIComponent(String(c))}function yc(c){var m=1;c=c.split(":");const b=[];for(;m>0&&c.length;)b.push(c.shift()),m--;return c.length&&b.push(c.join(":")),b}function Fn(c,m,b,w){this.j=c,this.i=m,this.l=b,this.S=w||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},Vt={};function ui(c,m,b){c.M=1,c.A=mr(Tt(m)),c.u=b,c.R=!0,la(c,null)}function la(c,m){c.F=Date.now(),hi(c),c.B=Tt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),fa(b.i,"t",w),c.C=0,b=c.j.L,c.h=new Gn,c.g=Oc(c.j,b?m:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),m=c.V,b=c.g,w=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(So[0]=j.toString()),j=So);for(let H=0;H<j.length;H++){const ie=ot(b,j[H],w||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),Yh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Yn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||xe!=4||mt==7||(mt==8||Fe<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var b=$h(this);if(this.o=m==200,gc(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var H=w;break t}}H=null}if(c=H)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,vt(12),pn(this),An(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=vc(this,b),lt==Vt){xe==4&&(this.m=4,vt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==bt){this.m=4,vt(15),ci(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,lt,null),di(this,lt);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||b.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,b,"[Invalid Chunked Response]"),pn(this),An(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bo(ie),ie.P=!0,vt(11))}}else ci(this.i,this.l,b,null),di(this,b);xe==4&&pn(this),this.o&&!this.K&&(xe==4?Nc(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),pn(this),An(this)}}}catch{}};function $h(c){if(!_c(c))return c.g.la();const m=qt(c.g);if(m==="")return"";let b="";const w=m.length,j=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),An(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,b+=c.h.i.decode(m[H],{stream:!(j&&H==w-1)});return m.length=0,c.h.g+=b,c.C=0,c.h.g}function _c(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vc(c,m){var b=c.C,w=m.indexOf(`
`,b);return w==-1?Vt:(b=Number(m.substring(b,w)),isNaN(b)?bt:(w+=1,w+b>m.length?Vt:(m=m.slice(w,w+b),c.C=w+b,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),m)}function fi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ai(),vt(17)),pn(this),this.m=2,An(this)):ca(this,this.T-c)};function An(c){c.j.I==0||c.K||Nc(c.j,c)}function pn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,xo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var b=c.j;if(b.I!=0&&(b.g==c||pi(b.h,c))){if(!c.L&&pi(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)ya(b),ys(b);else break e;Er(b),vt(18)}}else b.xa=j[1],0<b.xa-b.K&&j[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=li(g(b.Va,b),6e3));mi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ei(b,11)}else if((c.L||b.g==c)&&ya(b),!I(m))for(j=b.Ba.g.parse(m),m=0;m<j.length;m++){let Fe=j[m];const lt=Fe[0];if(!(lt<=b.K))if(b.K=lt,Fe=Fe[1],b.I==2)if(Fe[0]=="c"){b.M=Fe[1],b.ba=Fe[2];const Cn=Fe[3];Cn!=null&&(b.ka=Cn,b.j.info("VER="+b.ka));const Ti=Fe[4];Ti!=null&&(b.za=Ti,b.j.info("SVER="+b.za));const Xn=Fe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(w=1.5*Xn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const $n=c.g;if($n){const Tr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var H=w.h;H.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Io(H,H.h),H.h=null))}if(w.G){const _a=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(w.wa=_a,Xe(w.J,w.G,_a))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ie=c;if(w.na=Dc(w,w.L?w.ba:null,w.W),ie.L){Do(w.h,ie);var xe=ie,mt=w.O;mt&&(xe.H=mt),xe.D&&(fi(xe),hi(xe)),w.g=ie}else Ac(w);b.i.length>0&&bi(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Ei(b,7);else b.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ei(b,7):Po(b):Fe[0]!="noop"&&b.l&&b.l.qa(Fe),b.A=0)}}ai(4)}catch{}}var Et=class{constructor(c,m){this.g=c,this.map=m}};function No(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function Do(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}No.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const b of c.g.values())m=m.concat(b.G);return m}return B(c.i)}var bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,m){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let j,H=null;w>=0?(j=c[b].substring(0,w),H=c[b].substring(w+1)):j=c[b],m(j,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,us(this,c.u),this.h=c.h,Mo(this,Sc(c.i)),this.m=c.m):c&&(m=String(c).match(bc))?(this.l=!1,zt(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),us(this,m[4]),this.h=gi(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(pr(m,ha,!0),":");var b=this.g;return(b||m=="file")&&(c.push("//"),(m=this.o)&&c.push(pr(m,ha,!0),"@"),c.push(Vi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(pr(b,b.charAt(0)=="/"?ko:Ec,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",pr(b,Tc)),c.join("")},gn.prototype.resolve=function(c){const m=Tt(this);let b=!!c.j;b?zt(m,c.j):b=!!c.o,b?m.o=c.o:b=!!c.g,b?m.g=c.g:b=c.u!=null;var w=c.h;if(b)us(m,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=m.h.lastIndexOf("/");j!=-1&&(w=m.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const H=[];for(let ie=0;ie<j.length;){const xe=j[ie++];xe=="."?w&&ie==j.length&&H.push(""):xe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&ie==j.length&&H.push("")):(H.push(xe),w=!0)}w=H.join("/")}else w=j}return b?m.h=w:b=c.i.toString()!=="",b?Mo(m,Sc(c.i)):b=!!c.m,b&&(m.m=c.m),m};function Tt(c){return new gn(c)}function zt(c,m,b){c.j=b?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function us(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Mo(c,m,b){m instanceof fs?(c.i=m,da(c.i,c.l)):(b||(m=pr(m,hs)),c.i=new fs(m,c.l))}function Xe(c,m,b){c.i.set(m,b)}function mr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pr(c,m,b){return typeof c=="string"?(c=encodeURI(c).replace(m,an),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Ec=/[#\?:]/g,ko=/[#\?]/g,hs=/[#\?@]/g,Tc=/#/g;function fs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(m,b){c.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=fs.prototype,s.add=function(c,m){on(this),this.i=null,c=ds(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(m),this.h+=1,this};function wc(c,m){on(c),m=ds(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return on(c),m=ds(c,m),c.g.has(m)}s.forEach=function(c,m){on(this),this.g.forEach(function(b,w){b.forEach(function(j){c.call(m,j,w,this)},this)},this)};function zo(c,m){on(c);let b=[];if(typeof m=="string")Vo(c,m)&&(b=b.concat(c.g.get(ds(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)b=b.concat(c[m]);return b}s.set=function(c,m){return on(this),this.i=null,c=ds(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=zo(this,c),c.length>0?String(c[0]):m):m};function fa(c,m,b){wc(c,m),b.length>0&&(c.i=null,c.g.set(ds(c,m),B(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var b=m[w];const j=Vi(b);b=zo(this,b);for(let H=0;H<b.length;H++){let ie=j;b[H]!==""&&(ie+="="+Vi(b[H])),c.push(ie)}}return this.i=c.join("&")};function Sc(c){const m=new fs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ds(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function da(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(b,w){const j=w.toLowerCase();w!=j&&(wc(this,w),fa(this,j,b))},c)),c.j=m}function Kn(c,m){const b=new Hn;if(d.Image){const w=new Image;w.onload=T(Rn,b,"TestLoadImage: loaded",!0,m,w),w.onerror=T(Rn,b,"TestLoadImage: error",!1,m,w),w.onabort=T(Rn,b,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(Rn,b,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function jo(c,m){const b=new Hn,w=new AbortController,j=setTimeout(()=>{w.abort(),Rn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(j),H.ok?Rn(b,"TestPingServer: ok",!0,m):Rn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Rn(b,"TestPingServer: error",!1,m)})}function Rn(c,m,b,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(b)}catch{}}function ms(){this.g=new hc}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}x(yi,fc),yi.prototype.g=function(){return new gr(this.i,this.h)};function gr(c,m){_t.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(gr,_t),s=gr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ps(this):Qn(this),this.readyState==3&&ma(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ps(this))},s.Na=function(c){this.g&&(this.response=c,ps(this))},s.ga=function(){this.g&&ps(this)};function ps(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return Ue(c,function(b,w){m+=w,m+=":",m+=b,m+=`\r
`}),m}function yr(c,m,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Nn(b),typeof c=="string"?b!=null&&Vi(b):Xe(c,m,b))}function Ze(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Ze,_t);var _i=/^https?$/i,Lo=["POST","PUT"];s=Ze.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){_r(this,H);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)b.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())b.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||w||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of b)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){_r(this,H)}};function _r(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Uo(c),zi(c)}function Uo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},s.Xa=function(){vr(this)};function vr(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var w;if(w=H===0){let ie=String(c.D).match(bc)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),w=!_i.test(ie?ie.toLowerCase():"")}b=w}if(b)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Yn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Uo(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,m||Ot(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Qh(m)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var b=yc(c[w]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[j]||[];m[j]=H,H.push(b)}Ye(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||m}function gs(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new No(c&&c.concurrentRequestLimit),this.Ba=new ms,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,b,w){vt(0),this.W=c,this.H=m||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Dc(this,null,this.W),bi(this)};function Po(c){if(pa(c),c.I==3){var m=c.V++,b=Tt(c.J);if(Xe(b,"SID",c.M),Xe(b,"RID",m),Xe(b,"TYPE","terminate"),br(c,b),m=new Fn(c,c.j,m),m.M=2,m.A=mr(Tt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Oc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Ic(c)}function ys(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function pa(c){ys(c),c.v&&(d.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function bi(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;ge||S(),fe||(ge(),fe=!0),R.add(m,c),c.D=0}}function ga(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,m),Cc(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Fn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=k(H),oe(H,this.U)):H=this.U),this.u!==null||this.R||(j.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=xc(this,j,m),b=Tt(this.J),Xe(b,"RID",c),Xe(b,"CVER",22),this.G&&Xe(b,"X-HTTP-Session-Id",this.G),br(this,b),H&&(this.R?m="headers="+Vi(Nn(H))+"&"+m:this.u&&yr(b,this.u,H)),Io(this.h,j),this.Ra&&Xe(b,"TYPE","init"),this.S?(Xe(b,"$req",m),Xe(b,"SID","null"),j.U=!0,ui(j,b,null)):ui(j,b,m),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||Co(this.h)||qo(this))};function qo(c,m){var b;m?b=m.l:b=c.V++;const w=Tt(c.J);Xe(w,"SID",c.M),Xe(w,"RID",b),Xe(w,"AID",c.K),br(c,w),c.u&&c.o&&yr(w,c.u,c.o),b=new Fn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),m&&(c.i=m.G.concat(c.i)),m=xc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,b),ui(b,w,m)}function br(c,m){c.H&&Ue(c.H,function(b,w){Xe(m,w,b)}),c.l&&Ue({},function(b,w){Xe(m,w,b)})}function xc(c,m,b){b=Math.min(c.i.length,b);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let xe=-1;for(;;){const mt=["count="+b];xe==-1?b>0?(xe=j[0].g,mt.push("ofs="+xe)):xe=0:mt.push("ofs="+xe);let Fe=!0;for(let lt=0;lt<b;lt++){var H=j[lt].g;const Cn=j[lt].map;if(H-=xe,H<0)xe=Math.max(0,j[lt].g-100),Fe=!1;else try{H="req"+H+"_"||"";try{var ie=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ti,Xn]of ie){let $n=Xn;p(Xn)&&($n=cs(Xn)),mt.push(H+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw mt.push(H+"type="+encodeURIComponent("_badmap")),Ti}}catch{w&&w(Cn)}}if(Fe){ie=mt.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),m.G=c,ie}function Ac(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ge||S(),fe||(ge(),fe=!0),R.add(m,c),c.A=0}}function Er(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),Cc(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ys(this),Rc(this))};function Bo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Rc(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Tt(c.na);Xe(m,"RID","rpc"),Xe(m,"SID",c.M),Xe(m,"AID",c.K),Xe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(m,"TO",c.ia),Xe(m,"TYPE","xmlhttp"),br(c,m),c.u&&c.o&&yr(m,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=mr(Tt(m)),b.u=null,b.R=!0,la(b,c)}s.Va=function(){this.C!=null&&(this.C=null,ys(this),Er(this),vt(19))};function ya(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Nc(c,m){var b=null;if(c.g==m){ya(c),Bo(c),c.g=null;var w=2}else if(pi(c.h,m))b=m.G,Do(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;w=oa(),Ot(w,new oi(w,b)),bi(c)}else Ac(c);else if(j=m.m,j==3||j==0&&m.X>0||!(w==1&&ga(c,m)||w==2&&Er(c)))switch(b&&b.length>0&&(m=c.h,m.i=m.i.concat(b)),j){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Cc(c,m){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var b=g(c.bb,c),w=c.Ua;const j=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(w,"https"),mr(w),j?Kn(w.toString(),b):jo(w.toString(),b)}else vt(2);c.I=0,c.l&&c.l.pa(m),Ic(c),pa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ic(c){if(c.I=0,c.ja=[],c.l){const m=Oo(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Dc(c,m,b){var w=b instanceof gn?Tt(b):new gn(b);if(w.g!="")m&&(w.g=m+"."+w.g),us(w,w.u);else{var j=d.location;w=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const H=new gn(null);w&&zt(H,w),m&&(H.g=m),j&&us(H,j),b&&(H.h=b),w=H}return b=c.G,m=c.wa,b&&m&&Xe(w,b,m),Xe(w,"VER",c.ka),br(c,w),w}function Oc(c,m,b){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ze(new yi({ab:b})):new Ze(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mc(){}s=Mc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _s(){}_s.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){_t.call(this),this.g=new gs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Li(this)}x(sn,_t),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Po(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=cs(c),c=b);m.i.push(new Et(m.Ya++,c)),m.I==3&&bi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,sn.Z.N.call(this)};function kc(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const b in m){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}x(kc,Pt);function Vc(){xn.call(this),this.status=1}x(Vc,xn);function Li(c){this.g=c}x(Li,Mc),Li.prototype.ra=function(){Ot(this.g,"a")},Li.prototype.qa=function(c){Ot(this.g,new kc(c))},Li.prototype.pa=function(c){Ot(this.g,new Vc)},Li.prototype.oa=function(){Ot(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Jb=function(){return new _s},$b=function(){return oa()},Xb=dt,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Xu=fr,Ao.COMPLETE="complete",Yb=Ao,dc.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Il=dc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Qb=Ze}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let go="12.9.0";function aR(s){go=s}const $r=new Bm("@firebase/firestore");function Ya(){return $r.logLevel}function le(s,...e){if($r.logLevel<=Me.DEBUG){const i=e.map(ep);$r.debug(`Firestore (${go}): ${s}`,...i)}}function rs(s,...e){if($r.logLevel<=Me.ERROR){const i=e.map(ep);$r.error(`Firestore (${go}): ${s}`,...i)}}function Jr(s,...e){if($r.logLevel<=Me.WARN){const i=e.map(ep);$r.warn(`Firestore (${go}): ${s}`,...i)}}function ep(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Zb(s,r,i)}function Zb(s,e,i){let r=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw rs(r),new Error(r)}function Ke(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||Zb(e,l,r)}function Se(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Wb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class lR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class cR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ke(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new Wb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class uR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new uR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ke(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new q_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=dR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function ke(s,e){return s<e?-1:s>e?1:0}function wm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return sm(l)===sm(u)?ke(l,u):sm(l)?1:-1}return ke(s.length,e.length)}const mR=55296,pR=57343;function sm(s){const e=s.charCodeAt(0);return e>=mR&&e<=pR}function ao(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const B_="__name__";class Ri{constructor(e,i,r){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&be(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ri.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return ke(e.length,i.length)}static compareSegments(e,i){const r=Ri.isNumericId(e),l=Ri.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ri.extractNumericId(e).compare(Ri.extractNumericId(i)):wm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class it extends Ri{construct(e,i,r){return new it(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new it(i)}static emptyPath(){return new it([])}}const gR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ri{construct(e,i,r){return new Yt(e,i,r)}static isValidIdentifier(e){return gR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new Yt([B_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return it.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}function e1(s,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function yR(s,e,i,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function H_(s){if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function F_(s){if(pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function t1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function Fr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dh(s);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ct(s,e){const i={typeString:s};return e&&(i.value=e),i}function sc(s,e){if(!t1(s))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ue(J.INVALID_ARGUMENT,i);return!0}const G_=-62135596800,K_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*K_);return new at(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<G_)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ct("string",at._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function _R(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(r===1e9?new at(i+1,0):new at(i,r));return new Ws(l,pe.empty(),e)}function vR(s){return new Ws(s.readTime,s.key,Gl)}class Ws{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ws(Te.min(),pe.empty(),Gl)}static max(){return new Ws(Te.max(),pe.empty(),Gl)}}function bR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:ke(s.largestBatchId,e.largestBatchId))}const ER="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==ER)throw s;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(y=>r(y)))})),d=!0,u===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const g=y;i(e[g]).next((T=>{d[g]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function wR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(s){return s.name==="IndexedDbTransactionError"}class Oh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;const np=-1;function Mh(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function SR(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const n1="";function xR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Q_(e)),e=AR(s.get(i),e);return Q_(e)}function AR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case n1:i+="";break;default:i+=u}}return i}function Q_(s){return s+n1+""}function Y_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ea(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function i1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new Qt(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new X_(this.data.getIterator())}getIteratorFrom(e){return new X_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class X_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new ti([])}unionWith(e){let i=new kt(Yt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ti(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class s1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new s1("Invalid base64 string: "+u):u}})(e);return new Xt(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Xt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const i=RR.exec(s);if(Ke(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const r1="server_timestamp",a1="__type__",o1="__previous_value__",l1="__local_write_time__";function ip(s){return(s?.mapValue?.fields||{})[a1]?.stringValue===r1}function kh(s){const e=s.mapValue.fields[o1];return ip(e)?kh(e):e}function Kl(s){const e=er(s.mapValue.fields[l1].timestampValue);return new at(e.seconds,e.nanos)}class NR{constructor(e,i,r,l,u,d,p,y,g,T,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=x}}const fh="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||fh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function CR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(s.options.projectId,e)}const c1="__type__",IR="__max__",Bu={mapValue:{}},u1="__vector__",dh="value";function nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ip(s)?4:OR(s)?9007199254740991:DR(s)?10:11:be(28295,{value:s})}function ki(s,e){if(s===e)return!0;const i=nr(s);if(i!==nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Kl(s).isEqual(Kl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=er(l.timestampValue),p=er(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return tr(l.bytesValue).isEqual(tr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=yt(l.doubleValue),p=yt(u.doubleValue);return d===p?hh(d)===hh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return ao(s.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Y_(d)!==Y_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ki(d[y],p[y])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find((i=>ki(i,e)))!==void 0}function oo(s,e){if(s===e)return 0;const i=nr(s),r=nr(e);if(i!==r)return ke(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=yt(u.integerValue||u.doubleValue),y=yt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return $_(s.timestampValue,e.timestampValue);case 4:return $_(Kl(s),Kl(e));case 5:return wm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=tr(u),y=tr(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const T=ke(p[g],y[g]);if(T!==0)return T}return ke(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=ke(yt(u.latitude),yt(d.latitude));return p!==0?p:ke(yt(u.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return J_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},y=d.fields||{},g=p[dh]?.arrayValue,T=y[dh]?.arrayValue,x=ke(g?.values?.length||0,T?.values?.length||0);return x!==0?x:J_(g,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Bu.mapValue&&d===Bu.mapValue)return 0;if(u===Bu.mapValue)return 1;if(d===Bu.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),g=d.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let x=0;x<y.length&&x<T.length;++x){const N=wm(y[x],T[x]);if(N!==0)return N;const B=oo(p[y[x]],g[T[x]]);if(B!==0)return B}return ke(y.length,T.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function $_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const i=er(s),r=er(e),l=ke(i.seconds,r.seconds);return l!==0?l:ke(i.nanos,r.nanos)}function J_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=oo(i[l],r[l]);if(u)return u}return ke(i.length,r.length)}function lo(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return tr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Sm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Sm(i.fields[d])}`;return l+"}"})(s.mapValue):be(61005,{value:s})}function $u(s){switch(nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(s);return e?16+$u(e):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+$u(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ea(r.fields,((u,d)=>{l+=u.length+$u(d)})),l})(s.mapValue);default:throw be(13486,{value:s})}}function Z_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xm(s){return!!s&&"integerValue"in s}function sp(s){return!!s&&"arrayValue"in s}function W_(s){return!!s&&"nullValue"in s}function ev(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ju(s){return!!s&&"mapValue"in s}function DR(s){return(s?.mapValue?.fields||{})[c1]?.stringValue===u1}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ea(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=jl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(s.arrayValue.values[i]);return e}return{...s}}function OR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===IR}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=Yt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=jl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Ju(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){ea(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Pn(jl(this.value))}}function h1(s){const e=[];return ea(s.fields,((i,r)=>{const l=new Yt([i]);if(Ju(r)){const u=h1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new ti(e)}class Wt{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Te.min(),Te.min(),Te.min(),Pn.empty(),0)}static newFoundDocument(e,i,r,l){return new Wt(e,1,i,Te.min(),r,l,0)}static newNoDocument(e,i){return new Wt(e,2,i,Te.min(),Te.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Te.min(),Te.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,i){this.position=e,this.inclusive=i}}function tv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(d.referenceValue),i.key):r=oo(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function nv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ki(s.position[i],e.position[i]))return!1;return!0}class ph{constructor(e,i="asc"){this.field=e,this.dir=i}}function MR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class f1{}class Nt extends f1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new VR(e,i,r):i==="array-contains"?new LR(e,r):i==="in"?new UR(e,r):i==="not-in"?new PR(e,r):i==="array-contains-any"?new qR(e,r):new Nt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new zR(e,r):new jR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(oo(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(oo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends f1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new si(e,i)}matches(e){return d1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d1(s){return s.op==="and"}function m1(s){return kR(s)&&d1(s)}function kR(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function Am(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+lo(s.value);if(m1(s))return s.filters.map((e=>Am(e))).join(",");{const e=s.filters.map((i=>Am(i))).join(",");return`${s.op}(${e})`}}function p1(s,e){return s instanceof Nt?(function(r,l){return l instanceof Nt&&r.op===l.op&&r.field.isEqual(l.field)&&ki(r.value,l.value)})(s,e):s instanceof si?(function(r,l){return l instanceof si&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&p1(d,l.filters[p])),!0):!1})(s,e):void be(19439)}function g1(s){return s instanceof Nt?(function(i){return`${i.field.canonicalString()} ${i.op} ${lo(i.value)}`})(s):s instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(g1).join(" ,")+"}"})(s):"Filter"}class VR extends Nt{constructor(e,i,r){super(e,i,r),this.key=pe.fromName(r.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class zR extends Nt{constructor(e,i){super(e,"in",i),this.keys=y1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class jR extends Nt{constructor(e,i){super(e,"not-in",i),this.keys=y1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function y1(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class LR extends Nt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sp(i)&&Yl(i.arrayValue,this.value)}}class UR extends Nt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class PR extends Nt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class qR extends Nt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}class BR{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function iv(s,e=null,i=[],r=[],l=null,u=null,d=null){return new BR(s,e,i,r,l,u,d)}function rp(s){const e=Se(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Am(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Mh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>lo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>lo(r))).join(",")),e.Te=i}return e.Te}function ap(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!MR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!p1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!nv(s.startAt,e.startAt)&&nv(s.endAt,e.endAt)}function Rm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class rc{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function HR(s,e,i,r,l,u,d,p){return new rc(s,e,i,r,l,u,d,p)}function op(s){return new rc(s)}function sv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function FR(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function _1(s){return s.collectionGroup!==null}function Ll(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new kt(Yt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ph(u,r))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new ph(Yt.keyField(),r))}return e.Ie}function Ii(s){const e=Se(s);return e.Ee||(e.Ee=GR(e,Ll(s))),e.Ee}function GR(s,e){if(s.limitType==="F")return iv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new ph(l.field,u)}));const i=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return iv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Nm(s,e){const i=s.filters.concat([e]);return new rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Cm(s,e,i){return new rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Vh(s,e){return ap(Ii(s),Ii(e))&&s.limitType===e.limitType}function v1(s){return`${rp(Ii(s))}|lt:${s.limitType}`}function Xa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>g1(l))).join(", ")}]`),Mh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>lo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>lo(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Ll(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const g=tv(d,p,y);return d.inclusive?g<=0:g<0})(r.startAt,Ll(r),l)||r.endAt&&!(function(d,p,y){const g=tv(d,p,y);return d.inclusive?g>=0:g>0})(r.endAt,Ll(r),l))})(s,e)}function KR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function b1(s){return(e,i)=>{let r=!1;for(const l of Ll(s)){const u=QR(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function QR(s,e,i){const r=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(u,d,p){const y=d.data.field(u),g=p.data.field(u);return y!==null&&g!==null?oo(y,g):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}class ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}const YR=new ut(pe.comparator);function as(){return YR}const E1=new ut(pe.comparator);function Dl(...s){let e=E1;for(const i of s)e=e.insert(i.key,i);return e}function T1(s){let e=E1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function qr(){return Ul()}function w1(){return Ul()}function Ul(){return new ta((s=>s.toString()),((s,e)=>s.isEqual(e)))}const XR=new ut(pe.comparator),$R=new kt(pe.comparator);function Ve(...s){let e=$R;for(const i of s)e=e.add(i);return e}const JR=new kt(ke);function ZR(){return JR}function lp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function S1(s){return{integerValue:""+s}}function WR(s,e){return SR(e)?S1(e):lp(s,e)}class jh{constructor(){this._=void 0}}function eN(s,e,i){return s instanceof gh?(function(l,u){const d={fields:{[a1]:{stringValue:r1},[l1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ip(u)&&(u=kh(u)),u&&(d.fields[o1]=u),{mapValue:d}})(i,e):s instanceof Xl?A1(s,e):s instanceof $l?R1(s,e):(function(l,u){const d=x1(l,u),p=rv(d)+rv(l.Ae);return xm(d)&&xm(l.Ae)?S1(p):lp(l.serializer,p)})(s,e)}function tN(s,e,i){return s instanceof Xl?A1(s,e):s instanceof $l?R1(s,e):i}function x1(s,e){return s instanceof yh?(function(r){return xm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class gh extends jh{}class Xl extends jh{constructor(e){super(),this.elements=e}}function A1(s,e){const i=N1(e);for(const r of s.elements)i.some((l=>ki(l,r)))||i.push(r);return{arrayValue:{values:i}}}class $l extends jh{constructor(e){super(),this.elements=e}}function R1(s,e){let i=N1(e);for(const r of s.elements)i=i.filter((l=>!ki(l,r)));return{arrayValue:{values:i}}}class yh extends jh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function rv(s){return yt(s.integerValue||s.doubleValue)}function N1(s){return sp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function nN(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Xl&&l instanceof Xl||r instanceof $l&&l instanceof $l?ao(r.elements,l.elements,ki):r instanceof yh&&l instanceof yh?ki(r.Ae,l.Ae):r instanceof gh&&l instanceof gh})(s.transform,e.transform)}class iN{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Lh{}function C1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new cp(s.key,Di.none()):new ac(s.key,s.data,Di.none());{const i=s.data,r=Pn.empty();let l=new kt(Yt.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new na(s.key,r,new ti(l.toArray()),Di.none())}}function sN(s,e,i){s instanceof ac?(function(l,u,d){const p=l.value.clone(),y=ov(l.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof na?(function(l,u,d){if(!Zu(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=ov(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(I1(l)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Pl(s,e,i,r){return s instanceof ac?(function(u,d,p,y){if(!Zu(u.precondition,d))return p;const g=u.value.clone(),T=lv(u.fieldTransforms,y,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,e,i,r):s instanceof na?(function(u,d,p,y){if(!Zu(u.precondition,d))return p;const g=lv(u.fieldTransforms,y,d),T=d.data;return T.setAll(I1(u)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(u,d,p){return Zu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function rN(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=x1(r.transform,l||null);u!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,u))}return i||null}function av(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ao(r,l,((u,d)=>nN(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ac extends Lh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class na extends Lh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function ov(s,e,i){const r=new Map;Ke(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,tN(d,p,i[l]))}return r}function lv(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,eN(u,d,e))}return r}class cp extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aN extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oN{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&sN(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Pl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Pl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=w1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const y=C1(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((i,r)=>av(i,r)))&&ao(this.baseMutations,e.baseMutations,((i,r)=>av(i,r)))}}class up{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return XR})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new up(e,i,r,l)}}class lN{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cN{constructor(e,i){this.count=e,this.unchangedNames=i}}var Rt,Le;function uN(s){switch(s){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function D1(s){if(s===void 0)return rs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Rt.OK:return J.OK;case Rt.CANCELLED:return J.CANCELLED;case Rt.UNKNOWN:return J.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return J.INTERNAL;case Rt.UNAVAILABLE:return J.UNAVAILABLE;case Rt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Rt.NOT_FOUND:return J.NOT_FOUND;case Rt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Rt.ABORTED:return J.ABORTED;case Rt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Rt.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:s})}}(Le=Rt||(Rt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function hN(){return new TextEncoder}const fN=new Js([4294967295,4294967295],0);function cv(s){const e=hN().encode(s),i=new Kb;return i.update(e),new Uint8Array(i.digest())}function uv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Js([i,r],0),new Js([l,u],0)]}class hp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Js.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Js.fromNumber(r)));return l.compare(fN)===1&&(l=new Js([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=cv(e),[r,l]=uv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new hp(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=cv(e),[r,l]=uv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Uh(Te.min(),l,new ut(ke),as(),Ve())}}class oc{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new oc(r,i,Ve(),Ve(),Ve())}}class Wu{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class O1{constructor(e,i){this.targetId=e,this.Ce=i}}class M1{constructor(e,i,r=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class hv{constructor(){this.ve=0,this.Fe=fv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),i=Ve(),r=Ve();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:be(38017,{changeType:u})}})),new oc(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=fv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dN{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.He=Hu(),this.Je=Hu(),this.Ze=new ut(ke)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Rm(u))if(r===0){const d=new pe(u.path);this.et(i,d,Wt.newNoDocument(d,Te.min()))}else Ke(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=tr(r).toUint8Array()}catch(y){if(y instanceof s1)return Jr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new hp(d,l,u)}catch(y){return Jr(y instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Rm(p.target)){const y=new pe(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Wt.newNoDocument(y,e))}u.Be&&(i.set(d,u.ke()),u.Ke())}}));let r=Ve();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Uh(e,i,this.Ze,this.je,r);return this.je=as(),this.He=Hu(),this.Je=Hu(),this.Ze=new ut(ke),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new hv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new kt(ke),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new kt(ke),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new ut(pe.comparator)}function fv(){return new ut(pe.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gN={and:"AND",or:"OR"};class yN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Im(s,e){return s.useProto3Json||Mh(e)?e:{value:e}}function _h(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function _N(s,e){return _h(s,e.toTimestamp())}function Oi(s){return Ke(!!s,49232),Te.fromTimestamp((function(i){const r=er(i);return new at(r.seconds,r.nanos)})(s))}function fp(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const i=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function V1(s){const e=it.fromString(s);return Ke(P1(e),10190,{key:e.toString()}),e}function Om(s,e){return fp(s.databaseId,e.path)}function rm(s,e){const i=V1(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(j1(i))}function z1(s,e){return fp(s.databaseId,e)}function vN(s){const e=V1(s);return e.length===4?it.emptyPath():j1(e)}function Mm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function j1(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function dv(s,e,i){return{name:Om(s,e),fields:i.value.mapValue.fields}}function bN(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(g){const T=g.code===void 0?J.UNKNOWN:D1(g.code);return new ue(T,g.message||"")})(d);i=new M1(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=rm(s,r.document.name),u=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):Te.min(),p=new Pn({mapValue:{fields:r.document.fields}}),y=Wt.newFoundDocument(l,u,d,p),g=r.targetIds||[],T=r.removedTargetIds||[];i=new Wu(g,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=rm(s,r.document),u=r.readTime?Oi(r.readTime):Te.min(),d=Wt.newNoDocument(l,u),p=r.removedTargetIds||[];i=new Wu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=rm(s,r.document),u=r.removedTargetIds||[];i=new Wu([],u,l,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new cN(l,u),p=r.targetId;i=new O1(p,d)}}return i}function EN(s,e){let i;if(e instanceof ac)i={update:dv(s,e.key,e.value)};else if(e instanceof cp)i={delete:Om(s,e.key)};else if(e instanceof na)i={update:dv(s,e.key,e.data),updateMask:IN(e.fieldMask)};else{if(!(e instanceof aN))return be(16599,{dt:e.type});i={verify:Om(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof gh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof yh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:_N(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(s,e.precondition)),i}function TN(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Te.min())&&(d=Oi(u)),new iN(d,l.transformResults||[])})(i,e)))):[]}function wN(s,e){return{documents:[z1(s,e.path)]}}function SN(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=z1(s,l);const u=(function(g){if(g.length!==0)return U1(si.create(g,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((T=>(function(N){return{field:$a(N.field),direction:RN(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:l}}function xN(s){let e=vN(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ke(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(x){const N=L1(x);return N instanceof si&&m1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((N=>(function(W){return new ph(Ja(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let N;return N=typeof x=="object"?x.value:x,Mh(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(x){const N=!!x.before,B=x.values||[];return new mh(B,N)})(i.startAt));let g=null;return i.endAt&&(g=(function(x){const N=!x.before,B=x.values||[];return new mh(B,N)})(i.endAt)),HR(e,l,d,u,p,"F",y,g)}function AN(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function L1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ja(i.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ja(i.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(i.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ja(i.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Nt.create(Ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((r=>L1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function RN(s){return mN[s]}function NN(s){return pN[s]}function CN(s){return gN[s]}function $a(s){return{fieldPath:s.canonicalString()}}function Ja(s){return Yt.fromServerFormat(s.fieldPath)}function U1(s){return s instanceof Nt?(function(i){if(i.op==="=="){if(ev(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NAN"}};if(W_(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ev(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NAN"}};if(W_(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(i.field),op:NN(i.op),value:i.value}}})(s):s instanceof si?(function(i){const r=i.getFilters().map((l=>U1(l)));return r.length===1?r[0]:{compositeFilter:{op:CN(i.op),filters:r}}})(s):be(54877,{filter:s})}function IN(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function P1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function q1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Qs{constructor(e,i,r,l,u=Te.min(),d=Te.min(),p=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DN{constructor(e){this.yt=e}}function ON(s){const e=xN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Cm(e,e.limit,"L"):e}class MN{constructor(){this.Sn=new kN}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ws.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class kN{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new kt(it.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}const mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B1=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(B1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class co{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new co(0)}static ar(){return new co(-1)}}const pv="LruGarbageCollector",VN=1048576;function gv([s,e],[i,r]){const l=ke(s,i);return l===0?ke(e,r):l}class zN{constructor(e){this.Pr=e,this.buffer=new kt(gv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();gv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jN{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(pv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?le(pv,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Ar(3e5)}))}}class LN{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Oh.ce);const r=new zN(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(mv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,u,d,p,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(r=x,p=Date.now(),this.removeTargets(e,r,i)))).next((x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),Ya()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${x} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:x}))))}}function UN(s,e){return new LN(s,e)}class PN{constructor(){this.changes=new ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class BN{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Pl(r.mutation,l,ti.empty(),at.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ve()){const l=qr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Dl();return u.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=qr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ve())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=as();const d=Ul(),p=(function(){return Ul()})();return i.forEach(((y,g)=>{const T=r.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof na)?u=u.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Pl(T.mutation,g,T.mutation.getFieldMask(),at.now())):d.set(g.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,T)=>d.set(g,T))),i.forEach(((g,T)=>p.set(g,new qN(T,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Ul();let l=new ut(((d,p)=>d-p)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const g=i.get(y);if(g===null)return;let T=r.get(y)||ti.empty();T=p.applyToLocalView(g,T),r.set(y,T);const x=(l.get(p.batchId)||Ve()).add(y);l=l.insert(p.batchId,x)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,T=y.value,x=w1();T.forEach((N=>{if(!u.has(N)){const B=C1(i.get(N),r.get(N));B!==null&&x.set(N,B),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,x))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return FR(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):Z.resolve(qr());let p=Gl,y=u;return d.next((g=>Z.forEach(g,((T,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{y=y.insert(T,N)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,Ve()))).next((T=>({batchId:p,changes:T1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((r=>{let l=Dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(e,u).next((p=>Z.forEach(p,(y=>{const g=(function(x,N){return new rc(N,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,l).next((T=>{T.forEach(((x,N)=>{d=d.insert(x,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((y,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,Wt.newInvalidDocument(T)))}));let p=Dl();return d.forEach(((y,g)=>{const T=u.get(y);T!==void 0&&Pl(T.mutation,g,ti.empty(),at.now()),zh(i,g)&&(p=p.insert(y,g))})),p}))}}class HN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:ON(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),Z.resolve()}}class FN{constructor(){this.overlays=new ut(pe.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=qr();return Z.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.bt(e,i,u)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=qr(),u=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new ut(((g,T)=>g-T));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let T=u.get(g.largestBatchId);T===null&&(T=qr(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=qr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,T)=>p.set(g,T))),!(p.size()>=l)););return Z.resolve(p)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lN(i,r));let u=this.Lr.get(i);u===void 0&&(u=Ve(),this.Lr.set(i,u)),this.Lr.set(i,u.add(r.key))}}class GN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class dp{constructor(){this.kr=new kt(Lt.Kr),this.qr=new kt(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Lt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Lt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new pe(new it([])),r=new Lt(i,e),l=new Lt(i,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new it([])),r=new Lt(i,e),l=new Lt(i,e+1);let u=Ve();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Lt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||ke(e.Hr,i.Hr)}static Ur(e,i){return ke(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class KN{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(Lt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oN(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Lt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?np:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Lt(i,0),l=new Lt(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new kt(ke);return i.forEach((l=>{const u=new Lt(l,0),d=new Lt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{r=r.add(p.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const d=new Lt(new pe(u),0);let p=new kt(ke);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Hr)),!0)}),d),Z.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ke(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(l=>{const u=new Lt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Lt(i,0),l=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class QN{constructor(e){this.ti=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let r=as();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Wt.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=as();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||bR(vR(T),r)<=0||(l.has(T.key)||zh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,i,r,l){be(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new YN(this)}getSize(e){return Z.resolve(this.size)}}class YN extends PN{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class XN{constructor(e){this.persistence=e,this.ri=new ta((i=>rp(i)),ap),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new dp,this.targetCount=0,this.oi=co._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new co(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class H1{constructor(e,i){this._i={},this.overlays={},this.ai=new Oh(0),this.ui=!1,this.ui=!0,this.ci=new GN,this.referenceDelegate=e(this),this.li=new XN(this),this.indexManager=new MN,this.remoteDocumentCache=(function(l){return new QN(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new DN(i),this.Pi=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new FN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new KN(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){le("MemoryPersistence","Starting transaction:",e);const l=new $N(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class $N extends TR{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.Ri=new dp,this.Ai=null}static Vi(e){return new mp(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const l=pe.fromPath(r);return this.mi(e,l).next((u=>{u||i.removeEntry(l,Te.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class vh{constructor(e,i){this.persistence=e,this.fi=new ta((r=>xR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=UN(this,i)}static Vi(e,i){return new vh(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,u.removeEntry(d,Te.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=$u(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=Ve(),l=Ve();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new pp(e,i.fromCache,r,l)}}class JN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return R2()?8:wR(en())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.gs(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new JN;return this.ys(e,i,d).next((p=>{if(u.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>u.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(Ya()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ya()<=Me.DEBUG&&le("QueryEngine","Query:",Xa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ya()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):Z.resolve())}gs(e,i){if(sv(i))return Z.resolve(null);let r=Ii(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Cm(i,null,"F"),r=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Ve(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.bs(i,p);return this.Ss(i,g,d,y.readTime)?this.gs(e,Cm(i,null,"F")):this.Ds(e,g,i,y)}))))})))))}ps(e,i,r,l){return sv(i)||l.isEqual(Te.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(i,u);return this.Ss(i,d,r,l)?Z.resolve(null):(Ya()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xa(i)),this.Ds(e,d,i,_R(l,Gl)).next((p=>p)))}))}bs(e,i){let r=new kt(b1(e));return i.forEach(((l,u)=>{zh(e,u)&&(r=r.add(u))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,i,r){return Ya()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.fs.getDocumentsMatchingQuery(e,i,Ws.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const gp="LocalStore",WN=3e8;class eC{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new ut(ke),this.Fs=new ta((u=>rp(u)),ap),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function tC(s,e,i,r){return new eC(s,e,i,r)}async function F1(s,e){const i=Se(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let y=Ve();for(const g of l){d.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of u){p.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function nC(s,e){const i=Se(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,T){const x=g.batch,N=x.keys();let B=Z.resolve();return N.forEach((W=>{B=B.next((()=>T.getEntry(y,W))).next((G=>{const ee=g.docVersions.get(W);Ke(ee!==null,48541),G.version.compareTo(ee)<0&&(x.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),T.addEntry(G)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,x)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Ve();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function G1(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function iC(s,e){const i=Se(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((T,x)=>{const N=l.get(x);if(!N)return;p.push(i.li.removeMatchingKeys(u,T.removedDocuments,x).next((()=>i.li.addMatchingKeys(u,T.addedDocuments,x))));let B=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?B=B.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),l=l.insert(x,B),(function(G,ee,te){return G.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=WN?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(N,B,T)&&p.push(i.li.updateTargetData(u,B))}));let y=as(),g=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(sC(u,d,e.documentUpdates).next((T=>{y=T.Bs,g=T.Ls}))),!r.isEqual(Te.min())){const T=i.li.getLastRemoteSnapshotVersion(u).next((x=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(i.vs=l,u)))}function sC(s,e,i){let r=Ve(),l=Ve();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=as();return i.forEach(((p,y)=>{const g=u.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):le(gp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function rC(s,e){const i=Se(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=np),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aC(s,e){const i=Se(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((u=>u?(l=u,Z.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new Qs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function km(s,e,i){const r=Se(s),l=r.vs.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;le(gp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function yv(s,e,i){const r=Se(s);let l=Te.min(),u=Ve();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,g,T){const x=Se(y),N=x.Fs.get(T);return N!==void 0?Z.resolve(x.vs.get(N)):x.li.getTargetData(g,T)})(r,d,Ii(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:Te.min(),i?u:Ve()))).next((p=>(oC(r,KR(e),p),{documents:p,ks:u})))))}function oC(s,e,i){let r=s.Ms.get(e)||Te.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class _v{constructor(){this.activeTargetIds=ZR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lC{constructor(){this.vo=new _v,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _v,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cC{Mo(e){}shutdown(){}}const vv="ConnectivityMonitor";class bv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(vv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fu=null;function Vm(){return Fu===null?Fu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fu++,"0x"+Fu.toString(16)}const am="RestConnection",uC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,u){const d=Vm(),p=this.Qo(e,i.toUriEncodedString());le(am,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:g}=new URL(p),T=fo(g);return this.zo(e,p,y,r,T).then((x=>(le(am,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Jr(am,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",r),x}))}jo(e,i,r,l,u,d){return this.Wo(e,i,r,l,u)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,i){const r=uC[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class fC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Rl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class no extends hC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=$b();Rl(e,Xb.STAT_EVENT,(i=>{i.stat===Tm.PROXY?le(Jt,"STAT_EVENT: detected buffering proxy"):i.stat===Tm.NOPROXY&&le(Jt,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,i,r,l,u){const d=Vm();return new Promise(((p,y)=>{const g=new Qb;g.setWithCredentials(!0),g.listenOnce(Yb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xu.NO_ERROR:const x=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Xu.TIMEOUT:le(Jt,`RPC '${e}' ${d} timed out`),y(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const N=g.getStatus();if(le(Jt,`RPC '${e}' ${d} failed with status:`,N,"response text:",g.getResponseText()),N>0){let B=g.getResponseJson();Array.isArray(B)&&(B=B[0]);const W=B?.error;if(W&&W.status&&W.message){const G=(function(te){const P=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(P)>=0?P:J.UNKNOWN})(W.status);y(new ue(G,W.message))}else y(new ue(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ue(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);le(Jt,`RPC '${e}' ${d} sending request:`,l),g.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Vm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const g=u.join("");le(Jt,`Creating RPC '${e}' stream ${l}: ${g}`,p);const T=d.createWebChannel(g,p);this.I_(T);let x=!1,N=!1;const B=new fC({Ho:W=>{N?le(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(x||(le(Jt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),x=!0),le(Jt,`RPC '${e}' stream ${l} sending:`,W),T.send(W))},Jo:()=>T.close()});return Rl(T,Il.EventType.OPEN,(()=>{N||(le(Jt,`RPC '${e}' stream ${l} transport opened.`),B.i_())})),Rl(T,Il.EventType.CLOSE,(()=>{N||(N=!0,le(Jt,`RPC '${e}' stream ${l} transport closed`),B.o_(),this.E_(T))})),Rl(T,Il.EventType.ERROR,(W=>{N||(N=!0,Jr(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),B.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Rl(T,Il.EventType.MESSAGE,(W=>{if(!N){const G=W.data[0];Ke(!!G,16349);const ee=G,te=ee?.error||ee[0]?.error;if(te){le(Jt,`RPC '${e}' stream ${l} received error:`,te);const P=te.status;let se=(function(fe){const R=Rt[fe];if(R!==void 0)return D1(R)})(P),ne=te.message;P==="NOT_FOUND"&&ne.includes("database")&&ne.includes("does not exist")&&ne.includes(this.databaseId.database)&&Jr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),se===void 0&&(se=J.INTERNAL,ne="Unknown error status: "+P+" with message "+te.message),N=!0,B.o_(new ue(se,ne)),T.close()}else le(Jt,`RPC '${e}' stream ${l} received:`,G),B.__(G)}})),no.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Jb()}}function dC(s){return new no(s)}function om(){return typeof document<"u"?document:null}function Ph(s){return new yN(s,!0)}no.c_=!1;class K1{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Ev="PersistentStream";class Q1{constructor(e,i,r,l,u,d,p,y){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mC extends Q1{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=bN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Te.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Oi(d.readTime):Te.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Mm(this.serializer),i.addTarget=(function(u,d){let p;const y=d.target;if(p=Rm(y)?{documents:wN(u,y)}:{query:SN(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=k1(u,d.resumeToken);const g=Im(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=_h(u,d.snapshotVersion.toTimestamp());const g=Im(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const r=AN(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Mm(this.serializer),i.removeTarget=e,this.K_(i)}}class pC extends Q1{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=TN(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Mm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>EN(this.serializer,r)))};this.K_(i)}}class gC{}class yC extends gC{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Dm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}jo(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Dm(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _C(s,e,i,r){return new yC(s,e,i,r)}class vC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class bC{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ia(this)&&(le(Zr,"Restarting streams for network reachability change."),await(async function(y){const g=Se(y);g.Ea.add(4),await lc(g),g.Va.set("Unknown"),g.Ea.delete(4),await qh(g)})(this))}))})),this.Va=new vC(r,l)}}async function qh(s){if(ia(s))for(const e of s.Ra)await e(!0)}async function lc(s){for(const e of s.Ra)await e(!1)}function Y1(s,e){const i=Se(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),bp(i)?vp(i):vo(i).O_()&&_p(i,e))}function yp(s,e){const i=Se(s),r=vo(i);i.Ia.delete(e),r.O_()&&X1(i,e),i.Ia.size===0&&(r.O_()?r.L_():ia(i)&&i.Va.set("Unknown"))}function _p(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}vo(s).Z_(e)}function X1(s,e){s.da.$e(e),vo(s).X_(e)}function vp(s){s.da=new dN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),vo(s).start(),s.Va.ua()}function bp(s){return ia(s)&&!vo(s).x_()&&s.Ia.size>0}function ia(s){return Se(s).Ea.size===0}function $1(s){s.da=void 0}async function EC(s){s.Va.set("Online")}async function TC(s){s.Ia.forEach(((e,i)=>{_p(s,e)}))}async function wC(s,e){$1(s),bp(s)?(s.Va.ha(e),vp(s)):s.Va.set("Unknown")}async function SC(s,e,i){if(s.Va.set("Online"),e instanceof M1&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){le(Zr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(s,r)}else if(e instanceof Wu?s.da.Xe(e):e instanceof O1?s.da.st(e):s.da.tt(e),!i.isEqual(Te.min()))try{const r=await G1(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,g)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),X1(u,y);const x=new Qs(T.target,y,g,T.sequenceNumber);_p(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){le(Zr,"Failed to raise snapshot:",r),await bh(s,r)}}async function bh(s,e,i){if(!_o(e))throw e;s.Ea.add(1),await lc(s),s.Va.set("Offline"),i||(i=()=>G1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(Zr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await qh(s)}))}function J1(s,e){return e().catch((i=>bh(s,i,e)))}async function Bh(s){const e=Se(s),i=ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:np;for(;xC(e);)try{const l=await rC(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,AC(e,l)}catch(l){await bh(e,l)}Z1(e)&&W1(e)}function xC(s){return ia(s)&&s.Ta.length<10}function AC(s,e){s.Ta.push(e);const i=ir(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function Z1(s){return ia(s)&&!ir(s).x_()&&s.Ta.length>0}function W1(s){ir(s).start()}async function RC(s){ir(s).ra()}async function NC(s){const e=ir(s);for(const i of s.Ta)e.ea(i.mutations)}async function CC(s,e,i){const r=s.Ta.shift(),l=up.from(r,e,i);await J1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Bh(s)}async function IC(s,e){e&&ir(s).Y_&&await(async function(r,l){if((function(d){return uN(d)&&d!==J.ABORTED})(l.code)){const u=r.Ta.shift();ir(r).B_(),await J1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Bh(r)}})(s,e),Z1(s)&&W1(s)}async function Tv(s,e){const i=Se(s);i.asyncQueue.verifyOperationInProgress(),le(Zr,"RemoteStore received new credentials");const r=ia(i);i.Ea.add(3),await lc(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await qh(i)}async function DC(s,e){const i=Se(s);e?(i.Ea.delete(2),await qh(i)):e||(i.Ea.add(2),await lc(i),i.Va.set("Unknown"))}function vo(s){return s.ma||(s.ma=(function(i,r,l){const u=Se(i);return u.sa(),new mC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:EC.bind(null,s),Yo:TC.bind(null,s),t_:wC.bind(null,s),J_:SC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),bp(s)?vp(s):s.Va.set("Unknown")):(await s.ma.stop(),$1(s))}))),s.ma}function ir(s){return s.fa||(s.fa=(function(i,r,l){const u=Se(i);return u.sa(),new pC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:RC.bind(null,s),t_:IC.bind(null,s),ta:NC.bind(null,s),na:CC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Bh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ep{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new Ep(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(s,e){if(rs("AsyncQueue",`${e}: ${s}`),_o(s))return new ue(J.UNAVAILABLE,`${e}: ${s}`);throw s}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pe.comparator(i.key,r.key):(i,r)=>pe.comparator(i.key,r.key),this.keyedMap=Dl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class wv{constructor(){this.ga=new ut(pe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class uo{constructor(e,i,r,l,u,d,p,y,g){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new uo(e,i,io.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class OC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class MC{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Se(i),u=l.queries;l.queries=Sv(),u.forEach(((d,p)=>{for(const y of p.ba)y.onError(r)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function Sv(){return new ta((s=>v1(s)),Vh)}async function kC(s,e){const i=Se(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new OC,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Tp(d,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.ba.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&wp(i)}async function VC(s,e){const i=Se(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function zC(s,e){const i=Se(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&wp(i)}function jC(s,e,i){const r=Se(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(i);r.queries.delete(e)}function wp(s){s.Ca.forEach((e=>{e.next()}))}var zm,xv;(xv=zm||(zm={})).Ma="default",xv.Cache="cache";class LC{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}class eE{constructor(e){this.key=e}}class tE{constructor(e){this.key=e}}class UC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=b1(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new wv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,x)=>{const N=l.get(T),B=zh(this.query,x)?x:null,W=!!N&&this.mutatedKeys.has(N.key),G=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ee=!1;N&&B?N.data.isEqual(B.data)?W!==G&&(r.track({type:3,doc:B}),ee=!0):this.su(N,B)||(r.track({type:2,doc:B}),ee=!0,(y&&this.eu(B,y)>0||g&&this.eu(B,g)<0)&&(p=!0)):!N&&B?(r.track({type:0,doc:B}),ee=!0):N&&!B&&(r.track({type:1,doc:N}),ee=!0,(y||g)&&(p=!0)),ee&&(B?(d=d.add(B),u=G?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,x)=>(function(B,W){const G=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:ee})}};return G(B)-G(W)})(T.type,x.type)||this.eu(T.doc,x.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,g=y!==this.Xa;return this.Xa=y,d.length!==0||g?{snapshot:new uo(this.query,e.tu,u,d,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new tE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new eE(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ve();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sp="SyncEngine";class PC{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class qC{constructor(e){this.key=e,this.hu=!1}}class BC{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>v1(p)),Vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(pe.comparator),this.Au=new Map,this.Vu=new dp,this.du={},this.mu=new Map,this.fu=co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HC(s,e,i=!0){const r=oE(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await nE(r,e,i,!0),l}async function FC(s,e){const i=oE(s);await nE(i,e,!0,!1)}async function nE(s,e,i,r){const l=await aC(s.localStore,Ii(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await GC(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&Y1(s.remoteStore,l),p}async function GC(s,e,i,r,l){s.pu=(x,N,B)=>(async function(G,ee,te,P){let se=ee.view.ru(te);se.Ss&&(se=await yv(G.localStore,ee.query,!1).then((({documents:R})=>ee.view.ru(R,se))));const ne=P&&P.targetChanges.get(ee.targetId),ge=P&&P.targetMismatches.get(ee.targetId)!=null,fe=ee.view.applyChanges(se,G.isPrimaryClient,ne,ge);return Rv(G,ee.targetId,fe.au),fe.snapshot})(s,x,N,B);const u=await yv(s.localStore,e,!0),d=new UC(e,u.ks),p=d.ru(u.documents),y=oc.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),g=d.applyChanges(p,s.isPrimaryClient,y);Rv(s,i,g.au);const T=new PC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),g.snapshot}async function KC(s,e,i){const r=Se(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Vh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await km(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&yp(r.remoteStore,l.targetId),jm(r,l.targetId)})).catch(yo)):(jm(r,l.targetId),await km(r.localStore,l.targetId,!0))}async function QC(s,e){const i=Se(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),yp(i.remoteStore,r.targetId))}async function YC(s,e,i){const r=tI(s);try{const l=await(function(d,p){const y=Se(d),g=at.now(),T=p.reduce(((B,W)=>B.add(W.key)),Ve());let x,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let W=as(),G=Ve();return y.xs.getEntries(B,T).next((ee=>{W=ee,W.forEach(((te,P)=>{P.isValidDocument()||(G=G.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,W))).next((ee=>{x=ee;const te=[];for(const P of p){const se=rN(P,x.get(P.key).overlayedDocument);se!=null&&te.push(new na(P.key,se,h1(se.value.mapValue),Di.exists(!0)))}return y.mutationQueue.addMutationBatch(B,g,te,p)})).next((ee=>{N=ee;const te=ee.applyToLocalDocumentSet(x,G);return y.documentOverlayCache.saveOverlays(B,ee.batchId,te)}))})).then((()=>({batchId:N.batchId,changes:T1(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let g=d.du[d.currentUser.toKey()];g||(g=new ut(ke)),g=g.insert(p,y),d.du[d.currentUser.toKey()]=g})(r,l.batchId,i),await cc(r,l.changes),await Bh(r.remoteStore)}catch(l){const u=Tp(l,"Failed to persist write");i.reject(u)}}async function iE(s,e){const i=Se(s);try{const r=await iC(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ke(d.hu,14607):l.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await cc(i,r,e)}catch(r){await yo(r)}}function Av(s,e,i){const r=Se(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Se(d);y.onlineState=p;let g=!1;y.queries.forEach(((T,x)=>{for(const N of x.ba)N.va(p)&&(g=!0)})),g&&wp(y)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XC(s,e,i){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new ut(pe.comparator);d=d.insert(u,Wt.newNoDocument(u,Te.min()));const p=Ve().add(u),y=new Uh(Te.min(),new Map,new ut(ke),d,p);await iE(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(e),xp(r)}else await km(r.localStore,e,!1).then((()=>jm(r,e,i))).catch(yo)}async function $C(s,e){const i=Se(s),r=e.batch.batchId;try{const l=await nC(i.localStore,e);rE(i,r,null),sE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await cc(i,l)}catch(l){await yo(l)}}async function JC(s,e,i){const r=Se(s);try{const l=await(function(d,p){const y=Se(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return y.mutationQueue.lookupMutationBatch(g,p).next((x=>(Ke(x!==null,37113),T=x.keys(),y.mutationQueue.removeMutationBatch(g,x)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>y.localDocuments.getDocuments(g,T)))}))})(r.localStore,e);rE(r,e,i),sE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await cc(r,l)}catch(l){await yo(l)}}function sE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function rE(s,e,i){const r=Se(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function jm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||aE(s,r)}))}function aE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(yp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),xp(s))}function Rv(s,e,i){for(const r of i)r instanceof eE?(s.Vu.addReference(r.key,e),ZC(s,r)):r instanceof tE?(le(Sp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||aE(s,r.key)):be(19791,{wu:r})}function ZC(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(le(Sp,"New document in limbo: "+i),s.Eu.add(r),xp(s))}function xp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(it.fromString(e)),r=s.fu.next();s.Au.set(r,new qC(i)),s.Ru=s.Ru.insert(i,r),Y1(s.remoteStore,new Qs(Ii(op(i.path)),r,"TargetPurposeLimboResolution",Oh.ce))}}async function cc(s,e,i){const r=Se(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((g=>{if((g||i)&&r.isPrimaryClient){const T=g?!g.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){l.push(g);const T=pp.Es(y.targetId,g);u.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,g){const T=Se(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(g,(N=>Z.forEach(N.Ts,(B=>T.persistence.referenceDelegate.addReference(x,N.targetId,B))).next((()=>Z.forEach(N.Is,(B=>T.persistence.referenceDelegate.removeReference(x,N.targetId,B)))))))))}catch(x){if(!_o(x))throw x;le(gp,"Failed to update sequence numbers: "+x)}for(const x of g){const N=x.targetId;if(!x.fromCache){const B=T.vs.get(N),W=B.snapshotVersion,G=B.withLastLimboFreeSnapshotVersion(W);T.vs=T.vs.insert(N,G)}}})(r.localStore,u))}async function WC(s,e){const i=Se(s);if(!i.currentUser.isEqual(e)){le(Sp,"User change. New user:",e.toKey());const r=await F1(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new ue(J.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cc(i,r.Ns)}}function eI(s,e){const i=Se(s),r=i.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let l=Ve();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function oE(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XC.bind(null,e),e.Pu.J_=zC.bind(null,e.eventManager),e.Pu.yu=jC.bind(null,e.eventManager),e}function tI(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JC.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return tC(this.persistence,new ZN,e.initialUser,this.serializer)}Cu(e){return new H1(mp.Vi,this.serializer)}Du(e){return new lC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class nI extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ke(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jN(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new H1((r=>vh.Vi(r,i)),this.serializer)}}class Lm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Av(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WC.bind(null,this.syncEngine),await DC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MC})()}createDatastore(e){const i=Ph(e.databaseInfo.databaseId),r=dC(e.databaseInfo);return _C(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new bC(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Av(this.syncEngine,i,0)),(function(){return bv.v()?new bv:new cC})())}createSyncEngine(e,i){return(function(l,u,d,p,y,g,T){const x=new BC(l,u,d,p,y,g);return T&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Se(i);le(Zr,"RemoteStore shutting down."),r.Ea.add(5),await lc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};class iI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const sr="FirestoreClient";class sI{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{le(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Tp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function lm(s,e){s.asyncQueue.verifyOperationInProgress(),le(sr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await F1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Nv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await rI(s);le(sr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Tv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Tv(e.remoteStore,l))),s._onlineComponents=e}async function rI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(sr,"Using user provided OfflineComponentProvider");try{await lm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Jr("Error using user provided cache. Falling back to memory cache: "+i),await lm(s,new Eh)}}else le(sr,"Using default OfflineComponentProvider"),await lm(s,new nI(void 0));return s._offlineComponents}async function lE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(sr,"Using user provided OnlineComponentProvider"),await Nv(s,s._uninitializedComponentsProvider._online)):(le(sr,"Using default OnlineComponentProvider"),await Nv(s,new Lm))),s._onlineComponents}function aI(s){return lE(s).then((e=>e.syncEngine))}async function Cv(s){const e=await lE(s),i=e.eventManager;return i.onListen=HC.bind(null,e.syncEngine),i.onUnlisten=KC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=FC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),i}function oI(s,e,i,r){const l=new iI(r),u=new LC(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>kC(await Cv(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>VC(await Cv(s),u)))}}function lI(s,e){const i=new Hr;return s.asyncQueue.enqueueAndForget((async()=>YC(await aI(s),e,i))),i.promise}function cE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const cI="ComponentProvider",Iv=new Map;function uI(s,e,i,r,l){return new NR(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,cE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const uE="firestore.googleapis.com",Dv=!0;class Ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uE,this.ssl=Dv}else this.host=e.host,this.ssl=e.ssl??Dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VN)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oR;switch(r.type){case"firstParty":return new hR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Iv.get(i);r&&(le(cI,"Removing Datastore"),Iv.delete(i),r.terminate())})(this),Promise.resolve()}}function hI(s,e,i,r={}){s=Fr(s,Hh);const l=fo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(ab(`https://${p}`),ob("Firestore",!0)),u.host!==uE&&u.host!==p&&Jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:l,emulatorOptions:r};if(!Kr(y,d)&&(s._setSettings(y),r.mockUserToken)){let g,T;if(typeof r.mockUserToken=="string")g=r.mockUserToken,T=Zt.MOCK_USER;else{g=_2(r.mockUserToken,s._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(x)}s._authCredentials=new lR(new Wb(g,T))}}class bo{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class It{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(sc(i,It._jsonSchema))return new It(e,r||null,new pe(it.fromString(i.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Ct("string",It._jsonSchemaVersion),referencePath:Ct("string")};class Zs extends bo{constructor(e,i,r){super(e,i,op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new pe(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function Lr(s,e,...i){if(s=tn(s),e1("collection","path",e),s instanceof Hh){const r=it.fromString(e,...i);return F_(r),new Zs(s,null,r)}{if(!(s instanceof It||s instanceof Zs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...i));return F_(r),new Zs(s.firestore,null,r)}}function Ut(s,e,...i){if(s=tn(s),arguments.length===1&&(e=tp.newId()),e1("doc","path",e),s instanceof Hh){const r=it.fromString(e,...i);return H_(r),new It(s,null,new pe(r))}{if(!(s instanceof It||s instanceof Zs))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...i));return H_(r),new It(s.firestore,s instanceof Zs?s.converter:null,new pe(r))}}const Mv="AsyncQueue";class kv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K1(this,"async_queue_retry"),this._c=()=>{const r=om();r&&le(Mv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=om();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=om();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;le(Mv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",Vv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Ep.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Jl extends Hh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new kv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kv(e),this._firestoreClient=void 0,await e}}}function fI(s,e){const i=typeof s=="object"?s:Gm(),r=typeof s=="string"?s:fh,l=Fm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=g2("firestore");u&&hI(l,...u)}return l}function hE(s){if(s._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dI(s),s._firestoreClient}function dI(s){const e=s._freezeSettings(),i=uI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new sI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Xt.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new qn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sc(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ct("string",qn._jsonSchemaVersion),bytes:Ct("string")};class fE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dE{constructor(e){this._methodName=e}}class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(sc(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ct("string",Mi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sc(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ni(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ct("string",ni._jsonSchemaVersion),vectorValues:Ct("object")};const mI=/^__.*__$/;class pI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,i,this.fieldTransforms):new ac(e,this.data,i,this.fieldTransforms)}}function mE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class Ap{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(mE(this.dataSource)&&mI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ph(e)}createContext(e,i,r,l=!1){return new Ap({dataSource:e,methodName:i,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pE(s){const e=s._freezeSettings(),i=Ph(s._databaseId);return new gI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yI(s,e,i,r,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,i,l);_E("Data must be an object, but it was:",d,r);const p=gE(r,d);let y,g;if(u.merge)y=new ti(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const x of u.mergeFields){const N=Fh(e,x,i);if(!d.contains(N))throw new ue(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);EI(T,N)||T.push(N)}y=new ti(T),g=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,g=d.fieldTransforms;return new pI(new Pn(p),y,g)}function _I(s,e,i,r=!1){return Rp(i,s.createContext(r?4:3,e))}function Rp(s,e){if(yE(s=tn(s)))return _E("Unsupported field value:",e,s),gE(s,e);if(s instanceof dE)return(function(r,l){if(!mE(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let y=Rp(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:_h(l.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(l.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:k1(l.serializer,r._byteString)};if(r instanceof It){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ni)return(function(d,p){const y=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[c1]:{stringValue:u1},[dh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return lp(p.serializer,T)}))}}}}}})(r,l);if(q1(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dh(r)}`)})(s,e)}function gE(s,e){const i={};return i1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(s,((r,l)=>{const u=Rp(l,e.childContextForField(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function yE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Mi||s instanceof qn||s instanceof It||s instanceof dE||s instanceof ni||q1(s))}function _E(s,e,i){if(!yE(i)||!t1(i)){const r=Dh(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Fh(s,e,i){if((e=tn(e))instanceof fE)return e._internalPath;if(typeof e=="string")return bI(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function bI(s,e,i){if(e.search(vI)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new fE(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Th(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ue(J.INVALID_ARGUMENT,p+s+y)}function EI(s,e){return s.some((i=>i.isEqual(e)))}class TI{convertValue(e,i="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ea(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[dh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new ni(i)}convertGeoPoint(e){return new Mi(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const i=er(e);return new at(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=it.fromString(e);Ke(P1(r),9688,{name:e});const l=new Ql(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return l.isEqual(i)||rs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class vE extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,i)}}const zv="@firebase/firestore",jv="4.11.0";function Lv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class bE{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Fh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wI extends bE{data(){return super.data()}}function SI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class xI extends Np{}function Uv(s,e,...i){let r=[];e instanceof Np&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((y=>y instanceof Cp)).length,p=u.filter((y=>y instanceof Gh)).length;if(d>1||d>0&&p>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Gh extends xI{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Gh(e,i,r)}_apply(e){const i=this._parse(e);return EE(e._query,i),new bo(e.firestore,e.converter,Nm(e._query,i))}_parse(e){const i=pE(e.firestore);return(function(u,d,p,y,g,T,x){let N;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Bv(x,T);const W=[];for(const G of x)W.push(qv(y,u,G));N={arrayValue:{values:W}}}else N=qv(y,u,x)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Bv(x,T),N=_I(p,d,x,T==="in"||T==="not-in");return Nt.create(g,T,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Pv(s,e,i){const r=e,l=Fh("where",s);return Gh._create(l,r,i)}class Cp extends Np{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Cp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const y of p)EE(d,y),d=Nm(d,y)})(e._query,i),new bo(e.firestore,e.converter,Nm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qv(s,e,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_1(e)&&i.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(it.fromString(i));if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Z_(s,new pe(r))}if(i instanceof It)return Z_(s,i._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(i)}.`)}function Bv(s,e){if(!Array.isArray(s)||s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EE(s,e){const i=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function AI(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends bE{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ct("string",Gr._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class eh extends Gr{data(e={}){return super.data(e)}}class so{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new eh(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:RI(p.type),doc:y,oldIndex:g,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Ct("string",so._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};function Sn(s,e,i){s=Fr(s,It);const r=Fr(s.firestore,Jl),l=AI(s.converter,e,i),u=pE(r);return TE(r,[yI(u,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Di.none())])}function wh(s){return TE(Fr(s.firestore,Jl),[new cp(s._key,Di.none())])}function Bs(s,...e){s=tn(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Lv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Lv(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof It)d=Fr(s.firestore,Jl),p=op(s._key.path),u={next:g=>{e[r]&&e[r](NI(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=Fr(s,bo);d=Fr(g.firestore,Jl),p=g._query;const T=new vE(d);u={next:x=>{e[r]&&e[r](new so(d,T,g,x))},error:e[r+1],complete:e[r+2]},SI(s._query)}const y=hE(d);return oI(y,p,l,u)}function TE(s,e){const i=hE(s);return lI(i,e)}function NI(s,e,i){const r=i.docs.get(e._key),l=new vE(s);return new Gr(s,l,e._key,r,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){aR(mo),ro(new Qr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Jl(new cR(r.getProvider("auth-internal")),new fR(d,r.getProvider("app-check-internal")),CR(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),$s(zv,jv,e),$s(zv,jv,"esm2020")})();const CI="AIzaSyBwsnLQTWqG7YArJE4hkT8Jp27QQwUz2e4",mn=s=>{if(!s)return"";if(s.startsWith("[")&&s.includes("](")){const e=s.match(/^\[(.*?)\]/);return e?e[1]:s}return s};async function wE(s,e){try{const r=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${CI}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:s}]}],systemInstruction:{parts:[{text:e}]}})})).json();return r.error&&console.error("API Error:",r.error.message),r.candidates?.[0]?.content?.parts?.[0]?.text||"No insights could be generated right now."}catch(i){return console.error(i),"Error connecting to the AI Coach."}}const Br=[{name:"Tae bo",img:"[https://images.unsplash.com/photo-1555597673-b21d5c935865?w=800&q=80](https://images.unsplash.com/photo-1555597673-b21d5c935865?w=800&q=80)"},{name:"Crossfit",img:"[https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800&q=80](https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800&q=80)"},{name:"Body combat",img:"[https://images.unsplash.com/photo-1599058917212-d750089bc07e?w=800&q=80](https://images.unsplash.com/photo-1599058917212-d750089bc07e?w=800&q=80)"},{name:"Stick mobility",img:"[https://images.unsplash.com/photo-1518611012118-696072aa579a?w=800&q=80](https://images.unsplash.com/photo-1518611012118-696072aa579a?w=800&q=80)"},{name:"Functional flow",img:"[https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=800&q=80](https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=800&q=80)"},{name:"Fitness",img:"[https://images.unsplash.com/photo-1534258936925-c58bed479fcb?w=800&q=80](https://images.unsplash.com/photo-1534258936925-c58bed479fcb?w=800&q=80)"},{name:"Stretching",img:"[https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=800&q=80](https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=800&q=80)"}],kl=[{name:"Keto",img:"[https://images.unsplash.com/photo-1473093295043-cdd812d0e601?w=800&q=80](https://images.unsplash.com/photo-1473093295043-cdd812d0e601?w=800&q=80)"},{name:"Vegan",img:"[https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80](https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80)"},{name:"Carnivore",img:"[https://images.unsplash.com/photo-1600891964092-4316c288032e?w=800&q=80](https://images.unsplash.com/photo-1600891964092-4316c288032e?w=800&q=80)"},{name:"Mediterranean",img:"[https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&q=80](https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&q=80)"},{name:"Pescatarian",img:"[https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=800&q=80](https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=800&q=80)"},{name:"Lenten Fasting",img:"[https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80](https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80)"}],Sh=["Weight Loss","Muscle Gain","Endurance & Stamina","Flexibility & Mobility","General Health"],Hv={apiKey:"AIzaSyD3er01roP71kOET0ebyQyzJxfNcvHUWE8",authDomain:"sam-fit-73b88.firebaseapp.com",projectId:"sam-fit-73b88",storageBucket:"sam-fit-73b88.firebasestorage.app",messagingSenderId:"805503830384",appId:"1:805503830384:web:d8eb1271e8f3f3425367b5"},Ln="samfit-live";let cm,Pr,Kt,Fv,SE;try{cm=g_().length?Gm():gm(Hv),Pr=U_(cm),Kt=fI(cm),Fv=g_().find(s=>s.name==="SecondaryApp")||gm(Hv,"SecondaryApp"),SE=U_(Fv)}catch(s){console.error("Firebase init error:",s)}function II(){const[s,e]=re.useState(!0),[i,r]=re.useState([]),[l,u]=re.useState([]),[d,p]=re.useState([]),[y,g]=re.useState([]),[T,x]=re.useState([]),[N,B]=re.useState(null),[W,G]=re.useState(""),[ee,te]=re.useState(null);re.useEffect(()=>{const ne=document.createElement("style");ne.innerHTML=`
      input[type=number]::-webkit-inner-spin-button, 
      input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
      input[type=number] { -moz-appearance: textfield; }
    `,document.head.appendChild(ne),window.alert=ge=>{const fe=document.createElement("div");fe.className="fixed top-4 right-4 bg-zinc-900 border border-emerald-900/50 text-emerald-400 px-6 py-4 rounded-xl shadow-2xl z-[9999] font-sans text-sm tracking-wide transition-opacity duration-500 opacity-100",fe.innerText=ge,document.body.appendChild(fe),setTimeout(()=>{document.body.contains(fe)&&(fe.classList.replace("opacity-100","opacity-0"),setTimeout(()=>{document.body.contains(fe)&&fe.remove()},500))},5e3)}},[]),re.useEffect(()=>{if(!Pr||!Kt)return;const ne=Yx(Pr,async ge=>{if(ge){const fe=Ut(Kt,"artifacts",Ln,"public","data","samfit_users",ge.uid);Bs(fe,R=>{if(R.exists()){const S=R.data();if(S.active===!1&&S.role!=="admin"){bm(Pr),G("Your access has been revoked.");return}B(S),ee||te(Date.now())}})}else B(null),te(null);e(!1)});return()=>ne()},[Pr,Kt]),re.useEffect(()=>{if(!Kt)return;const ne=Lr(Kt,"artifacts",Ln,"public","data","samfit_exercises"),ge=Lr(Kt,"artifacts",Ln,"public","data","samfit_meals"),fe=Bs(ne,C=>u(C.docs.map(V=>V.data()))),R=Bs(ge,C=>p(C.docs.map(V=>V.data())));let S=()=>{},A=()=>{},O=()=>{};if(N)if(N.role==="admin"){const C=Lr(Kt,"artifacts",Ln,"public","data","samfit_users"),V=Lr(Kt,"artifacts",Ln,"public","data","samfit_logs"),I=Lr(Kt,"artifacts",Ln,"public","data","samfit_feedbacks");S=Bs(C,Pe=>r(Pe.docs.map(Qe=>Qe.data()))),A=Bs(V,Pe=>g(Pe.docs.map(Qe=>Qe.data()))),O=Bs(I,Pe=>x(Pe.docs.map(Qe=>Qe.data())))}else{const C=Lr(Kt,"artifacts",Ln,"public","data","samfit_logs"),V=Uv(C,Pv("userId","==",N.id)),I=Lr(Kt,"artifacts",Ln,"public","data","samfit_feedbacks"),Pe=Uv(I,Pv("userId","==",N.id));A=Bs(V,Qe=>g(Qe.docs.map(K=>K.data()))),O=Bs(Pe,Qe=>x(Qe.docs.map(K=>K.data()))),Sn(Ut(Kt,"artifacts",Ln,"public","data","samfit_users",N.id),{lastLogin:Date.now()},{merge:!0}).catch(()=>{})}return()=>{fe(),R(),S(),A(),O()}},[Kt,N?.id,N?.role]);const P=async(ne,ge)=>{G("");try{await Gx(Pr,ne,ge)}catch{G("Invalid credentials or account does not exist.")}},se=async()=>{await bm(Pr),B(null)};return s?v.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center text-white",children:[v.jsx("img",{src:mn("[https://samfit.co/logo.png](https://samfit.co/logo.png)"),alt:"Sam Fit",className:"h-20 w-20 animate-pulse rounded-full border border-zinc-700 mb-6 object-cover",onError:ne=>{ne.target.style.display="none"}}),v.jsx("p",{className:"text-zinc-500 uppercase tracking-widest text-sm animate-pulse",children:"Loading Workspace..."})]}):N?N.role==="user"&&(!N.profile?.weight||N.profile?.weight===0||!N.profile?.heightCm||N.profile?.heightCm===0)?v.jsx(DI,{user:N,db:Kt,appId:Ln}):v.jsxs("div",{className:"min-h-screen bg-black text-zinc-200 font-sans selection:bg-zinc-700 pb-24 md:pb-8",children:[v.jsx("nav",{className:"border-b border-zinc-800 bg-black/80 backdrop-blur-md sticky top-0 z-50",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("img",{src:mn("[https://samfit.co/logo.png](https://samfit.co/logo.png)"),alt:"Sam Fit Logo",className:"h-10 w-10 rounded-full object-cover border border-zinc-700 bg-black",onError:ne=>{ne.target.style.display="none"}}),v.jsx("span",{className:"text-xl font-bold tracking-[0.2em] uppercase text-white",children:"Sam Fit"})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("span",{className:"text-sm text-zinc-400 hidden sm:block",children:["Logged in as ",v.jsx("strong",{className:"text-zinc-100",children:N.role==="admin"?"Admin":N.profile?.firstName||N.email})]}),v.jsx("button",{onClick:se,className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-900 rounded-full transition-colors border border-transparent hover:border-zinc-800",children:v.jsx(zw,{size:18})})]})]})})}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:N.role==="admin"?v.jsx(MI,{users:i,logs:y,exercises:l,meals:d,feedbacks:T,secondaryAuth:SE,db:Kt,appId:Ln}):v.jsx(LI,{user:N,exercises:l,meals:d,logs:y,sessionStartTime:ee,db:Kt,appId:Ln})})]}):v.jsx(OI,{onLogin:P,error:W})}function DI({user:s,db:e,appId:i}){const[r,l]=re.useState(""),[u,d]=re.useState("1"),[p,y]=re.useState(""),[g,T]=re.useState(!1),x=re.useRef(!0);re.useEffect(()=>()=>{x.current=!1},[]);const N=async B=>{if(B.preventDefault(),!r||!p)return alert("Please fill in your details to continue.");T(!0);try{await Sn(Ut(e,"artifacts",i,"public","data","samfit_users",s.id),{...s,profile:{...s.profile,weight:Number(r),heightM:Number(u),heightCm:Number(p),fitnessGoal:Sh[0]}},{merge:!0})}catch{alert("Error saving profile")}x.current&&T(!1)};return v.jsxs("div",{className:"min-h-screen bg-black flex flex-col justify-center items-center px-4 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=2000&q=80')"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),v.jsxs("div",{className:"w-full max-w-md bg-zinc-950 border border-zinc-800 rounded-3xl p-8 relative z-10 shadow-2xl",children:[v.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest mb-2 text-center",children:"Welcome to Sam Fit"}),v.jsx("p",{className:"text-zinc-400 text-sm text-center mb-8",children:"Before we begin, let's set your baseline metrics so we can track your progress."}),v.jsxs("form",{onSubmit:N,className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Height (Meters)"}),v.jsx("input",{type:"number",min:"0",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-4 text-white focus:border-zinc-500 outline-none text-center font-mono",value:u,onChange:B=>d(B.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Height (CM)"}),v.jsx("input",{type:"number",min:"0",max:"99",placeholder:"e.g. 80",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-4 text-white focus:border-zinc-500 outline-none text-center font-mono",value:p,onChange:B=>y(B.target.value),required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold tracking-widest text-zinc-500 uppercase mb-2",children:"Current Weight (KG)"}),v.jsx("input",{type:"number",step:"0.1",placeholder:"e.g. 75.5",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-4 text-white focus:border-zinc-500 outline-none text-center font-mono text-xl",value:r,onChange:B=>l(B.target.value),required:!0})]}),v.jsx("button",{type:"submit",disabled:g,className:"w-full bg-white text-black font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors mt-4",children:g?"Saving...":"Start My Journey"})]})]})]})}function OI({onLogin:s,error:e}){const[i,r]=re.useState(""),[l,u]=re.useState("");return v.jsxs("div",{className:"min-h-screen bg-black flex flex-col justify-center items-center px-4 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=2000&q=80')"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-sm"}),v.jsx("div",{className:"w-full max-w-md bg-zinc-950/90 border border-zinc-800 rounded-3xl shadow-2xl overflow-hidden relative z-10",children:v.jsxs("div",{className:"p-8 pb-10",children:[v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("img",{src:mn("[https://samfit.co/logo.png](https://samfit.co/logo.png)"),alt:"Sam Fit",className:"h-28 w-28 rounded-full border border-zinc-700 bg-black object-cover shadow-[0_0_30px_rgba(255,255,255,0.05)]",onError:d=>{d.target.style.display="none"}})}),v.jsx("h2",{className:"text-2xl font-bold text-center text-white uppercase tracking-[0.2em]",children:"Sam Fit Portal"}),v.jsx("p",{className:"text-center text-zinc-500 text-xs tracking-[0.3em] uppercase mt-2 mb-8 font-bold",children:"By Athletes, For Athletes"}),e&&v.jsx("div",{className:"bg-red-950/50 border border-red-900/50 text-red-400 text-xs font-bold tracking-widest uppercase p-4 rounded-lg mb-6 text-center",children:e}),v.jsxs("form",{onSubmit:d=>{d.preventDefault(),s(i,l)},className:"space-y-5",children:[v.jsx("input",{type:"email",className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-xl px-4 py-4 text-white focus:outline-none focus:border-zinc-500 transition-colors placeholder-zinc-600 text-sm",placeholder:"EMAIL ADDRESS",value:i,onChange:d=>r(d.target.value),required:!0}),v.jsx("input",{type:"password",className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-xl px-4 py-4 text-white focus:outline-none focus:border-zinc-500 transition-colors placeholder-zinc-600 text-sm",placeholder:"PASSWORD",value:l,onChange:d=>u(d.target.value),required:!0}),v.jsx("button",{type:"submit",className:"w-full bg-white text-black font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors shadow-lg mt-4 text-sm",children:"Enter Arena"})]})]})})]})}function MI({users:s,logs:e,exercises:i,meals:r,feedbacks:l,secondaryAuth:u,db:d,appId:p}){const[y,g]=re.useState("users"),T=s.filter(x=>x.role==="user");return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex space-x-2 border-b border-zinc-800 pb-2 overflow-x-auto no-scrollbar",children:[{id:"users",label:"Manage Clients",icon:v.jsx(ho,{size:16})},{id:"exercises",label:"Manage Exercises",icon:v.jsx(Pm,{size:16})},{id:"meals",label:"Manage Meals",icon:v.jsx(xh,{size:16})},{id:"analytics",label:"Client Analytics",icon:v.jsx(ww,{size:16})}].map(x=>v.jsxs("button",{onClick:()=>g(x.id),className:`px-4 py-2 text-sm font-medium transition-all flex items-center space-x-2 whitespace-nowrap rounded-t-lg ${y===x.id?"bg-zinc-900 text-white border-b-2 border-white":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900/50"}`,children:[x.icon," ",v.jsx("span",{children:x.label})]},x.id))}),y==="users"&&v.jsx(kI,{users:T,secondaryAuth:u,db:d,appId:p}),y==="exercises"&&v.jsx(VI,{exercises:i,db:d,appId:p}),y==="meals"&&v.jsx(zI,{meals:r,db:d,appId:p}),y==="analytics"&&v.jsx(jI,{clients:T,logs:e,feedbacks:l,db:d,appId:p})]})}function kI({users:s,secondaryAuth:e,db:i,appId:r}){const[l,u]=re.useState(""),[d,p]=re.useState(""),[y,g]=re.useState("Male"),[T,x]=re.useState(""),N=async G=>{if(G.preventDefault(),!(!l||!d||!T||!i))try{const ee=await Fx(e,l,d);await bm(e);const te=ee.user.uid;await Sn(Ut(i,"artifacts",r,"public","data","samfit_users",te),{id:te,email:l,role:"user",active:!0,adminData:{gender:y,age:Number(T)},profile:{firstName:"",lastName:"",heightM:0,heightCm:0,weight:0,photo:"",fitnessGoal:Sh[0]},lastLogin:null}),u(""),p(""),x(""),alert("Client added successfully!")}catch(ee){alert("Error adding user: "+ee.message)}},B=async G=>{if(i)try{await Sn(Ut(i,"artifacts",r,"public","data","samfit_users",G.id),{...G,active:!G.active},{merge:!0})}catch(ee){alert("Error updating access: "+ee.message)}},W=G=>{if(!G)return v.jsx("span",{className:"text-zinc-500 font-mono",children:"Never logged in"});const ee=Math.floor((Date.now()-G)/864e5);return ee<=3?v.jsxs("span",{className:"text-emerald-500 font-bold font-mono flex items-center",children:[v.jsx(Aw,{fill:"currentColor",size:8,className:"mr-1"})," Active"]}):v.jsxs("span",{className:"text-amber-500 font-mono",children:["Inactive ",ee," days"]})};return v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-6 h-fit",children:[v.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center",children:[v.jsx(Xv,{size:18,className:"mr-2 text-zinc-400"})," Create Client"]}),v.jsxs("form",{onSubmit:N,className:"space-y-4",children:[v.jsx("input",{type:"email",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:l,onChange:G=>u(G.target.value),required:!0,placeholder:"Client Email"}),v.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:d,onChange:G=>p(G.target.value),required:!0,placeholder:"Temporary Password"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-zinc-900",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Gender (Admin Only)"}),v.jsxs("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white outline-none",value:y,onChange:G=>g(G.target.value),children:[v.jsx("option",{children:"Male"}),v.jsx("option",{children:"Female"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Age (Admin Only)"}),v.jsx("input",{type:"number",min:"1",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white outline-none",value:T,onChange:G=>x(G.target.value),required:!0,placeholder:"e.g. 28"})]})]}),v.jsx("button",{type:"submit",className:"w-full bg-white text-black text-sm font-bold uppercase py-3 rounded-lg hover:bg-zinc-200 mt-2",children:"Generate Access"})]})]}),v.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[v.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:v.jsx("h3",{className:"text-lg font-bold text-white",children:"Client Directory"})}),v.jsx("div",{className:"divide-y divide-zinc-800 max-h-[600px] overflow-y-auto",children:s.map(G=>v.jsxs("div",{className:"p-6 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-zinc-900/80 gap-4",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg border overflow-hidden shrink-0 ${G.active?"bg-zinc-900 border-zinc-700 text-white":"bg-red-950/30 border-red-900/50 text-red-500"}`,children:G.profile?.photo?v.jsx("img",{src:mn(G.profile.photo),className:"w-full h-full object-cover"}):G.profile?.firstName?G.profile.firstName.charAt(0).toUpperCase():v.jsx(ho,{size:20})}),v.jsxs("div",{children:[v.jsxs("div",{className:"text-white font-medium flex items-center",children:[G.profile?.firstName," ",G.profile?.lastName,G.adminData&&v.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-zinc-800 text-[10px] font-bold text-zinc-400",children:[G.adminData.gender,"  ",G.adminData.age,"y"]})]}),v.jsxs("div",{className:"text-xs text-zinc-500 font-mono mt-1",children:["Email: ",v.jsx("span",{className:"text-zinc-300",children:G.email})]}),v.jsx("div",{className:"text-xs mt-1",children:W(G.lastLogin)})]})]}),v.jsx("button",{onClick:()=>B(G),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg flex items-center ${G.active?"bg-black text-zinc-300 border border-zinc-700":"bg-white text-black"}`,children:G.active?"Revoke Access":"Restore Access"})]},G.id))})]})]})}function VI({exercises:s,db:e,appId:i}){const[r,l]=re.useState(null),[u,d]=re.useState(""),[p,y]=re.useState(Br[0].name),[g,T]=re.useState(""),[x,N]=re.useState(""),[B,W]=re.useState("High"),[G,ee]=re.useState("15"),[te,P]=re.useState(!1),se=S=>{l(S.id),d(S.title),y(S.category),N(S.instructions||""),T(S.videoUrl||""),W(S.intensity||"High"),ee(S.duration||"15"),window.scrollTo({top:0,behavior:"smooth"})},ne=()=>{l(null),d(""),N(""),T(""),y(Br[0].name),W("High"),ee("15")},ge=async S=>{if(S.preventDefault(),!u||!e)return;const A=r||"ex_"+Date.now();let O=g;g&&!g.startsWith("EMBED:")&&!g.startsWith("DIRECT:")&&!g.startsWith("IFRAME:")&&(g.includes("youtube")||g.includes("youtu.be")||g.includes("vimeo")?O="EMBED:"+g:g.includes("<iframe")?O="IFRAME:"+g:O="DIRECT:"+g);try{await Sn(Ut(e,"artifacts",i,"public","data","samfit_exercises",A),{id:A,title:u,category:p,instructions:x,videoUrl:O,intensity:B,duration:G},{merge:!0}),ne(),alert(r?"Exercise updated successfully!":"Exercise added successfully!")}catch(C){alert("Error saving exercise: "+C.message)}},fe=async()=>{if(!e||!window.confirm("Instantly add 10 structured workouts to all 7 categories (70 Total)?"))return;P(!0);const S=["Foundations","Endurance Protocol","Strength Builder","Core Crusher","Agility Drills","Power Moves","Speed Intervals","Burnout Session","Mobility Flow","Max Intensity"];try{for(const A of Br)for(let O=0;O<10;O++){const C=`ex_auto_${A.name.replace(/\s+/g,"")}_${O}_${Date.now()}`;await Sn(Ut(e,"artifacts",i,"public","data","samfit_exercises",C),{id:C,title:`${S[O]}`,category:A.name,instructions:`1. Warm up thoroughly.
2. Focus on proper form and controlled breathing.
3. Complete specified sets and rounds.
4. Stay hydrated.`,intensity:O%2===0?"High":"Low",duration:String(15+O*5),videoUrl:""})}alert("Success! Generated 70 workouts.")}catch(A){alert("Error generating library: "+A.message)}P(!1)},R=async()=>{if(!(!e||!window.confirm("WARNING: Are you absolutely sure you want to PERMANENTLY DELETE all auto-generated workouts? Custom workouts will stay."))){P(!0);try{const A=s.filter(O=>O.id.includes("ex_auto_"));for(const O of A)await wh(Ut(e,"artifacts",i,"public","data","samfit_exercises",O.id));alert(`Successfully deleted ${A.length} auto-generated workouts.`)}catch(A){alert("Error deleting: "+A.message)}P(!1)}};return v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:`border rounded-xl p-6 transition-colors ${r?"bg-zinc-900 border-blue-500/50":"bg-zinc-950 border-zinc-800"}`,children:[v.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center",children:[r?v.jsx(ih,{size:18,className:"mr-2 text-blue-400"}):v.jsx(Xv,{size:18,className:"mr-2 text-zinc-400"}),r?"Edit Exercise":"New Exercise"]}),v.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[v.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:u,onChange:S=>d(S.target.value),required:!0,placeholder:"Exercise Name"}),v.jsx("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:p,onChange:S=>y(S.target.value),children:Br.map(S=>v.jsx("option",{value:S.name,children:S.name},S.name))}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Duration (Mins)"}),v.jsx("input",{type:"number",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:G,onChange:S=>ee(S.target.value),required:!0,placeholder:"e.g. 15"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Intensity"}),v.jsxs("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:B,onChange:S=>W(S.target.value),children:[v.jsx("option",{value:"High",children:"High"}),v.jsx("option",{value:"Low",children:"Low"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Video Link (YouTube, Vimeo, MP4)"}),v.jsx("input",{type:"url",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:g,onChange:S=>T(S.target.value),placeholder:"Paste link here..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"Instructions (3 Sentences max)"}),v.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white h-24",value:x,onChange:S=>N(S.target.value),placeholder:"Instructions..."})]}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx("button",{type:"submit",className:`flex-1 text-black text-sm font-bold uppercase py-3 rounded-lg ${r?"bg-blue-400 hover:bg-blue-300":"bg-white hover:bg-zinc-200"}`,children:r?"Save Changes":"Save Exercise"}),r&&v.jsx("button",{type:"button",onClick:ne,className:"flex-1 bg-zinc-800 text-white text-sm font-bold uppercase py-3 rounded-lg hover:bg-zinc-700",children:"Cancel"})]})]})]}),v.jsxs("div",{className:"bg-amber-950/20 border border-amber-900/50 rounded-xl p-6",children:[v.jsx("h4",{className:"text-amber-500 font-bold text-sm mb-2",children:"Library Automation"}),v.jsxs("button",{onClick:fe,disabled:te,className:"w-full bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold uppercase py-3 rounded-lg flex items-center justify-center",children:[v.jsx(Ah,{size:14,className:"mr-2"}),te?"Generating...":"Auto-Generate 70 Workouts"]}),v.jsx("button",{onClick:R,disabled:te,className:"w-full bg-red-950 hover:bg-red-900 text-red-500 border border-red-900/50 text-xs font-bold uppercase py-3 rounded-lg mt-3 transition-colors",children:te?"Processing...":"Delete Auto-Generated"})]})]}),v.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[v.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:v.jsxs("h3",{className:"text-lg font-bold text-white",children:["Library (",s.length,")"]})}),v.jsx("div",{className:"divide-y divide-zinc-800 max-h-[700px] overflow-y-auto",children:s.map(S=>v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-900/80",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center border border-zinc-800 shrink-0",children:v.jsx(Pm,{size:20,className:"text-zinc-600"})}),v.jsxs("div",{children:[v.jsx("div",{className:"text-white font-medium",children:S.title}),v.jsxs("div",{className:"text-[10px] font-bold uppercase text-zinc-500 flex items-center mt-1",children:[S.category," ",v.jsx("span",{className:"mx-2",children:""})," ",v.jsx(Kv,{size:10,className:"mr-1"})," ",S.duration,"m ",v.jsx("span",{className:"mx-2",children:""})," ",v.jsx(qm,{size:10,className:"mr-1"})," ",S.intensity]})]})]}),v.jsxs("div",{className:"flex space-x-2 shrink-0",children:[v.jsx("button",{onClick:()=>se(S),className:"p-2 text-zinc-500 hover:text-blue-400 bg-zinc-900 rounded-lg",children:v.jsx(ih,{size:16})}),v.jsx("button",{onClick:()=>{e&&window.confirm("Delete this?")&&wh(Ut(e,"artifacts",i,"public","data","samfit_exercises",S.id))},className:"p-2 text-zinc-600 hover:text-red-500 bg-zinc-900 rounded-lg",children:v.jsx(Zv,{size:16})})]})]},S.id))})]})]})}function zI({meals:s,db:e,appId:i}){const[r,l]=re.useState(null),[u,d]=re.useState(""),[p,y]=re.useState(kl[0].name),[g,T]=re.useState(""),[x,N]=re.useState(""),[B,W]=re.useState(!1),G=ne=>{l(ne.id),d(ne.title),y(ne.category),T(ne.instructions||""),N(ne.imageUrl||""),window.scrollTo({top:0,behavior:"smooth"})},ee=()=>{l(null),d(""),T(""),N(""),y(kl[0].name)},te=async ne=>{if(ne.preventDefault(),!u||!e)return;const ge=r||"meal_"+Date.now();try{await Sn(Ut(e,"artifacts",i,"public","data","samfit_meals",ge),{id:ge,title:u,category:p,instructions:g,imageUrl:x||"[https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=800&q=80](https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=800&q=80)"},{merge:!0}),ee(),alert(r?"Recipe updated!":"Meal added successfully!")}catch(fe){alert("Error saving meal: "+fe.message)}},P=async()=>{if(!e||!window.confirm("Instantly add 5 healthy recipes to all diet categories (30 Total)?"))return;W(!0);const ne={Keto:["Steak & Eggs","Avocado Bacon Bowl","Keto Chicken Parmesan","Garlic Butter Shrimp","Zucchini Noodles with Pesto"],Vegan:["Lentil Soup","Chickpea Curry","Tofu Scramble","Vegan Buddha Bowl","Quinoa Salad"],Carnivore:["Ribeye Steak","Ground Beef Patty","Pork Belly Bits","Lamb Chops","Chicken Livers"],Mediterranean:["Greek Salad","Grilled Chicken Tzatziki","Hummus & Pita","Baked Falafel","Shrimp Saganaki"],Pescatarian:["Grilled Salmon","Shrimp Tacos","Tuna Salad","Baked Cod","Seafood Paella"],"Lenten Fasting":["Fasolia (Bean Stew)","Mujadara (Lentils & Rice)","Potato Kebbeh","Batata Harra","Spinach Fatayer"]},ge={Keto:["[https://images.unsplash.com/photo-1473093295043-cdd812d0e601?w=800&q=80](https://images.unsplash.com/photo-1473093295043-cdd812d0e601?w=800&q=80)","[https://images.unsplash.com/photo-1603048297172-c92544798d5e?w=800&q=80](https://images.unsplash.com/photo-1603048297172-c92544798d5e?w=800&q=80)","[https://images.unsplash.com/photo-1544025162-811114cd3543?w=800&q=80](https://images.unsplash.com/photo-1544025162-811114cd3543?w=800&q=80)","[https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&q=80](https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&q=80)","[https://images.unsplash.com/photo-1432139555190-58524dae6a5a?w=800&q=80](https://images.unsplash.com/photo-1432139555190-58524dae6a5a?w=800&q=80)"],Vegan:["[https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80](https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80)","[https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=800&q=80](https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=800&q=80)","[https://images.unsplash.com/photo-1540420773420-3366772f4999?w=800&q=80](https://images.unsplash.com/photo-1540420773420-3366772f4999?w=800&q=80)","[https://images.unsplash.com/photo-1482049016688-2d3e1b311543?w=800&q=80](https://images.unsplash.com/photo-1482049016688-2d3e1b311543?w=800&q=80)","[https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=800&q=80](https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=800&q=80)"],Carnivore:["[https://images.unsplash.com/photo-1600891964092-4316c288032e?w=800&q=80](https://images.unsplash.com/photo-1600891964092-4316c288032e?w=800&q=80)","[https://images.unsplash.com/photo-1544025162-811114cd3543?w=800&q=80](https://images.unsplash.com/photo-1544025162-811114cd3543?w=800&q=80)","[https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&q=80](https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&q=80)","[https://images.unsplash.com/photo-1615937657715-bc7b4b7962c1?w=800&q=80](https://images.unsplash.com/photo-1615937657715-bc7b4b7962c1?w=800&q=80)","[https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=800&q=80](https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=800&q=80)"],Mediterranean:["[https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&q=80](https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&q=80)","[https://images.unsplash.com/photo-1529059997568-3d847b1154f0?w=800&q=80](https://images.unsplash.com/photo-1529059997568-3d847b1154f0?w=800&q=80)","[https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=800&q=80](https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=800&q=80)","[https://images.unsplash.com/photo-1528699633788-424224dc89b5?w=800&q=80](https://images.unsplash.com/photo-1528699633788-424224dc89b5?w=800&q=80)","[https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&q=80](https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&q=80)"],Pescatarian:["[https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=800&q=80](https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=800&q=80)","[https://images.unsplash.com/photo-1559742811-822873691df8?w=800&q=80](https://images.unsplash.com/photo-1559742811-822873691df8?w=800&q=80)","[https://images.unsplash.com/photo-1498654896293-37aacf113fd9?w=800&q=80](https://images.unsplash.com/photo-1498654896293-37aacf113fd9?w=800&q=80)","[https://images.unsplash.com/photo-1599084990807-3344d3148963?w=800&q=80](https://images.unsplash.com/photo-1599084990807-3344d3148963?w=800&q=80)","[https://images.unsplash.com/photo-1615141982883-c7da0e698b0b?w=800&q=80](https://images.unsplash.com/photo-1615141982883-c7da0e698b0b?w=800&q=80)"],"Lenten Fasting":["[https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80](https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80)","[https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?w=800&q=80](https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?w=800&q=80)","[https://images.unsplash.com/photo-1520072959219-c595dc870360?w=800&q=80](https://images.unsplash.com/photo-1520072959219-c595dc870360?w=800&q=80)","[https://images.unsplash.com/photo-1542528180-a1208c5169a5?w=800&q=80](https://images.unsplash.com/photo-1542528180-a1208c5169a5?w=800&q=80)","[https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=800&q=80](https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=800&q=80)"]},fe=`Ingredients:
- 1 main protein/base
- 2 cups fresh vegetables
- 1 tbsp healthy fats (olive oil/avocado)
- Spices to taste

Directions:
1. Prep ingredients and heat your pan.
2. Cook the base until done.
3. Serve fresh and enjoy your healthy meal!`;try{for(const R of kl)for(let S=0;S<5;S++){const A=`meal_auto_${R.name.replace(/\s+/g,"")}_${S}_${Date.now()}`,O=ge[R.name][S%ge[R.name].length];await Sn(Ut(e,"artifacts",i,"public","data","samfit_meals",A),{id:A,title:ne[R.name][S],category:R.name,instructions:fe,imageUrl:O})}alert("Success! Generated 30 healthy meals.")}catch(R){alert("Error generating meals: "+R.message)}W(!1)},se=async()=>{if(!(!e||!window.confirm("WARNING: Are you absolutely sure you want to PERMANENTLY DELETE all auto-generated meals?"))){W(!0);try{const ge=s.filter(fe=>fe.id.includes("meal_auto_"));for(const fe of ge)await wh(Ut(e,"artifacts",i,"public","data","samfit_meals",fe.id));alert(`Successfully deleted ${ge.length} auto-generated meals.`)}catch(ge){alert("Error deleting: "+ge.message)}W(!1)}};return v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:`border rounded-xl p-6 transition-colors ${r?"bg-zinc-900 border-emerald-500/50":"bg-zinc-950 border-zinc-800"}`,children:[v.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center",children:[r?v.jsx(ih,{size:18,className:"mr-2 text-emerald-400"}):v.jsx(xh,{size:18,className:"mr-2 text-zinc-400"}),r?"Edit Recipe":"Add Recipe"]}),v.jsxs("form",{onSubmit:te,className:"space-y-4",children:[v.jsx("input",{type:"text",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:u,onChange:ne=>d(ne.target.value),required:!0,placeholder:"Recipe Name"}),v.jsx("select",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:p,onChange:ne=>y(ne.target.value),children:kl.map(ne=>v.jsx("option",{value:ne.name,children:ne.name},ne.name))}),v.jsx("input",{type:"url",className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white",value:x,onChange:ne=>N(ne.target.value),placeholder:"Photo URL"}),v.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white h-48",value:g,onChange:ne=>T(ne.target.value),placeholder:"Full Recipe Directions..."}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx("button",{type:"submit",className:`flex-1 text-white text-sm font-bold uppercase py-3 rounded-lg ${r?"bg-emerald-500 hover:bg-emerald-400":"bg-emerald-600 hover:bg-emerald-500"}`,children:r?"Save Changes":"Save Recipe"}),r&&v.jsx("button",{type:"button",onClick:ee,className:"flex-1 bg-zinc-800 text-white text-sm font-bold uppercase py-3 rounded-lg hover:bg-zinc-700",children:"Cancel"})]})]})]}),v.jsxs("div",{className:"bg-emerald-950/20 border border-emerald-900/50 rounded-xl p-6",children:[v.jsx("h4",{className:"text-emerald-500 font-bold text-sm mb-2",children:"Library Automation"}),v.jsxs("button",{onClick:P,disabled:B,className:"w-full bg-emerald-700 hover:bg-emerald-600 text-white text-xs font-bold uppercase py-3 rounded-lg flex items-center justify-center",children:[v.jsx(Ah,{size:14,className:"mr-2"}),B?"Processing...":"Auto-Generate 30 Meals"]}),v.jsx("button",{onClick:se,disabled:B,className:"w-full bg-red-950 hover:bg-red-900 text-red-500 border border-red-900/50 text-xs font-bold uppercase py-3 rounded-lg mt-3 transition-colors",children:B?"Processing...":"Delete Auto-Generated"})]})]}),v.jsxs("div",{className:"lg:col-span-2 bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[v.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50",children:v.jsxs("h3",{className:"text-lg font-bold text-white",children:["Recipe Library (",s.length,")"]})}),v.jsx("div",{className:"divide-y divide-zinc-800 max-h-[700px] overflow-y-auto",children:s.map(ne=>v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-900/80",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-12 h-12 bg-black rounded-lg overflow-hidden border border-zinc-800 shrink-0",children:v.jsx("img",{src:mn(ne.imageUrl),className:"w-full h-full object-cover"})}),v.jsxs("div",{children:[v.jsx("div",{className:"text-white font-medium",children:ne.title}),v.jsx("div",{className:"text-[10px] font-bold uppercase text-emerald-500",children:ne.category})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>G(ne),className:"p-2 text-zinc-500 hover:text-emerald-400 bg-zinc-900 rounded-lg",children:v.jsx(ih,{size:16})}),v.jsx("button",{onClick:()=>{e&&window.confirm("Delete this?")&&wh(Ut(e,"artifacts",i,"public","data","samfit_meals",ne.id))},className:"p-2 text-zinc-600 hover:text-red-500 bg-zinc-900 rounded-lg",children:v.jsx(Zv,{size:16})})]})]},ne.id))})]})]})}function jI({clients:s,logs:e,feedbacks:i,db:r,appId:l}){const[u,d]=re.useState(s[0]?.id||null),[p,y]=re.useState(""),g=s.find(P=>P.id===u),T=e.filter(P=>P.userId===u).sort((P,se)=>new Date(P.date)-new Date(se.date)),x=i.filter(P=>P.userId===u).sort((P,se)=>se.timestamp-P.timestamp);re.useEffect(()=>{g&&y(g.coachNote||"")},[g]);const N=async()=>{if(!(!r||!g))try{await Sn(Ut(r,"artifacts",l,"public","data","samfit_users",g.id),{...g,coachNote:p,coachNoteTimestamp:Date.now()},{merge:!0}),alert("Note sent! It will disappear from their screen in 24 hours.")}catch{alert("Error saving note.")}},B=[...T].reverse().slice(0,7),W=B.reduce((P,se)=>P+(se.exercises?.length||0),0),G=B.reduce((P,se)=>P+Number(se.water||0),0),ee=B.reduce((P,se)=>P+Number(se.sleep||0),0),te=B.length>0?(ee/B.length).toFixed(1):0;return v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-4 overflow-y-auto max-h-[600px]",children:[v.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest mb-4 px-2",children:"Select Client"}),v.jsx("div",{className:"space-y-1",children:s.map(P=>v.jsxs("button",{onClick:()=>d(P.id),className:`w-full text-left px-4 py-3 rounded-lg flex items-center space-x-3 ${u===P.id?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-900"}`,children:[v.jsx("div",{className:"w-6 h-6 rounded-full bg-black border border-zinc-700 flex items-center justify-center overflow-hidden shrink-0",children:P.profile?.photo?v.jsx("img",{src:mn(P.profile.photo),className:"w-full h-full object-cover"}):v.jsx(ho,{size:12})}),v.jsx("span",{className:"truncate text-sm",children:P.profile?.firstName?`${P.profile.firstName} ${P.profile.lastName}`:P.email})]},P.id))})]}),v.jsx("div",{className:"lg:col-span-3 space-y-6",children:g?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 p-6 rounded-xl border-l-4 border-l-amber-500",children:[v.jsxs("h3",{className:"text-sm font-bold text-white flex items-center mb-3 uppercase tracking-widest",children:[v.jsx(Qv,{size:16,className:"mr-2 text-amber-500"})," Direct Coach Note ",v.jsx("span",{className:"text-zinc-500 text-[10px] ml-2",children:"(24h Expiry)"})]}),v.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-lg p-4 text-sm text-white focus:border-amber-500/50 outline-none mb-3 min-h-[100px]",value:p,onChange:P=>y(P.target.value),placeholder:"Write an encouraging note..."}),v.jsx("button",{onClick:N,className:"bg-amber-600 hover:bg-amber-500 text-white text-xs font-bold uppercase px-6 py-2 rounded-lg",children:"Pin to Client Home"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-5",children:[v.jsxs("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-1 flex items-center",children:[v.jsx(o_,{size:12,className:"mr-1"})," 7-Day Workouts"]}),v.jsx("div",{className:"text-3xl font-light text-white",children:W})]}),v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-5",children:[v.jsxs("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-1 flex items-center",children:[v.jsx(th,{size:12,className:"mr-1"})," 7-Day Water"]}),v.jsxs("div",{className:"text-3xl font-light text-white",children:[G," ",v.jsx("span",{className:"text-sm text-zinc-500",children:"L"})]})]}),v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-5",children:[v.jsxs("div",{className:"text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-1 flex items-center",children:[v.jsx(nh,{size:12,className:"mr-1"})," Avg Sleep"]}),v.jsxs("div",{className:"text-3xl font-light text-white",children:[te," ",v.jsx("span",{className:"text-sm text-zinc-500",children:"Hrs"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden flex flex-col max-h-[400px]",children:[v.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50 shrink-0",children:v.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Full Activity Log"})}),v.jsxs("div",{className:"p-4 space-y-3 overflow-y-auto flex-1",children:[[...T].reverse().map(P=>v.jsxs("div",{className:"bg-black p-4 rounded-xl border border-zinc-800/50",children:[v.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-zinc-900 pb-2",children:[v.jsxs("div",{className:"text-xs font-bold text-white flex items-center",children:[v.jsx(o_,{size:12,className:"mr-2 text-zinc-500"})," ",P.date]}),v.jsxs("div",{className:"text-[10px] font-bold text-zinc-500 bg-zinc-900 px-2 py-1 rounded",children:[P.hoursTrained," hrs"]})]}),v.jsxs("div",{className:"flex gap-4 mb-3 pt-1",children:[v.jsxs("div",{className:"flex items-center text-[10px] font-bold text-blue-400",children:[v.jsx(th,{size:12,className:"mr-1"})," ",P.water||0," L"]}),v.jsxs("div",{className:"flex items-center text-[10px] font-bold text-amber-400",children:[v.jsx(Yv,{size:12,className:"mr-1"})," ",P.stretch||0," Min"]}),v.jsxs("div",{className:"flex items-center text-[10px] font-bold text-purple-400",children:[v.jsx(nh,{size:12,className:"mr-1"})," ",P.sleep||0," Hrs"]})]}),P.food&&v.jsxs("div",{className:"text-[10px] text-zinc-400 bg-zinc-900/50 p-2 rounded",children:[v.jsx("strong",{className:"text-white",children:"Diet:"})," ",P.food]})]},P.id)),T.length===0&&v.jsx("div",{className:"text-center text-zinc-500 text-sm py-8",children:"No activity recorded yet."})]})]}),v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden flex flex-col max-h-[400px]",children:[v.jsx("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900/50 shrink-0",children:v.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Exercise Feedback"})}),v.jsxs("div",{className:"p-4 space-y-3 overflow-y-auto flex-1",children:[x.map(P=>v.jsxs("div",{className:"bg-black p-4 rounded-xl border border-zinc-800/50 flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-bold text-white mb-1",children:P.exerciseTitle}),v.jsx("div",{className:"text-[10px] text-zinc-500 font-mono",children:new Date(P.timestamp).toLocaleDateString()})]}),v.jsxs("div",{className:`px-3 py-1 rounded flex items-center text-[10px] font-bold uppercase tracking-widest ${P.rating==="Enjoyed"?"bg-emerald-950/50 text-emerald-500":"bg-red-950/50 text-red-500"}`,children:[P.rating==="Enjoyed"?v.jsx(Jv,{size:12,className:"mr-1"}):v.jsx($v,{size:12,className:"mr-1"})," ",P.rating]})]},P.id)),x.length===0&&v.jsx("div",{className:"text-center text-zinc-500 text-sm py-8",children:"No feedback submitted yet."})]})]})]})]}):v.jsx("div",{className:"text-zinc-500 p-12 text-center",children:"Select a client"})})]})}function LI({user:s,exercises:e,meals:i,logs:r,sessionStartTime:l,db:u,appId:d}){const[p,y]=re.useState("home"),[g,T]=re.useState(null),x=N=>{T(N),y("workouts")};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"pb-8 animate-in fade-in duration-500",children:[p==="home"&&v.jsx(UI,{user:s,logs:r,goToWorkout:x,setActiveTab:y,sessionStartTime:l}),p==="workouts"&&v.jsx(qI,{exercises:e,user:s,preSelectedCategory:g,clearSelection:()=>T(null),db:u,appId:d}),p==="meals"&&v.jsx(PI,{meals:i}),p==="journal"&&v.jsx(HI,{user:s,logs:r,db:u,appId:d}),p==="profile"&&v.jsx(FI,{user:s,logs:r,db:u,appId:d})]}),v.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-zinc-950/95 backdrop-blur-lg border-t border-zinc-800 pb-safe z-50",children:v.jsx("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto px-2",children:[{id:"home",label:"Home",icon:v.jsx(kw,{size:20})},{id:"workouts",label:"Classes",icon:v.jsx(Pm,{size:20})},{id:"meals",label:"Meals",icon:v.jsx(Wv,{size:20})},{id:"journal",label:"Journal",icon:v.jsx(Nw,{size:20})},{id:"profile",label:"Profile",icon:v.jsx(ho,{size:20})}].map(N=>v.jsxs("button",{onClick:()=>{y(N.id),N.id!=="workouts"&&T(null)},className:`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${p===N.id?"text-white":"text-zinc-500 hover:text-zinc-400"}`,children:[N.icon,v.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold tracking-widest uppercase",children:N.label})]},N.id))})})]})}function UI({user:s,logs:e,goToWorkout:i,setActiveTab:r,sessionStartTime:l}){const[u,d]=re.useState(0),[p,y]=re.useState(!0),g=e.filter(te=>te.userId===s.id),T=s.coachNote&&s.coachNoteTimestamp&&Date.now()-s.coachNoteTimestamp<864e5;re.useEffect(()=>{if(!l)return;const te=Date.now()-l;d(te);let P=null;return p?P=setInterval(()=>{d(Date.now()-l)},1e3):clearInterval(P),()=>clearInterval(P)},[p,l]);const x=te=>{const P=Math.floor(te/1e3),se=Math.floor(P/3600).toString().padStart(2,"0"),ne=Math.floor(P%3600/60).toString().padStart(2,"0"),ge=(P%60).toString().padStart(2,"0");return`${se}:${ne}:${ge}`},N=new Date,B=(N.getFullYear()+N.getMonth()+N.getDate())%Br.length,W=Br[B],G=[{title:"Build Muscle",img:"[https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?w=800&q=80](https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?w=800&q=80)",cat:"Fitness"},{title:"Full Body Power",img:"[https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=800&q=80](https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=800&q=80)",cat:"Crossfit"},{title:"Core Crusher",img:"[https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&q=80](https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&q=80)",cat:"Functional flow"},{title:"Combat Endurance",img:"[https://images.unsplash.com/photo-1599058917212-d750089bc07e?w=800&q=80](https://images.unsplash.com/photo-1599058917212-d750089bc07e?w=800&q=80)",cat:"Tae bo"}],ee=G[(B+1)%G.length];return v.jsxs("div",{className:"space-y-6 max-w-md mx-auto w-full pt-2",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2 px-2",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hi, ",s.profile?.firstName||s.email?.split("@")[0]]}),v.jsx("p",{className:"text-zinc-500 text-[10px] font-bold uppercase tracking-widest",children:"Let's crush it today."})]}),v.jsx("div",{className:"w-12 h-12 bg-zinc-900 rounded-full border border-zinc-700 overflow-hidden flex items-center justify-center",children:s.profile?.photo?v.jsx("img",{src:mn(s.profile.photo),className:"w-full h-full object-cover"}):v.jsx(ho,{size:20,className:"text-zinc-500"})})]}),v.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:`w-3 h-3 rounded-full ${p?"bg-red-500 animate-pulse":"bg-zinc-600"}`}),v.jsx("div",{className:"text-2xl font-mono text-white tracking-wider",children:x(u)})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>y(!p),className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:bg-zinc-200",children:p?v.jsx(Bw,{size:18}):v.jsx(Kw,{size:18,className:"ml-1"})}),v.jsx("button",{onClick:()=>{y(!1),d(0)},className:"w-10 h-10 rounded-full bg-zinc-800 text-white flex items-center justify-center hover:bg-zinc-700",children:v.jsx(Xw,{size:16})})]})]}),T&&v.jsxs("div",{className:"bg-amber-950/20 border border-amber-900/50 rounded-2xl p-5 relative animate-in fade-in",children:[v.jsxs("div",{className:"flex items-center text-amber-500 mb-2",children:[v.jsx(Qv,{size:16,className:"mr-2"}),v.jsx("span",{className:"text-[10px] font-bold tracking-widest uppercase",children:"Coach Note"})]}),v.jsx("p",{className:"text-amber-100/90 text-sm leading-relaxed whitespace-pre-wrap",children:s.coachNote})]}),v.jsxs("div",{onClick:()=>i(W.name),className:"relative h-32 rounded-2xl overflow-hidden cursor-pointer shadow-lg border border-zinc-800 group",children:[v.jsx("div",{className:"absolute inset-0 bg-black/50 group-hover:bg-black/30 transition-colors z-10"}),v.jsx("img",{src:mn(W.img),className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),v.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-center p-6",children:[v.jsx("span",{className:"bg-white text-black text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-widest w-fit mb-2",children:"Daily Focus"}),v.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest drop-shadow-lg",children:W.name})]})]}),v.jsxs("div",{className:"relative h-40 rounded-2xl overflow-hidden shadow-lg border border-red-900/50 group bg-red-950 flex flex-col justify-end p-5",children:[v.jsx("img",{src:mn(ee.img),className:"absolute inset-0 w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-500 mix-blend-overlay"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 to-transparent z-10"}),v.jsxs("div",{className:"relative z-20",children:[v.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest mb-3",children:ee.title}),v.jsx("button",{onClick:()=>i(ee.cat),className:"w-full bg-red-600 hover:bg-red-500 text-white text-xs font-bold uppercase py-3 rounded-xl transition-colors",children:"Start Routine"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-black border border-zinc-800 rounded-2xl p-5 flex flex-col justify-between",children:[v.jsx(yw,{size:24,className:"text-zinc-600 mb-4"}),v.jsxs("div",{children:[v.jsxs("div",{className:"text-3xl font-light text-white",children:[g.reduce((te,P)=>te+(Number(P.hoursTrained)||0),0)," ",v.jsx("span",{className:"text-sm text-zinc-500",children:"hrs"})]}),v.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"Time Trained"})]})]}),v.jsxs("div",{onClick:()=>r("meals"),className:"bg-gradient-to-br from-emerald-950/40 to-black border border-emerald-900/30 rounded-2xl p-5 flex flex-col justify-between cursor-pointer group",children:[v.jsx(xh,{size:24,className:"text-emerald-500 mb-4 group-hover:scale-110 transition-transform"}),v.jsxs("div",{children:[v.jsx("div",{className:"text-lg font-bold text-white mb-1",children:"Nutrition"}),v.jsx("div",{className:"text-[10px] font-bold text-emerald-500/80 uppercase tracking-widest",children:"Healthy Meals"})]})]})]})]})}function PI({meals:s}){const[e,i]=re.useState(null),[r,l]=re.useState(null),u=s.filter(d=>d.category===e);return r?v.jsxs("div",{className:"fixed inset-0 z-[100] bg-black overflow-y-auto animate-in fade-in slide-in-from-bottom-8",children:[v.jsxs("div",{className:"relative h-64 sm:h-80 w-full bg-zinc-900",children:[v.jsx("button",{onClick:()=>l(null),className:"absolute top-6 left-4 z-10 bg-black/50 backdrop-blur-md p-3 rounded-full text-white hover:bg-black/80",children:v.jsx(um,{size:20})}),v.jsx("img",{src:mn(r.imageUrl),className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"}),v.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[v.jsxs("span",{className:"text-emerald-500 text-[10px] font-bold uppercase tracking-widest mb-2 block",children:[r.category," Recipe"]}),v.jsx("h2",{className:"text-3xl font-bold text-white leading-tight",children:r.title})]})]}),v.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-24",children:[v.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-4 flex items-center",children:[v.jsx(xh,{size:16,className:"mr-2 text-emerald-500"})," Instructions"]}),v.jsx("div",{className:"text-zinc-300 whitespace-pre-wrap leading-relaxed bg-zinc-950 border border-zinc-800 p-6 rounded-2xl text-sm",children:r.instructions})]})]}):e?v.jsxs("div",{className:"space-y-6 animate-in fade-in max-w-5xl mx-auto pt-2",children:[v.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-sm font-bold uppercase tracking-widest text-zinc-400 hover:text-white group",children:[v.jsx(um,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back"]}),v.jsx("div",{className:"border-b border-zinc-800 pb-4",children:v.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:e})}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 pt-2",children:u.length>0?u.map(d=>v.jsxs("div",{onClick:()=>l(d),className:"bg-zinc-950 border border-zinc-800 rounded-2xl overflow-hidden flex flex-col shadow-xl cursor-pointer hover:border-emerald-500/50 transition-colors group",children:[v.jsx("div",{className:"h-32 w-full bg-zinc-900 relative",children:v.jsx("img",{src:mn(d.imageUrl),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),v.jsx("div",{className:"p-4",children:v.jsx("h4",{className:"text-sm font-bold text-white leading-tight",children:d.title})})]},d.id)):v.jsx("div",{className:"col-span-full py-20 text-center text-zinc-500 bg-zinc-950/50 rounded-3xl border border-dashed border-zinc-800",children:"No recipes found for this diet yet."})})]}):v.jsxs("div",{className:"space-y-6 max-w-md mx-auto w-full pt-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white mb-6 tracking-wide text-center uppercase",children:"Meal Prep Plans"}),v.jsx("div",{className:"grid grid-cols-1 gap-4",children:kl.map(d=>v.jsxs("div",{onClick:()=>i(d.name),className:"relative h-32 rounded-3xl overflow-hidden cursor-pointer shadow-lg border border-zinc-800 group",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 group-hover:bg-black/40 transition-colors z-10"}),v.jsx("img",{src:mn(d.img),className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),v.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-center p-6 text-left",children:[v.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest drop-shadow-lg",children:d.name}),v.jsxs("div",{className:"text-[10px] font-bold tracking-widest uppercase text-emerald-400 mt-2 flex items-center",children:[v.jsx(Wv,{size:12,className:"mr-2"})," View Recipes"]})]})]},d.name))})]})}function qI({exercises:s,user:e,preSelectedCategory:i,clearSelection:r,db:l,appId:u}){const[d,p]=re.useState(i||null),y=s.filter(g=>g.category===d);return re.useEffect(()=>{i&&p(i)},[i]),d?v.jsxs("div",{className:"space-y-6 animate-in fade-in max-w-5xl mx-auto pt-2",children:[v.jsxs("button",{onClick:()=>{p(null),r()},className:"flex items-center text-sm font-bold uppercase tracking-widest text-zinc-400 hover:text-white group",children:[v.jsx(um,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back"]}),v.jsx("div",{className:"border-b border-zinc-800 pb-4",children:v.jsx("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:d})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-2",children:y.map(g=>v.jsx(BI,{exercise:g,user:e,db:l,appId:u},g.id))})]}):v.jsxs("div",{className:"space-y-6 max-w-md mx-auto w-full pt-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white mb-6 tracking-wide text-center uppercase",children:"Choose Workout"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Br.map(g=>v.jsxs("div",{onClick:()=>p(g.name),className:"group relative h-40 rounded-3xl overflow-hidden cursor-pointer shadow-lg border border-zinc-800",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 group-hover:bg-black/40 transition-colors z-10"}),v.jsx("img",{src:mn(g.img),alt:g.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),v.jsx("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center p-6 text-center",children:v.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest drop-shadow-lg",children:g.name})})]},g.name))})]})}function BI({exercise:s,user:e,db:i,appId:r}){const[l,u]=re.useState(1),[d,p]=re.useState(5),[y,g]=re.useState(""),[T,x]=re.useState(!1),[N,B]=re.useState(!1),W=async()=>{if(y){g("");return}x(!0);const te=`Give me 3 quick, bulleted pro-tips on proper form and 1 common mistake to avoid for: "${s.title}". Keep it extremely brief.`,P=await wE(te,"You are an elite personal trainer focusing on safe form.");g(P),x(!1)},G=async te=>{if(!(!i||N))try{const P=`fb_${e.id}_${Date.now()}`;await Sn(Ut(i,"artifacts",r,"public","data","samfit_feedbacks",P),{id:P,userId:e.id,userName:e.email||e.username,exerciseId:s.id,exerciseTitle:s.title,rating:te,timestamp:Date.now()}),B(!0),alert(`Feedback recorded: ${te}`)}catch(P){console.error("Feedback error",P)}},ee=()=>{if(!s.videoUrl)return v.jsxs("div",{className:"flex flex-col items-center justify-center text-zinc-700 h-full w-full absolute inset-0",children:[v.jsx(o2,{size:40,className:"mb-3 opacity-30"}),v.jsx("span",{className:"text-xs uppercase tracking-widest font-bold",children:"No Video"})]});let te=s.videoUrl.replace("EMBED:","").replace("DIRECT:","");if(te.includes("youtube")||te.includes("youtu.be")){const P=te.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return P&&P[2].length===11&&(te=`https://www.youtube.com/embed/${P[2]}`),v.jsx("iframe",{src:te,className:"w-full h-full absolute inset-0 border-0",allowFullScreen:!0})}return v.jsx("video",{src:te,controls:!0,className:"w-full h-full absolute inset-0 object-cover"})};return v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl overflow-hidden flex flex-col",children:[v.jsx("div",{className:"aspect-video bg-black relative flex items-center justify-center border-b border-zinc-800 group overflow-hidden",children:ee()}),v.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[v.jsx("h4",{className:"text-lg font-bold text-white leading-tight",children:s.title}),v.jsxs("div",{className:"flex items-center mt-2 mb-4 space-x-3 text-[10px] font-bold uppercase tracking-widest text-zinc-500",children:[v.jsxs("span",{className:"flex items-center text-amber-500",children:[v.jsx(qm,{size:12,className:"mr-1"})," ",s.intensity||"High"," Intensity"]}),v.jsx("span",{className:"text-zinc-700",children:""}),v.jsxs("span",{className:"flex items-center",children:[v.jsx(Kv,{size:12,className:"mr-1"})," ",s.duration||15," Mins"]})]}),s.instructions&&v.jsx("div",{className:"mb-4 p-4 bg-zinc-900/50 rounded-xl text-xs text-zinc-400 whitespace-pre-wrap leading-relaxed",children:s.instructions}),v.jsxs("div",{className:"flex space-x-2 mb-6",children:[v.jsxs("button",{onClick:()=>G("Enjoyed"),disabled:N,className:"flex-1 bg-zinc-900 hover:bg-zinc-800 text-zinc-400 text-[10px] font-bold uppercase py-2 rounded-lg flex items-center justify-center transition-colors disabled:opacity-50",children:[v.jsx(Jv,{size:12,className:"mr-1"})," Enjoyed"]}),v.jsxs("button",{onClick:()=>G("Not Much"),disabled:N,className:"flex-1 bg-zinc-900 hover:bg-zinc-800 text-zinc-400 text-[10px] font-bold uppercase py-2 rounded-lg flex items-center justify-center transition-colors disabled:opacity-50",children:[v.jsx($v,{size:12,className:"mr-1"})," Not Much"]})]}),y&&v.jsxs("div",{className:"mb-4 p-4 bg-amber-950/20 border border-amber-900/30 rounded-xl text-xs text-zinc-300 whitespace-pre-wrap animate-in fade-in",children:[v.jsx("strong",{className:"text-amber-500 block mb-2 font-bold uppercase tracking-widest",children:"Coach's Form Tips"}),y]}),v.jsxs("button",{onClick:W,disabled:T,className:"text-[10px] font-bold tracking-widest uppercase text-amber-500 hover:text-amber-400 flex items-center mb-6 disabled:opacity-50 transition-colors",children:[v.jsx(Ah,{size:12,className:"mr-1"})," ",T?"Consulting...":y?"Hide Tips":" AI Coach Tips"]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-2",children:"Sets"}),v.jsxs("select",{value:l,onChange:te=>u(te.target.value),className:"w-full bg-black border border-zinc-800 text-white rounded-xl p-3 text-sm outline-none",children:[v.jsx("option",{value:1,children:"1 Set"}),v.jsx("option",{value:2,children:"2 Sets"}),v.jsx("option",{value:3,children:"3 Sets"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-2",children:"Reps"}),v.jsxs("select",{value:d,onChange:te=>p(te.target.value),className:"w-full bg-black border border-zinc-800 text-white rounded-xl p-3 text-sm outline-none",children:[v.jsx("option",{value:5,children:"5 Reps"}),v.jsx("option",{value:10,children:"10 Reps"}),v.jsx("option",{value:15,children:"15 Reps"})]})]})]}),v.jsx("button",{onClick:()=>alert("Great job! Keep the momentum going."),className:"w-full bg-white text-black text-sm font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors",children:"Mark as Done"})]})]})]})}function HI({user:s,logs:e,db:i,appId:r}){const l=new Date().toISOString().split("T")[0],[u,d]=re.useState(l),p=e.find(C=>C.userId===s.id&&C.date===u),[y,g]=re.useState(""),[T,x]=re.useState(""),[N,B]=re.useState(""),[W,G]=re.useState(""),[ee,te]=re.useState(""),[P,se]=re.useState(!1),[ne,ge]=re.useState(""),[fe,R]=re.useState(!1),S=re.useRef(!0);re.useEffect(()=>()=>{S.current=!1},[]),re.useEffect(()=>{g(p?.food||""),x(p?.hoursTrained||""),B(p?.water||""),G(p?.stretch||""),te(p?.sleep||""),ge("")},[u,p]);const A=async()=>{if(!y)return alert("Please add some nutrition notes first!");R(!0);const C=`Analyze this daily food log: "${y}". Give a brief 3-bullet summary: 1. Quality, 2. Praise, 3. Suggestion.`,V=await wE(C,"You are a professional nutritionist. Keep responses concise.");ge(V),S.current&&R(!1)},O=async()=>{if(i){se(!0);try{await Sn(Ut(i,"artifacts",r,"public","data","samfit_logs",`log_${s.id}_${u}`),{id:`log_${s.id}_${u}`,userId:s.id,date:u,food:y,hoursTrained:Number(T)||0,water:Number(N)||0,stretch:Number(W)||0,sleep:Number(ee)||0,weightLog:s.profile?.weight||0}),alert("Journal entry safely stored in the cloud.")}catch(C){alert("Error saving: "+C.message)}S.current&&se(!1)}};return v.jsx("div",{className:"max-w-md mx-auto w-full pt-4 space-y-6",children:v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-zinc-800 pb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-white tracking-wide",children:"Daily Log"}),v.jsx("input",{type:"date",value:u,onChange:C=>d(C.target.value),className:"bg-black border border-zinc-800 text-xs font-mono text-zinc-300 rounded-lg px-3 py-2 outline-none"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-3",children:"Daily Habits"}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("div",{className:"flex flex-col items-center justify-center p-3 rounded-2xl border bg-black border-zinc-800 group focus-within:border-blue-500/50 transition-colors",children:[v.jsx("span",{className:"text-[9px] font-bold text-blue-500 uppercase tracking-widest mb-2",children:"Water"}),v.jsx(th,{size:20,className:"mb-2 text-blue-500"}),v.jsxs("div",{className:"flex items-center text-white font-mono border-b border-zinc-700 focus-within:border-blue-500 pb-1",children:[v.jsx("input",{type:"number",min:"0",step:"0.1",value:N,onChange:C=>B(C.target.value),placeholder:"0",className:"w-8 bg-transparent text-center outline-none text-sm"}),v.jsx("span",{className:"text-[10px] text-zinc-500 font-bold ml-1",children:"L"})]})]}),v.jsxs("div",{className:"flex flex-col items-center justify-center p-3 rounded-2xl border bg-black border-zinc-800 group focus-within:border-amber-500/50 transition-colors",children:[v.jsx("span",{className:"text-[9px] font-bold text-amber-500 uppercase tracking-widest mb-2",children:"Stretch"}),v.jsx(Yv,{size:20,className:"mb-2 text-amber-500"}),v.jsxs("div",{className:"flex items-center text-white font-mono border-b border-zinc-700 focus-within:border-amber-500 pb-1",children:[v.jsx("input",{type:"number",min:"0",value:W,onChange:C=>G(C.target.value),placeholder:"0",className:"w-8 bg-transparent text-center outline-none text-sm"}),v.jsx("span",{className:"text-[10px] text-zinc-500 font-bold ml-1",children:"MIN"})]})]}),v.jsxs("div",{className:"flex flex-col items-center justify-center p-3 rounded-2xl border bg-black border-zinc-800 group focus-within:border-purple-500/50 transition-colors",children:[v.jsx("span",{className:"text-[9px] font-bold text-purple-500 uppercase tracking-widest mb-2",children:"Sleep"}),v.jsx(nh,{size:20,className:"mb-2 text-purple-500"}),v.jsxs("div",{className:"flex items-center text-white font-mono border-b border-zinc-700 focus-within:border-purple-500 pb-1",children:[v.jsx("input",{type:"number",min:"0",step:"0.5",value:ee,onChange:C=>te(C.target.value),placeholder:"0",className:"w-8 bg-transparent text-center outline-none text-sm"}),v.jsx("span",{className:"text-[10px] text-zinc-500 font-bold ml-1",children:"HRS"})]})]})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase",children:"Nutrition Notes"}),v.jsxs("button",{onClick:A,disabled:fe||!y,className:"text-[10px] font-bold tracking-widest uppercase text-emerald-500 hover:text-emerald-400 flex items-center disabled:opacity-50 transition-colors",children:[v.jsx(Ah,{size:12,className:"mr-1"})," ",fe?"Analyzing...":"AI Analyze"]})]}),v.jsx("textarea",{className:"w-full bg-black border border-zinc-800 rounded-2xl p-4 text-sm text-white min-h-[100px] outline-none",placeholder:"Meals, snacks, macros...",value:y,onChange:C=>g(C.target.value)}),ne&&v.jsxs("div",{className:"mt-3 p-4 bg-emerald-950/20 border border-emerald-900/30 rounded-xl text-xs text-zinc-300 whitespace-pre-wrap animate-in fade-in",children:[v.jsx("strong",{className:"text-emerald-500 block mb-2 font-bold uppercase tracking-widest",children:"AI Nutritionist"}),ne]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold tracking-widest text-zinc-500 uppercase mb-3",children:"Training Hours"}),v.jsxs("div",{className:"flex items-center text-white font-mono border border-zinc-800 rounded-2xl p-4 bg-black focus-within:border-zinc-500 transition-colors",children:[v.jsx("input",{type:"number",step:"0.5",min:"0",className:"w-full bg-transparent outline-none text-sm",placeholder:"e.g. 1.5",value:T,onChange:C=>x(C.target.value)}),v.jsx("span",{className:"text-xs text-zinc-500 font-bold ml-2",children:"HRS"})]})]}),v.jsx("button",{onClick:O,disabled:P,className:"w-full bg-white text-black text-sm font-bold uppercase tracking-widest py-4 rounded-xl hover:bg-zinc-200 transition-colors",children:P?"Saving...":"Commit to Log"})]})]})})}function FI({user:s,logs:e,db:i,appId:r}){const[l,u]=re.useState({fitnessGoal:Sh[0],...s.profile}),[d,p]=re.useState(!1),y=re.useRef(null),g=re.useRef(!0);re.useEffect(()=>()=>{g.current=!1},[]);const T=async P=>{if(P.preventDefault(),!!i){p(!0);try{await Sn(Ut(i,"artifacts",r,"public","data","samfit_users",s.id),{...s,profile:l},{merge:!0}),alert("Profile synced! Make sure to log your Journal today to chart this weight.")}catch(se){alert("Error updating: "+se.message)}g.current&&p(!1)}},x=async P=>{const se=P.target.files[0];if(!se)return;if(se.size>8e5)return alert("Photo too large! Please choose a smaller image.");const ne=new FileReader;ne.onloadend=async()=>{const ge=ne.result;u(fe=>({...fe,photo:ge})),i&&await Sn(Ut(i,"artifacts",r,"public","data","samfit_users",s.id),{...s,profile:{...l,photo:ge}},{merge:!0})},ne.readAsDataURL(se)},N=e.filter(P=>P.userId===s.id),B=[...N].filter(P=>P.weightLog&&P.weightLog>0).sort((P,se)=>new Date(P.date)-new Date(se.date)).slice(-7),W=[...N].sort((P,se)=>new Date(se.date)-new Date(P.date)).slice(0,7),G=W.reduce((P,se)=>P+Number(se.water||0),0)>=14,ee=W.reduce((P,se)=>P+Number(se.sleep||0),0)>=49,te=W.length>=4;return v.jsxs("div",{className:"max-w-md mx-auto w-full pt-4 space-y-6",children:[v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6",children:[v.jsxs("div",{className:"flex flex-col items-center mb-8 pt-4",children:[v.jsxs("div",{className:"relative group cursor-pointer mb-4",onClick:()=>y.current?.click(),children:[v.jsxs("div",{className:"w-28 h-28 bg-black rounded-full border-2 border-zinc-700 flex items-center justify-center overflow-hidden relative",children:[l.photo?v.jsx("img",{src:mn(l.photo),className:"w-full h-full object-cover"}):v.jsx(ho,{size:48,className:"text-zinc-700"}),v.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(Ew,{size:24,className:"text-white"})})]}),v.jsx("input",{type:"file",accept:"image/*",ref:y,onChange:x,className:"hidden"})]}),v.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:l.firstName?`${l.firstName} ${l.lastName}`:s.email?.split("@")[0]})]}),v.jsxs("form",{onSubmit:T,className:"space-y-4",children:[v.jsxs("div",{className:"mb-4",children:[v.jsxs("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-2 flex items-center",children:[v.jsx(Zw,{size:12,className:"mr-1"})," Fitness Goal"]}),v.jsx("select",{value:l.fitnessGoal,onChange:P=>u({...l,fitnessGoal:P.target.value}),className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none",children:Sh.map(P=>v.jsx("option",{value:P,children:P},P))})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"H (M)"}),v.jsx("input",{type:"number",className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white font-mono outline-none",value:l.heightM,onChange:P=>u({...l,heightM:P.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"H (CM)"}),v.jsx("input",{type:"number",className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white font-mono outline-none",value:l.heightCm,onChange:P=>u({...l,heightCm:P.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"W (KG)"}),v.jsx("input",{type:"number",step:"0.1",className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-sm text-white font-mono outline-none",value:l.weight,onChange:P=>u({...l,weight:P.target.value})})]})]}),v.jsx("button",{type:"submit",disabled:d,className:"w-full bg-zinc-900 text-white border border-zinc-800 text-sm font-bold uppercase tracking-widest py-4 rounded-xl mt-4",children:"Save Profile"})]})]}),v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6 relative",children:[v.jsxs("h4",{className:"text-[10px] font-bold tracking-widest text-zinc-500 mb-4 uppercase flex items-center",children:[v.jsx(Lw,{size:14,className:"mr-2"})," Weekly Achievements"]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:`p-4 rounded-2xl border flex items-center justify-between ${te?"bg-amber-950/20 border-amber-900/50":"bg-black border-zinc-800"}`,children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(qm,{size:16,className:`mr-3 ${te?"text-amber-500":"text-zinc-700"}`}),v.jsx("span",{className:`text-sm font-bold tracking-wide ${te?"text-white":"text-zinc-500"}`,children:"Iron Discipline"})]}),v.jsx("span",{className:"text-[10px] font-mono text-zinc-500",children:"4+ Workouts"})]}),v.jsxs("div",{className:`p-4 rounded-2xl border flex items-center justify-between ${G?"bg-blue-950/20 border-blue-900/50":"bg-black border-zinc-800"}`,children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(th,{size:16,className:`mr-3 ${G?"text-blue-500":"text-zinc-700"}`}),v.jsx("span",{className:`text-sm font-bold tracking-wide ${G?"text-white":"text-zinc-500"}`,children:"Hydration Hero"})]}),v.jsx("span",{className:"text-[10px] font-mono text-zinc-500",children:"2L+ / Day"})]}),v.jsxs("div",{className:`p-4 rounded-2xl border flex items-center justify-between ${ee?"bg-purple-950/20 border-purple-900/50":"bg-black border-zinc-800"}`,children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(nh,{size:16,className:`mr-3 ${ee?"text-purple-500":"text-zinc-700"}`}),v.jsx("span",{className:`text-sm font-bold tracking-wide ${ee?"text-white":"text-zinc-500"}`,children:"Recovery Master"})]}),v.jsx("span",{className:"text-[10px] font-mono text-zinc-500",children:"7hr+ / Night"})]})]})]}),v.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl p-6 relative",children:[v.jsxs("h4",{className:"text-[10px] font-bold tracking-widest text-zinc-500 mb-8 uppercase flex items-center",children:[v.jsx(i2,{size:14,className:"mr-2"})," Weight Trajectory"]}),v.jsx("div",{className:"h-40 flex items-end justify-between space-x-2 w-full overflow-x-auto pb-4 pt-8 border-b border-zinc-900",children:B.length>1?B.map((P,se)=>{const ne=Math.max(...B.map(fe=>fe.weightLog||0),100),ge=(P.weightLog||0)/ne*100;return v.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-[30px] group relative h-full justify-end",children:[v.jsxs("div",{className:"absolute -top-6 opacity-0 group-hover:opacity-100 bg-white text-black font-bold font-mono text-[10px] px-2 py-1 rounded transition-opacity z-10 whitespace-nowrap",children:[P.weightLog," kg"]}),v.jsx("div",{className:"w-full max-w-[30px] bg-zinc-800 group-hover:bg-zinc-500 transition-colors rounded-t",style:{height:`${ge}%`,minHeight:"10%"}}),v.jsx("span",{className:"text-[9px] font-mono text-zinc-600 mt-2 whitespace-nowrap",children:P.date.substring(5)})]},se)}):v.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-zinc-600 text-xs absolute inset-0 px-8 text-center leading-relaxed",children:"Log your weight in the Daily Journal for at least 2 days to generate your progress chart!"})})]})]})}uw.createRoot(document.getElementById("root")).render(v.jsx(re.StrictMode,{children:v.jsx(II,{})}));
